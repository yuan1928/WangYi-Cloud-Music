(this["webpackJsonpwang-yi-yun"]=this["webpackJsonpwang-yi-yun"]||[]).push([[0],{204:function(t,e,n){},205:function(t,e,n){},206:function(t,e,n){},299:function(t,e,n){},300:function(t,e,n){},301:function(t,e,n){},302:function(t,e,n){},309:function(t,e,n){},310:function(t,e,n){},311:function(t,e,n){},312:function(t,e,n){},313:function(t,e,n){},314:function(t,e,n){},315:function(t,e,n){},316:function(t,e,n){},317:function(t,e,n){},318:function(t,e,n){},319:function(t,e,n){},320:function(t,e,n){},321:function(t,e,n){},322:function(t,e,n){},323:function(t,e,n){},324:function(t,e,n){},325:function(t,e,n){},326:function(t,e,n){},327:function(t,e,n){},328:function(t,e,n){},329:function(t,e,n){},330:function(t,e,n){},331:function(t,e,n){},332:function(t,e,n){},333:function(t,e,n){},334:function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),a=n(56),r=n.n(a),c=(n(204),n(205),n(8)),o=n(9),l=n(11),d=n(10),u=(n(53),n(65)),h=n(91),j=n(193),p=n(341),g=n(78),f=n(64),b=n(376),y=n(342),m=n(343),x=n(344),v=n(345),O=n(346),w=n(92),k=n(94),C=n(356),S=n(357),A=n(199),R=(n(206),n(22)),I=n(55),N=n.n(I),P=n(82),B=n.n(P),L=B.a.create({baseURL:"https://wangyi-cloud-music-api.vercel.app",timeout:5e3});function U(t){return L({url:"/captcha/sent?phone="+t,method:"get"})}function E(t,e){return L({url:"/captcha/verify?phone="+t+"&captcha="+e,method:"get"})}function D(t,e){return L({url:"/login/cellphone?phone="+t+"&password="+e,method:"get"})}function Q(){return L({url:"/logout",method:"get"})}function M(t){return L({url:"/user/detail?uid="+t,method:"get"})}var T=n.p+"static/media/wyy.33b5f59d.svg",z=n(1),F=new N.a,W=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={buttonGroup1:[{title:"\u540e\u9000",icon:g.a},{title:"\u524d\u8fdb",icon:f.a}],buttonGroup2:[{title:"1",icon:Object(z.jsx)(b.a,{})},{title:"2",icon:Object(z.jsx)(y.a,{})},{title:"3",icon:Object(z.jsx)(m.a,{})}],buttonGroup3:[{title:"mini\u6a21\u5f0f",icon:Object(z.jsx)(x.a,{})},{title:"\u6700\u5c0f\u5316",icon:Object(z.jsx)(v.a,{})},{title:"\u6700\u5927\u5316",icon:Object(z.jsx)(O.a,{})},{title:"\u5173\u95ed",icon:Object(z.jsx)(w.a,{})}],searchValue:"",clear:!1,clearButtonActive:Object(z.jsx)(u.a,{icon:Object(z.jsx)(w.a,{}),style:{border:"none"},onClick:function(){t.setState({searchValue:"",clear:!1})}}),clearButtonDeactive:Object(z.jsx)(u.a,{icon:Object(z.jsx)(w.a,{}),style:{color:"white",border:"none"}}),login:s.a.createRef(),history:null,avatarUrl:"",userName:""},t.changeSearch=function(e){t.setState({searchValue:e.target.value}),e.target.value.length?t.setState({clear:!0}):t.setState({clear:!1})},t.getSearch=function(){F.emit("update",t.state.searchValue,t.props.location.pathname.split("/")[2]),t.props.history.push("/search/"+t.state.searchValue+"/Infinity")},t.clear=function(){t.setState({searchValue:""})},t.login=function(){t.props.history.push("/login")},t.logout_=function(){Q().then((function(e){console.log(e),200===e.data.code&&(ei.emit("logout"),window.localStorage.removeItem("id"),window.localStorage.removeItem("cookie"),window.localStorage.removeItem("token"),t.setState({avatarUrl:"",userName:""}),t.props.history.push("/login"))}))},t.prev=function(){var e=t.props.location.pathname.split("/");e.shift();e[0],e[1],e[2];t.props.history.push("/user")},t.next=function(){},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;ei.addListener("login",(function(){null!==window.localStorage.getItem("id")&&M(window.localStorage.getItem("id")).then((function(e){t.setState({avatarUrl:e.data.profile.avatarUrl,userName:e.data.profile.nickname}),t.forceUpdate()}))})),li&&null!==window.localStorage.getItem("id")&&M(window.localStorage.getItem("id")).then((function(e){t.setState({avatarUrl:e.data.profile.avatarUrl,userName:e.data.profile.nickname})}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{id:"navRoot",children:[Object(z.jsx)("div",{id:"navLeft",children:Object(z.jsx)("img",{style:{width:"180px",objectFit:"cover"},src:T})}),Object(z.jsxs)("div",{id:"navCenter",children:[this.state.buttonGroup1.map((function(e){return Object(z.jsx)(h.a,{title:e.title,children:Object(z.jsx)(u.a,{size:"small",type:"primary",shape:"circle",icon:Object(z.jsx)(e.icon,{}),className:"navItem",style:{backgroundColor:"rgba(0,0,0,0.1)",border:"none",color:"azure"},onClick:"\u540e\u9000"===e.title?t.prev:t.next})},e.title)})),Object(z.jsx)("div",{id:"navTextInput",children:Object(z.jsx)(j.a,{placeholder:"\u641c\u7d22",value:this.state.searchValue,prefix:Object(z.jsx)(u.a,{icon:Object(z.jsx)(k.a,{}),style:{border:"none"}}),suffix:this.state.clear?this.state.clearButtonActive:this.state.clearButtonDeactive,style:{border:"none",borderRadius:"16px",color:"black"},onChange:this.changeSearch,onPressEnter:this.getSearch})}),Object(z.jsx)(h.a,{title:"\u542c\u6b4c\u8bc6\u66f2",children:Object(z.jsx)(u.a,{size:"small",type:"primary",shape:"circle",icon:Object(z.jsx)(C.a,{}),className:"navItem",style:{backgroundColor:"rgba(0,0,0,0.1)",border:"none",color:"azure"}})})]}),Object(z.jsxs)("div",{id:"navRight",children:[""===this.state.avatarUrl?Object(z.jsx)(p.a,{icon:Object(z.jsx)(S.a,{}),className:"navItem"}):Object(z.jsx)("img",{src:this.state.avatarUrl,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"},className:"navItem"}),""===this.state.userName?null:Object(z.jsx)("div",{className:"navItem",style:{color:"white",fontWeight:"bolder"},children:this.state.userName}),li?Object(z.jsx)(u.a,{size:"small",className:"navItem",icon:Object(z.jsx)(A.a,{}),style:{backgroundColor:"rgb(201,38,32)",border:"none",color:"azure"},onClick:this.logout_,children:"\u9000\u51fa"}):Object(z.jsx)(u.a,{size:"small",className:"navItem",icon:Object(z.jsx)(A.a,{}),ref:this.state.login,style:{backgroundColor:"rgb(201,38,32)",border:"none",color:"azure"},onClick:this.login,children:"\u672a\u767b\u5f55"}),Object(z.jsx)(u.a,{size:"small",className:"navItem",style:{backgroundColor:"rgb(201,38,32)",border:"none",color:"azure"},children:"\u5f00\u901aVIP"}),this.state.buttonGroup2.map((function(t){return Object(z.jsx)(u.a,{size:"small",type:"primary",shape:"circle",icon:t.icon,className:"navItem",style:{backgroundColor:"rgb(201,38,32)",border:"none",color:"azure"}},t.title)})),Object(z.jsx)("span",{className:"navItem span",children:"|"}),this.state.buttonGroup3.map((function(t){return Object(z.jsx)(h.a,{title:t.title,children:Object(z.jsx)(u.a,{size:"small",type:"primary",shape:"circle",icon:t.icon,className:"navItem test",style:{backgroundColor:"rgb(201,38,32)",border:"none",color:"azure"}})},t.title)}))]})]})}}]),n}(s.a.Component),H=Object(R.c)(W),J=n(358),K=n(359),Y=n(360),G=n(361),V=n(362),q=n(299),Z=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this,t)).click=void 0,i.state={buttonGroup:[{title:"\u53d1\u73b0\u97f3\u4e50",class:"clicked",href:"",id:0},{title:"\u64ad\u5ba2",class:"able",href:"",id:1},{title:"\u89c6\u9891",class:"able",href:"",id:2},{title:"\u670b\u53cb",class:"able",href:"",id:3},{title:"\u76f4\u64ad",class:"able",href:"",id:4},{title:"\u79c1\u4ebaFM",class:"able",href:"",id:5}],refs:s.a.createRef(),clicked:0,isLogin:!1,isShowSongsList:!0},i.click=function(t){i.state.refs.current.childNodes[i.state.clicked].className=i.state.clicked>=7?"ableSpecial":"able",i.state.refs.current.childNodes[t].className=t>=7?"clickedSpecial":"clicked",i.setState({clicked:t})},i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.state.refs.current.focus()}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{id:"sideRoot",ref:this.state.refs,children:[Object(z.jsx)("style",{ref:q,scoped:!0}),this.state.buttonGroup.map((function(e){return Object(z.jsx)("div",{className:e.class,onClick:function(){t.click(e.id)},children:e.title},e.id)})),this.state.isLogin?Object(z.jsx)("div",{className:"able",onClick:function(){t.click(6)},children:"\u6211\u7684\u97f3\u4e50"}):Object(z.jsx)("div",{className:"disabled",children:"\u6211\u7684\u97f3\u4e50"}),Object(z.jsxs)("div",{className:"ableSpecial",onClick:function(){t.click(7)},children:[Object(z.jsx)(J.a,{className:"sideIcon"}),Object(z.jsx)("div",{children:"\u672c\u5730\u4e0e\u4e0b\u8f7d"})]}),Object(z.jsxs)("div",{className:"ableSpecial",onClick:function(){t.click(8)},children:[Object(z.jsx)(K.a,{className:"sideIcon"}),Object(z.jsx)("div",{children:"\u6700\u8fd1\u64ad\u653e"})]}),Object(z.jsxs)("div",{className:this.state.isLogin?"ableSpecial":"disabled",id:"songsList",onClick:function(){t.setState({isShowSongsList:!t.state.isShowSongsList})},children:[Object(z.jsx)("div",{children:"\u521b\u5efa\u7684\u6b4c\u5355"}),Object(z.jsx)(A.a,{}),Object(z.jsx)(Y.a,{id:"songsListIcon",onClick:function(t){alert("gd"),t.stopPropagation()}})]}),this.state.isShowSongsList?Object(z.jsxs)("div",{className:"ableSpecial",onClick:function(){t.click(10)},id:"sideLike",children:[Object(z.jsx)(G.a,{className:"sideIcon"}),Object(z.jsx)("div",{children:"\u6211\u559c\u6b22\u7684\u97f3\u4e50"}),Object(z.jsx)(h.a,{title:"\u5f00\u542f\u5fc3\u52a8\u6a21\u5f0f",children:Object(z.jsx)(u.a,{size:"small",icon:Object(z.jsx)(V.a,{}),id:"sideLikeIcon",shape:"circle"})})]}):null]})}}]),n}(s.a.Component),$=n(300),X=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={volumeBar:s.a.createRef(),volumeSensing:s.a.createRef(),mouseDown:!1},t.click=function(e){var n=document.body.clientHeight-e.clientY-5-50;if(n>=0&&n<=90){var i=n/90;t.state.volumeBar.current.style.height=100*i+"%",t.props.player.current.volume=i}0===n&&t.props.event.emit("mute")},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.state.volumeBar.current.focus(),this.state.volumeSensing.current.focus();var t=this.state.volumeBar;this.props.event.addListener("setVolumeZero",(function(){t.current.style.height=0})),this.props.event.addListener("setVolumeHalf",(function(){t.current.style.height="50%"})),this.props.event.setMaxListeners(1/0)}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{id:"volumeSensing",onClick:function(e){t.click(e)},onMouseDown:function(){t.setState({mouseDown:!0})},onMouseUp:function(){t.setState({mouseDown:!1})},onMouseMove:function(e){t.state.mouseDown&&t.click(e)},ref:this.state.volumeSensing,style:{display:this.props.show?"flex":"none"},children:[Object(z.jsx)("style",{ref:$,scoped:!0}),Object(z.jsxs)("div",{id:"volumeBG",children:[Object(z.jsx)("div",{id:"volumeThumb"}),Object(z.jsx)("div",{id:"volumeBar",ref:this.state.volumeBar})]})]})}}]),n}(s.a.Component),_=X,tt=n(338),et=n(146),nt=n(373),it=n(372),st=n(371),at=n(370),rt=n(369),ct=n(368),ot=n(367),lt=n(366),dt=n(365),ut=n(364);function ht(t){return L({url:"/playlist/detail?id="+t,method:"get"})}function jt(t){return L({url:"/song/detail?ids="+t,method:"get"})}function pt(t,e){return L({url:"/comment/playlist?limit=10&id="+t+"&offset="+e,method:"get"})}function gt(t){return L({url:"/check/music?id="+t,method:"get"})}function ft(t){return L({url:"/song/url?id="+t,method:"get"})}var bt=new N.a,yt=n(301),mt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={cur:{img:"../../../../assets/icon.png",title:"title",singer:"singer"},like:!1,player:s.a.createRef(),isPlaying:!1,isPause:!1,progressBG:s.a.createRef(),progressBar:s.a.createRef(),curTime:"00:00",endTime:"00:00",mouseDown:!1,isMute:!1,isShowVolume:!1,input:s.a.createRef(),musicUrl:"",musicID:1/0,isShowingDetail:!1,keyword:"",selectedRow:1/0,songListID:1/0,albumID:1/0},t.getSongInfo=function(){jt(t.state.musicID).then((function(e){var n=e.data.songs[0];t.setState({cur:{img:n.al.picUrl,title:n.name,singer:n.ar[0].name}})}))},t.play=function(){var e=t.state.player;t.state.isPause||(e.current.src=t.state.musicUrl),t.setState((function(){return{isPlaying:!0,isPause:!1}}),(function(){e.current.play()}))},t.pause=function(){t.state.player.current.pause(),t.setState({isPlaying:!1,isPause:!0})},t.setTime=function(e,n){var i=Math.floor(e/60),s=i<10?"0"+i:i,a=Math.floor(e-60*i),r=a<10?"0"+a:a;n?t.setState({curTime:s+":"+r}):t.setState({endTime:s+":"+r})},t.updateProgress=function(){var e=t.state.player,n=t.state.progressBar,i=e.current.currentTime;n.current.style.width=100*i/e.current.duration+"%",t.setTime(i,!0),"00:00"!==t.state.endTime||Number.isNaN(e.current.duration)||t.setTime(e.current.duration,!1),t.state.curTime===t.state.endTime&&"00:00"!==t.state.curTime&&t.setState((function(){return{isPlaying:!1}}),(function(){})),t.props.playWithLyricsEvent.emit("updateLyric",i)},t.clickProgress=function(e){var n=t.state.progressBG.current.offsetLeft,i=t.state.progressBG.current.offsetWidth+n,s=e.clientX;if(s>=n&&s<=i){var a=t.state.progressBar,r=t.state.player,c=(s-n)/(i-n);a.current.width=100*c+"%";var o=r.current.duration*c;r.current.currentTime=o,t.setTime(o,!0),s===i&&t.setState({isPlaying:!1})}},t.setMute=function(e){var n=t.state.player;e?(n.current.volume=0,t.setState({isMute:!0}),bt.emit("setVolumeZero")):(n.current.volume=.5,t.setState({isMute:!1}),bt.emit("setVolumeHalf"))},t.showDetail=function(){if(t.state.isShowingDetail){var e=t.state.keyword;t.setState({isShowingDetail:!1}),"$"===e?t.props.history.push("/song-list/"+t.state.songListID):"$$"===e?t.props.history.push("/album/"+t.state.albumID):"$rank"===e?t.props.history.push("/user/rank"):"$new-song"===e?t.props.history.push("/user/new-song"):"$user"===e||"$another-song"===e?t.props.history.push("/user"):"$replay"===e?t.props.history.push("/play-history"):t.props.history.push("/search/"+t.state.keyword+"/"+t.state.selectedRow)}else t.props.history.push("/detail/"+t.state.musicID+"/"+t.state.keyword),t.setState({isShowingDetail:!0})},t.getUserSongs=function(){li&&null!==window.localStorage.getItem("id")?t.props.history.push("/play-history"):t.props.history.push("/login")},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.state.player.current.focus(),this.state.progressBar.current.focus(),this.state.progressBG.current.focus();var e=document.getElementById("audio");e&&e.addEventListener("timeupdate",this.updateProgress),bt.addListener("mute",(function(){t.setState({isMute:!0})})),this.props.playMusicEvent.addListener("play",(function(e,n,i,s){t.setState((function(){return{musicUrl:e,musicID:n,keyword:i,selectedRow:s,isPause:!1,endTime:"00:00",isPlaying:!0}}),(function(){t.getSongInfo(),t.play()}))})),this.props.playSongListEvent.addListener("play",(function(e,n,i){t.setState((function(){return{musicUrl:n,musicID:e,keyword:"$",selectedRow:1/0,isPause:!1,songListID:i,endTime:"00:00",isPlaying:!0}}),(function(){t.getSongInfo(),t.play()}))})),this.props.playSingleSongEvent.addListener("play",(function(e,n,i){t.setState((function(){return{musicUrl:n,musicID:e,keyword:i,selectedRow:1/0,isPause:!1,endTime:"00:00",isPlaying:!0}}),(function(){t.getSongInfo(),t.play()}))})),this.props.playAlbumSongEvent.addListener("play",(function(e,n,i){t.setState((function(){return{musicUrl:n,musicID:e,keyword:"$$",selectedRow:1/0,isPause:!1,albumID:i,endTime:"00:00",isPlaying:!0}}),(function(){t.getSongInfo(),t.play()}))})),this.props.replayEvent.addListener("play",(function(e,n){t.setState((function(){return{musicUrl:n,musicID:e,keyword:"$replay",selectedRow:1/0,isPause:!1,endTime:"00:00",isPlaying:!0}}),(function(){t.getSongInfo(),t.play()}))}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{id:"playRoot",children:[Object(z.jsx)("style",{ref:yt,scoped:!0}),Object(z.jsxs)("div",{id:"songInfo",children:[this.state.musicID===1/0?Object(z.jsx)(tt.a,{src:this.state.cur.img,width:"50px",height:"50px",fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",onClick:this.showDetail}):Object(z.jsxs)("div",{style:{position:"relative"},children:[Object(z.jsx)(h.a,{title:this.state.isShowingDetail?"\u6536\u8d77\u8be6\u60c5\u9875":"\u5c55\u5f00\u8be6\u60c5\u9875",children:Object(z.jsx)("img",{src:this.state.cur.img,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"3px",cursor:"pointer"},onClick:this.showDetail})}),this.state.isShowingDetail?Object(z.jsxs)("div",{style:{position:"absolute",top:"6px",left:"18px",color:"white"},children:[Object(z.jsx)("div",{children:Object(z.jsx)(et.a,{})}),Object(z.jsx)("div",{children:Object(z.jsx)(et.a,{})})]}):Object(z.jsxs)("div",{style:{position:"absolute",top:"6px",left:"18px",color:"white"},children:[Object(z.jsx)("div",{children:Object(z.jsx)(nt.a,{})}),Object(z.jsx)("div",{children:Object(z.jsx)(nt.a,{})})]})]}),Object(z.jsxs)("div",{id:"titleAndLikeAndSinger",children:[Object(z.jsxs)("div",{id:"titleAndLike",children:[Object(z.jsx)(h.a,{title:this.state.cur.title,children:Object(z.jsx)("div",{style:{whiteSpace:"nowrap",wordBreak:"keep-all",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"},children:this.state.cur.title})}),this.state.like?Object(z.jsx)(it.a,{twoToneColor:"red",onClick:function(){t.setState({like:!t.state.like})}}):Object(z.jsx)(G.a,{onClick:function(){t.setState({like:!t.state.like})}})]}),Object(z.jsx)(h.a,{title:this.state.cur.singer,children:Object(z.jsx)("div",{style:{whiteSpace:"nowrap",wordBreak:"keep-all",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"},children:this.state.cur.singer})})]})]}),Object(z.jsxs)("div",{id:"play",children:[Object(z.jsxs)("div",{id:"playButtons",children:[Object(z.jsx)(st.a,{className:"playItem"}),Object(z.jsx)(at.a,{className:"playItem"}),this.state.isPlaying?Object(z.jsx)(h.a,{title:"\u6682\u505c",children:Object(z.jsx)(rt.a,{onClick:this.pause})}):Object(z.jsx)(h.a,{title:"\u64ad\u653e",children:Object(z.jsx)(ct.a,{onClick:function(){return t.play()},className:"playItem"})}),Object(z.jsx)(ot.a,{className:"playItem"}),Object(z.jsx)(h.a,{title:"\u6253\u5f00\u6b4c\u8bcd",children:Object(z.jsx)(lt.a,{className:"playItem"})})]}),Object(z.jsxs)("div",{id:"playProgress",children:[Object(z.jsx)("audio",{ref:this.state.player,id:"audio"}),Object(z.jsxs)("div",{id:"playSensing",onClick:function(e){t.clickProgress(e)},onMouseDown:function(){t.setState({mouseDown:!0})},onMouseMove:function(e){t.state.mouseDown&&t.clickProgress(e)},onMouseUp:function(){t.setState({mouseDown:!1})},children:[this.state.curTime,Object(z.jsxs)("div",{id:"playBG",ref:this.state.progressBG,children:[Object(z.jsx)("div",{id:"playBar",ref:this.state.progressBar}),Object(z.jsx)("div",{id:"playThumb"})]}),this.state.endTime]})]})]}),Object(z.jsx)("div",{id:"volume",onClick:function(){t.setState({isShowVolume:!t.state.isShowVolume})},children:this.state.isMute?Object(z.jsx)(h.a,{title:"\u6062\u590d\u97f3\u91cf",children:Object(z.jsx)(dt.a,{onClick:function(e){t.setMute(!1),e.stopPropagation()}})}):Object(z.jsx)(h.a,{title:"\u9759\u97f3",children:Object(z.jsx)(ut.a,{onClick:function(e){t.setMute(!0),e.stopPropagation()}})})}),this.state.isShowVolume?Object(z.jsx)(_,{player:this.state.player,event:bt,show:!0}):Object(z.jsx)(_,{player:this.state.player,event:bt,show:!1}),Object(z.jsx)("div",{id:"playSongsList",onClick:this.getUserSongs,children:Object(z.jsx)(h.a,{title:"\u6700\u8fd1\u64ad\u653e",children:Object(z.jsx)(st.a,{})})})]})}}]),n}(s.a.Component),xt=Object(R.c)(mt),vt=n(79),Ot=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={current:t.props.menu[0].key,menu:s.a.createRef()},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){console.log(this.state.menu)}},{key:"render",value:function(){var t=this,e=this.state.current;return Object(z.jsx)("div",{id:"navMenuRoot",children:Object(z.jsx)(vt.a,{onClick:function(e){t.setState({current:e.key})},selectedKeys:[e],mode:"horizontal",ref:this.state.menu,children:this.props.menu.map((function(t){return Object(z.jsx)(vt.a.Item,{children:Object(z.jsx)("a",{onClick:function(){t.click()},children:t.title})},t.key)}))})})}}]),n}(s.a.Component),wt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={menuItem:[{key:"1",title:"\u4e2a\u6027\u63a8\u8350",click:function(){t.props.history.push("/")}},{key:"2",title:"\u4e13\u5c5e\u5b9a\u5236",click:function(){t.props.history.push("/user/personal")}},{key:"3",title:"\u6b4c\u5355",click:function(){t.props.history.push("/user/songs")}},{key:"4",title:"\u6392\u884c\u699c",click:function(){t.props.history.push("/user/rank")}},{key:"5",title:"\u6b4c\u624b",click:function(){t.props.history.push("/user/singer")}},{key:"6",title:"\u6700\u65b0\u97f3\u4e50",click:function(){t.props.history.push("/user/new")}}],curren:"1"},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsx)("div",{children:Object(z.jsx)(Ot,{menu:this.state.menuItem})})}}]),n}(s.a.Component),kt=Object(R.c)(wt),Ct=n(95),St=n.n(Ct),At=n(134),Rt=n(19),It=(n(302),n(353)),Nt=n(352);var Pt=n(340),Bt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={imgNums:10,carouselL:s.a.createRef(),carouselC:s.a.createRef(),carouselR:s.a.createRef(),carouselButtons:s.a.createRef(),curIdx:0,isSwitchShow:!1,switchLeft:s.a.createRef(),switchRight:s.a.createRef(),backLeft:Array(10),backCenter:Array(10),backRight:Array(10),timer:null},t.showSwitch=function(){if(!t.state.isSwitchShow){var e=t.state.switchLeft,n=t.state.switchRight;t.setState((function(){return{isSwitchShow:!0}}),(function(){e.current.style.display="flex",n.current.style.display="flex"}))}},t.hideSwitch=function(){if(t.state.isSwitchShow){var e=t.state.switchLeft,n=t.state.switchRight;t.setState((function(){return{isSwitchShow:!1}}),(function(){e.current.style.display="none",n.current.style.display="none"}))}},t.switchLeft=function(){var e=t.state.carouselButtons;e.current.children[t.state.curIdx].style.backgroundColor="white",t.setState((function(){return{curIdx:t.state.curIdx>0?t.state.curIdx-1:9}}),(function(){e.current.children[t.state.curIdx].style.backgroundColor="rgb(201,38,32)",t.state.carouselL.current.prev(),t.state.carouselC.current.prev(),t.state.carouselR.current.prev()}))},t.switchRight=function(){var e=t.state.carouselButtons;e.current.children[t.state.curIdx].style.backgroundColor="white",t.setState((function(){return{curIdx:t.state.curIdx<t.state.imgNums-1?t.state.curIdx+1:0}}),(function(){e.current.children[t.state.curIdx].style.backgroundColor="rgb(201,38,32)",t.state.carouselL.current.next(),t.state.carouselC.current.next(),t.state.carouselR.current.next()}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.state.carouselButtons.current.children[this.state.curIdx].style.backgroundColor="rgb(201,38,32)";var e=setInterval((function(){t.switchRight()}),3e3);this.setState({timer:e});var n=this.state.switchLeft,i=this.state.switchRight;this.setState((function(){return{isSwitchShow:!1}}),(function(){n.current.style.display="none",i.current.style.display="none"})),L({url:"/banner",method:"get"}).then((function(e){t.setState({imgNums:e.data.banners.length});var n,i=0,s=Object(Rt.a)(e.data.banners);try{for(s.s();!(n=s.n()).done;){var a=n.value;t.getImgDataUrl(a.imageUrl,i),i+=1}}catch(r){s.e(r)}finally{s.f()}}))}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.state.timer)}},{key:"getImgDataUrl",value:function(){var t=Object(At.a)(St.a.mark((function t(e,n){var i,s;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.get(e,{responseType:"blob"});case 2:i=t.sent,s=URL.createObjectURL(i.data),n===this.state.imgNums-2?(this.state.backLeft[n]=s,this.state.backCenter[n+1]=s,this.state.backRight[0]=s):n===this.state.imgNums-1?(this.state.backLeft[n]=s,this.state.backCenter[0]=s,this.state.backRight[1]=s):(this.state.backLeft[n]=s,this.state.backCenter[n+1]=s,this.state.backRight[n+2]=s);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.carouselButtons;return Object(z.jsxs)("div",{onMouseOver:this.showSwitch,onMouseOut:this.hideSwitch,id:"carouselRoot",children:[Object(z.jsx)("div",{id:"carouselLeft",children:Object(z.jsx)(Pt.a,{dots:!1,ref:this.state.carouselL,children:this.state.backLeft.map((function(t){return Object(z.jsx)("div",{style:{position:"relative"},children:Object(z.jsx)("img",{src:t,alt:"",style:{width:"100%",objectFit:"cover"}})})}))})}),Object(z.jsx)("div",{id:"carouselCenter",children:Object(z.jsx)(Pt.a,{dots:!1,ref:this.state.carouselC,children:this.state.backCenter.map((function(t){return Object(z.jsx)("div",{children:Object(z.jsx)("img",{src:t,alt:"",style:{width:"100%",objectFit:"cover"}})})}))})}),Object(z.jsx)("div",{id:"carouselRight",children:Object(z.jsx)(Pt.a,{dots:!1,ref:this.state.carouselR,children:this.state.backRight.map((function(t){return Object(z.jsx)("div",{children:Object(z.jsx)("img",{src:t,alt:"",style:{width:"100%",objectFit:"cover"}})})}))})}),Object(z.jsx)("div",{id:"carouselButtons",ref:this.state.carouselButtons,children:Array(this.state.imgNums).fill(0).map((function(n,i){return Object(z.jsx)("div",{className:"carouselButton",onClick:function(){e.current.children[t.state.curIdx].style.backgroundColor="white",t.setState((function(t,e){return{curIdx:i}}),(function(){e.current.children[t.state.curIdx].style.backgroundColor="rgb(201,38,32)",t.state.carouselL.current.goTo(i),t.state.carouselC.current.goTo(i),t.state.carouselR.current.goTo(i)}))}},i)}))}),Object(z.jsx)("div",{id:"carouselSwitchLeft",ref:this.state.switchLeft,onClick:this.switchLeft,children:Object(z.jsx)(It.a,{})}),Object(z.jsx)("div",{id:"carouselSwitchRight",ref:this.state.switchRight,onClick:this.switchRight,children:Object(z.jsx)(Nt.a,{})})]})}}]),n}(s.a.Component),Lt=Bt,Ut=(n(309),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).click=function(e){t.props.history.push("/song-list/"+e)},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{className:this.props.className,onClick:function(){t.click(t.props.item.id)},style:{marginBottom:"20px"},children:[Object(z.jsx)("img",{style:{width:"100%",objectFit:"cover",top:0,borderRadius:"5px",cursor:"pointer"},src:this.props.item.imgUrl}),Object(z.jsx)("div",{style:{textAlign:"start"},children:this.props.item.title}),Object(z.jsxs)("div",{style:{position:"absolute",top:"5px",right:"5px",color:"white"},children:[void 0!==this.props.item.playCount?Math.ceil(this.props.item.playCount/1e4)+"\u4e07":null,void 0!==this.props.item.playCount?Object(z.jsx)(ct.a,{}):null]}),Object(z.jsxs)("div",{style:{position:"absolute",bottom:"86px",left:"25px",color:"white"},children:[void 0!==this.props.item.author?Object(z.jsx)(S.a,{}):null,void 0!==this.props.item.author?this.props.item.author:null]})]},this.props.item.id)}}]),n}(s.a.Component)),Et=Object(R.c)(Ut),Dt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={songsInfo:[],dataUrl:[],isRequest:!1},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.state.isRequest||L({url:"/personalized?limit=10",method:"get"}).then((function(e){var n,i=Object(Rt.a)(e.data.result);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.songsInfo.push({imgUrl:s.picUrl,playCount:s.playCount,title:s.name,id:s.id})}}catch(a){i.e(a)}finally{i.f()}return new Promise((function(t){t("")}))})).then((function(e){t.forceUpdate(),t.setState({isRequest:!0})}))}},{key:"render",value:function(){return Object(z.jsxs)("div",{id:"recommendSongsListRoot",children:[Object(z.jsxs)("span",{style:{width:"90%",marginLeft:"10%",fontSize:"20px",fontWeight:"bolder",display:"flex",alignItems:"center"},children:["\u63a8\u8350\u6b4c\u5355",Object(z.jsx)(f.a,{})]}),Object(z.jsx)("div",{style:{width:"80%",marginLeft:"10%",display:"flex",flexWrap:"wrap"},children:this.state.songsInfo.map((function(t){return Object(z.jsx)(Et,{className:"recommendSongContainer",item:t,titlePos:"200px"},t.id)}))})]})}}]),n}(s.a.Component),Qt=Dt,Mt=(n(310),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={songsInfo:[],isRequest:!1},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.state.isRequest||L({url:"/personalized/privatecontent",method:"get"}).then((function(e){var n,i=Object(Rt.a)(e.data.result);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.songsInfo.push({imgUrl:s.picUrl,title:s.name,id:s.id})}}catch(a){i.e(a)}finally{i.f()}return new Promise((function(t){t("")}))})).then((function(e){t.forceUpdate(),t.setState({isRequest:!0})}))}},{key:"render",value:function(){return Object(z.jsxs)("div",{id:"BroadcastRoot",children:[Object(z.jsxs)("span",{style:{width:"90%",marginLeft:"10%",fontSize:"20px",fontWeight:"bolder",display:"flex",alignItems:"center"},children:["\u72ec\u5bb6\u653e\u9001",Object(z.jsx)(f.a,{})]}),Object(z.jsx)("div",{style:{width:"80%",marginLeft:"10%",display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"},children:this.state.songsInfo.map((function(t){return Object(z.jsx)(Et,{className:"broadcastContainer",item:t,titlePos:"130px"},t.id)}))})]})}}]),n}(s.a.Component)),Tt=Mt,zt=(n(311),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={songsInfo:[],isRequest:!1},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.state.isRequest||L({url:"/personalized?limit=4",method:"get"}).then((function(e){var n,i=Object(Rt.a)(e.data.result);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.songsInfo.push({imgUrl:s.picUrl,title:s.name,id:s.id})}}catch(a){i.e(a)}finally{i.f()}return new Promise((function(t){t("")}))})).then((function(e){t.forceUpdate(),t.setState({isRequest:!0})}))}},{key:"render",value:function(){return Object(z.jsxs)("div",{id:"MVRoot",children:[Object(z.jsxs)("span",{style:{width:"90%",marginLeft:"10%",fontSize:"20px",fontWeight:"bolder",display:"flex",alignItems:"center"},children:["\u63a8\u8350MV",Object(z.jsx)(f.a,{})]}),Object(z.jsx)("div",{style:{width:"80%",marginLeft:"10%",display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"},children:this.state.songsInfo.map((function(t){return Object(z.jsx)(Et,{className:"mvContainer",item:t,titlePos:"250px"},t.id)}))})]})}}]),n}(s.a.Component)),Ft=zt,Wt=(n(312),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={songsInfo:[],isRequest:!1},t.play=function(t){gt(t).then((function(){ft(t).then((function(e){_n.emit("play",t,e.data.data[0].url,"$user")}))}),(function(){alert("\u6ca1\u6709\u64ad\u653e\u6e90")}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.state.isRequest||L({url:"/personalized/newsong?limit=12",method:"get"}).then((function(e){var n,i=Object(Rt.a)(e.data.result);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.songsInfo.push({imgUrl:s.picUrl,title:s.name,description:void 0!==s.song.alias[0]?s.song.alias[0]:"",id:s.id,author:s.song.artists[0].name})}}catch(a){i.e(a)}finally{i.f()}return new Promise((function(t){t("")}))})).then((function(e){t.forceUpdate(),t.setState({isRequest:!0})}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{id:"newMusicRoot",children:[Object(z.jsxs)("span",{style:{width:"90%",marginLeft:"10%",fontSize:"20px",fontWeight:"bolder",display:"flex",alignItems:"center"},children:["\u6700\u65b0\u97f3\u4e50",Object(z.jsx)(f.a,{})]}),Object(z.jsx)("div",{style:{width:"80%",marginLeft:"10%",display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"},children:this.state.songsInfo.map((function(e){return Object(z.jsxs)("div",{className:"newMusicContainer",style:{position:"relative"},children:[Object(z.jsx)("div",{children:Object(z.jsx)(h.a,{title:"\u70b9\u51fb\u64ad\u653e",children:Object(z.jsx)("img",{src:e.imgUrl,style:{height:"50px",objectFit:"cover",borderRadius:"2px",cursor:"pointer"},alt:"",onClick:function(){t.play(e.id)}})})}),Object(z.jsx)(h.a,{title:e.title+(e.description.length?"("+e.description+")":""),children:Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",cursor:"pointer"},children:[Object(z.jsxs)("div",{style:{height:"50%",display:"flex",flexWrap:"nowrap",overflow:"hidden"},children:[Object(z.jsx)("div",{style:{height:"100%"},children:e.title}),e.description.length?Object(z.jsx)("div",{style:{color:"lightgrey"},children:"("+e.description+")"}):null]}),Object(z.jsx)("div",{style:{color:"grey"},children:e.author})]})})]},e.id)}))})]})}}]),n}(s.a.Component)),Ht=Wt,Jt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{position:"relative",height:"80vh",marginTop:"5px",display:"flex",flexWrap:"wrap",overflow:"scroll"},children:[Object(z.jsx)(Lt,{}),Object(z.jsx)(Qt,{}),Object(z.jsx)(Tt,{}),Object(z.jsx)(Ht,{}),Object(z.jsx)(Ft,{})]})}}]),n}(s.a.Component),Kt=Jt;n(313);var Yt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={songsList:[]},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;L({url:"/personalized?limit=100",method:"get"}).then((function(e){console.log(e);var n,i=Object(Rt.a)(e.data.result);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.songsList.push({id:s.id,imgUrl:s.picUrl,title:s.name,playCount:s.playCount})}}catch(a){i.e(a)}finally{i.f()}t.forceUpdate()}))}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%",height:"80vh",display:"flex",flexWrap:"wrap",position:"relative",overflowY:"scroll"},children:[Object(z.jsx)("div",{style:{fontSize:"20px",fontWeight:"bolder",width:"100%",display:"flex",padding:"20px"},children:"\u4f60\u7684\u96f7\u8fbe\u6b4c\u5355"}),this.state.songsList.map((function(t){return Object(z.jsx)("div",{className:"personalPageSongListItem",children:Object(z.jsx)(Et,{item:t,titlePos:"220px"})})}))]})}}]),n}(s.a.Component),Gt=Yt;function Vt(t,e){return L(e===1/0?{url:"/top/playlist/highquality?limit=50&cat="+t,method:"get"}:{url:"/top/playlist/highquality?limit=50&before="+e+"&cat="+t,method:"get"})}n(314);var qt=n(190),Zt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={curSongListsNum:0,curTag:"\u5168\u90e8",curOffset:1/0,curSongLists:[],mainConsole:["\u534e\u8bed","\u6d41\u884c","\u6447\u6eda","\u6c11\u8c23","\u7535\u5b50","\u53e6\u7c7b/\u72ec\u7acb","\u8f7b\u97f3\u4e50","\u7efc\u827a","\u5f71\u89c6\u539f\u58f0","ACG"],mainConsoleRef:s.a.createRef()},t.getCurInfo=function(){t.setState((function(){return{curSongLists:[]}}),(function(){Vt(t.state.curTag,t.state.curOffset).then((function(e){var n,i=Object(Rt.a)(e.data.playlists);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.curSongLists.push({playCount:s.playCount,imgUrl:s.coverImgUrl,author:s.creator.nickname,title:s.name,id:s.id,updateTime:s.updateTime})}}catch(a){i.e(a)}finally{i.f()}t.setState({curOffset:t.state.curSongLists[t.state.curSongLists.length-1].updateTime,curSongListsNum:e.data.total}),t.forceUpdate()}))}))},t.chooseTag=function(e){var n,i=Object(Rt.a)(t.state.mainConsoleRef.current.children);try{for(i.s();!(n=i.n()).done;){n.value.id=""}}catch(s){i.e(s)}finally{i.f()}t.state.mainConsoleRef.current.children[e].id="songListsPageTagButtonSelected",t.setState((function(){return{curTag:t.state.mainConsole[e],curOffset:1/0}}),(function(){t.getCurInfo()}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getCurInfo()}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%",height:"80vh",display:"flex",flexWrap:"wrap",position:"relative",overflowY:"scroll"},children:[Object(z.jsx)("div",{style:{fontSize:"20px",fontWeight:"bolder",width:"100%",display:"flex",padding:"20px"},children:"\u7cbe\u54c1\u6b4c\u5355"}),Object(z.jsxs)("div",{id:"songListsPageConsole",children:[Object(z.jsxs)("div",{style:{border:"gray solid 1px",borderRadius:"10px",padding:"3px 8px 3px 8px"},children:[this.state.curTag,Object(z.jsx)(f.a,{})]}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",alignContent:"center"},ref:this.state.mainConsoleRef,children:this.state.mainConsole.map((function(e,n){return Object(z.jsx)("div",{className:"songListsPageTagButton",onClick:function(){t.chooseTag(n)},children:e})}))})]}),this.state.curSongLists.map((function(t){return Object(z.jsx)("div",{className:"songsListPageSongListItem",children:Object(z.jsx)(Et,{item:t,titlePos:"220px"})})})),Object(z.jsx)("div",{style:{width:"100%",margin:"20px 0 50px 0",display:"flex",justifyContent:"center"},children:Object(z.jsx)(qt.a,{defaultCurrent:1,defaultPageSize:50,total:this.state.curSongListsNum,onChange:function(){t.getCurInfo()}})})]})}}]),n}(s.a.Component),$t=Zt;function Xt(){return L({url:"/toplist/detail",method:"get"})}function _t(t){return L({url:"/playlist/detail?id="+t,method:"get"})}n(315);var te=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).click=function(e){t.props.history.push("/song-list/"+e)},t.play=function(t){gt(t).then((function(){ft(t).then((function(e){_n.emit("play",t,e.data.data[0].url,"$rank")}))}),(function(){alert("\u6ca1\u6709\u64ad\u653e\u6e90")}))},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[Object(z.jsxs)("div",{style:{width:"13%",cursor:"pointer"},children:[Object(z.jsx)("img",{style:{width:"100%",objectFit:"cover",borderRadius:"3px"},src:this.props.rank.cover,onClick:function(){t.click(t.props.rank.id)},alt:""}),Object(z.jsxs)("div",{onClick:function(){t.click(t.props.rank.id)},children:["\u67e5\u770b\u5168\u90e8",Object(z.jsx)(f.a,{})]})]}),Object(z.jsx)("div",{style:{width:"80%"},children:this.props.rank.songs.map((function(e,n){return Object(z.jsxs)("div",{className:n%2===0?"officialRankListItemEven":"officialRankListItemOdd",onClick:function(){t.play(e.id)},children:[Object(z.jsxs)("div",{style:{display:"flex",alignContent:"center"},children:[n<3?Object(z.jsxs)("div",{style:{color:"rgb(201,38,32)",fontWeight:"bolder",marginRight:"8px"},children:[n+1,"-"]}):Object(z.jsxs)("div",{style:{marginRight:"8px"},children:[n+1,"-"]}),Object(z.jsx)("div",{children:e.title}),e.alias.length?Object(z.jsxs)("div",{style:{color:"grey"},children:["(",e.alias,")"]}):null]}),Object(z.jsx)("div",{style:{color:"grey"},children:e.singer})]})}))})]})}}]),n}(s.a.Component),ee=Object(R.c)(te),ne=(n(316),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={officialRankID:[],globalRankID:[],officialRank:[],globalRank:[]},t.getInfo=function(){Xt().then((function(e){var n,i,s=Object(Rt.a)(e.data.list);try{for(s.s();!(i=s.n()).done;){var a=i.value;"\u98d9\u5347\u699c"===(n=a.name)||"\u65b0\u6b4c\u699c"===n||"\u539f\u521b\u699c"===n||"\u70ed\u6b4c\u699c"===n?t.state.officialRankID.push(a.id):t.state.globalRankID.push(a.id)}}catch(r){s.e(r)}finally{s.f()}})).then((function(){Promise.all(t.state.officialRankID.map((function(e){return t.getOfficialRank(e)}))).then((function(){Promise.all(t.state.globalRankID.map((function(e){return t.getGlobalRank(e)}))).then((function(){t.forceUpdate()}))}))}),(function(){console.log("\u8d85\u65f6"),t.forceUpdate()}))},t.getOfficialRank=function(e){return _t(e).then((function(e){t.state.officialRank.push({name:e.data.playlist.name,id:e.data.playlist.id,cover:e.data.playlist.coverImgUrl,songs:e.data.playlist.tracks.slice(0,5).map((function(t){return{title:t.name,alias:void 0!==t.alia[0]?t.alia[0]:"",singer:t.ar[0].name,id:t.id}}))})}))},t.getGlobalRank=function(e){return _t(e).then((function(e){var n=e.data.playlist;t.state.globalRank.push({title:n.name,id:n.id,imgUrl:n.coverImgUrl,description:n.description,playCount:n.playCount})}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"componentDidUpdate",value:function(t,e,n){0!==this.state.officialRank.length&&0!==this.state.globalRank.length||(console.log("\u66f4\u65b0"),this.getInfo())}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%",height:"80vh",display:"flex",flexWrap:"wrap",justifyContent:"center",position:"relative",overflowY:"scroll",padding:"20px"},children:[Object(z.jsx)("div",{style:{fontSize:"20px",fontWeight:"bolder",width:"100%",display:"flex"},children:"\u5b98\u65b9\u699c"}),this.state.officialRank.map((function(t){return Object(z.jsx)("div",{style:{width:"100%",margin:"20px 0 20px 0"},children:Object(z.jsx)(ee,{rank:t})})})),Object(z.jsx)("div",{style:{fontSize:"20px",fontWeight:"bolder",width:"100%",display:"flex"},children:"\u5168\u7403\u699c"}),Object(z.jsx)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"},children:this.state.globalRank.map((function(t){return Object(z.jsx)("div",{className:"rankListPageSongListItem",children:Object(z.jsx)(Et,{item:t,titlePos:"220px"})})}))})]})}}]),n}(s.a.Component)),ie=ne,se=n(4);function ae(t,e,n,i){return L({url:"/artist/list?type="+t+"&area="+e+"&initial="+n+"&offset="+30*(i-1),method:"get"})}n(317);var re=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={areaButtons:[{name:"\u5168\u90e8",value:-1},{name:"\u534e\u8bed",value:7},{name:"\u6b27\u7f8e",value:96},{name:"\u65e5\u672c",value:8},{name:"\u97e9\u56fd",value:16},{name:"\u5176\u4ed6",value:0}],typeButtons:[{name:"\u5168\u90e8",value:-1},{name:"\u7537\u6b4c\u624b",value:1},{name:"\u5973\u6b4c\u624b",value:2},{name:"\u4e50\u961f\u6b4c\u624b",value:3}],initialButtons:[{name:"\u70ed\u95e8",value:-1},{name:"#",value:0}],curArea:-1,curType:-1,curInitial:-1,areaButtonsRef:s.a.createRef(),typeButtonsRef:s.a.createRef(),initialButtonsRef:s.a.createRef(),curPage:1,isPageIncrease:!0,curSingers:[],curTotal:30},t.getSingersList=function(){ae(t.state.curType,t.state.curArea,t.state.curInitial,t.state.curPage).then((function(e){console.log(e),t.setState((function(){return{curSingers:[],curTotal:e.data.more&&t.state.isPageIncrease?t.state.curTotal+30:t.state.curTotal}}),(function(){var n,i=Object(Rt.a)(e.data.artists);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.curSingers.push({name:s.name,id:s.id,imgUrl:s.picUrl})}}catch(a){i.e(a)}finally{i.f()}t.forceUpdate()}))}))},t.clickArea=function(e,n){t.setState((function(){return{curArea:e.value,curPage:1,curTotal:30,isPageIncrease:!0}}),(function(){for(var e=0;e<t.state.areaButtonsRef.current.children.length;e++)t.state.areaButtonsRef.current.children[e].id=e===2*n+1?"singerPageSelectedAreaButton":"";t.getSingersList()}))},t.click=function(e,n,i){t.setState((function(){var t;return t={},Object(se.a)(t,i,e.value),Object(se.a)(t,"curPage",1),Object(se.a)(t,"curTotal",30),Object(se.a)(t,"isPageIncrease",!0),t}),(function(){var e,s;"curArea"===i?(e=t.state.areaButtonsRef.current.children,s="singerPageSelectedAreaButton"):"curType"===i?(e=t.state.typeButtonsRef.current.children,s="singerPageSelectedTypeButton"):(e=t.state.initialButtonsRef.current.children,s="singerPageSelectedInitialButton");for(var a=0;a<e.length;a++)e[a].id=a===2*n+1?s:"";t.getSingersList()}))},t.switchPage=function(e){var n=e>t.state.curPage;t.setState((function(){return{curPage:e,isPageIncrease:n}}),(function(){t.getSingersList()}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){for(var t=65;t<=90;t++)this.state.initialButtons.push({name:String.fromCharCode(t),value:String.fromCharCode(t+32)});this.getSingersList()}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{id:"singerPageRoot",children:[Object(z.jsxs)("div",{className:"singerPageConsole",ref:this.state.areaButtonsRef,children:[Object(z.jsx)("div",{className:"singerPageButtonTile",children:"\u8bed\u79cd:"}),this.state.areaButtons.map((function(e,n){return n<t.state.areaButtons.length-1?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"singerPageButton",id:e.value===t.state.curArea?"singerPageSelectedAreaButton":"",onClick:function(){t.click(e,n,"curArea")},children:e.name}),Object(z.jsx)("div",{className:"singerPageButton",style:{color:"lightgray"},children:"|"})]}):Object(z.jsx)("div",{className:"singerPageButton",onClick:function(){t.click(e,n,"curArea")},children:e.name})}))]}),Object(z.jsxs)("div",{className:"singerPageConsole",ref:this.state.typeButtonsRef,children:[Object(z.jsx)("div",{className:"singerPageButtonTile",children:"\u5206\u7c7b:"}),this.state.typeButtons.map((function(e,n){return n<t.state.typeButtons.length-1?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"singerPageButton",id:e.value===t.state.curType?"singerPageSelectedTypeButton":"",onClick:function(){t.click(e,n,"curType")},children:e.name}),Object(z.jsx)("div",{className:"singerPageButton",style:{color:"lightgray"},children:"|"})]}):Object(z.jsx)("div",{className:"singerPageButton",onClick:function(){t.click(e,n,"curType")},children:e.name})}))]}),Object(z.jsxs)("div",{className:"singerPageConsole",ref:this.state.initialButtonsRef,children:[Object(z.jsx)("div",{className:"singerPageButtonTile",children:"\u7b5b\u9009:"}),this.state.initialButtons.map((function(e,n){return n<t.state.initialButtons.length-1?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"singerPageButtonInitial",id:e.value===t.state.curInitial?"singerPageSelectedInitialButton":"",onClick:function(){t.click(e,n,"curInitial")},children:e.name}),Object(z.jsx)("div",{className:"singerPageButtonInitial",style:{color:"lightgray"},children:"|"})]}):Object(z.jsx)("div",{className:"singerPageButtonInitial",onClick:function(){t.click(e,n,"curInitial")},children:e.name})}))]}),this.state.curSingers.map((function(t){return Object(z.jsxs)("div",{style:{width:"20%",padding:"15px 15px 0 0"},children:[Object(z.jsx)("img",{src:t.imgUrl,style:{width:"100%",objectFit:"cover",borderRadius:"3px"}}),Object(z.jsx)("div",{children:t.name})]})})),Object(z.jsx)("div",{style:{width:"100%",margin:"10px 0 20px 0"},children:Object(z.jsx)(qt.a,{defaultCurrent:1,defaultPageSize:30,total:this.state.curTotal,onChange:function(e){t.switchPage(e)}})})]})}}]),n}(s.a.Component),ce=re,oe=n(24),le=["\u5168\u90e8","\u534e\u8bed","\u6b27\u7f8e","\u97e9\u56fd","\u65e5\u672c"],de=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={buttons:s.a.createRef()},t.click=function(e){for(var n=t.state.buttons.current.children,i=0;i<n.length;i++)n[i].style.fontWeight=i===e?"bolder":"normal"},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.state.buttons.current.children[0].style.fontWeight="bolder"}},{key:"render",value:function(){var t=this;return Object(z.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center"},ref:this.state.buttons,children:le.map((function(e,n){return Object(z.jsx)("div",{style:{width:"5%",padding:"2px 6px 2px 6px",cursor:"pointer"},onClick:function(){t.click(n),t.props.click(n)},children:e})}))})}}]),n}(s.a.Component),ue=de;function he(t){return L({url:"/top/song?type="+t,method:"get"})}function je(t,e){return L({url:"/top/album?limit=30&area="+t+"&offset="+e,method:"get"})}n(318);var pe=[0,7,96,8,16],ge=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={curType:0,newSongs:[]},t.getSongs=function(){he(t.state.curType).then((function(e){var n,i=1,s=Object(Rt.a)(e.data.data);try{for(s.s();!(n=s.n()).done;){var a=n.value;t.state.newSongs.push({id:a.id,idx:String(i).padStart(3,"0"),name:a.name,alia:void 0!==a.alias[0]?a.alias[0]:"",singer:a.artists[0].name,albumName:a.album.name,albumAlia:void 0!==a.album.alias[0]?a.album.alias[0]:"",duration:t.getDuration(a.duration),musicUrl:a.mp3Url,picUrl:a.album.picUrl}),i+=1}}catch(r){s.e(r)}finally{s.f()}t.forceUpdate()}))},t.getDuration=function(t){t=Math.floor(t/1e3);var e=Math.floor(t/60),n=t-60*e;return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")},t.click=function(e){t.setState((function(){return{curType:pe[e],newSongs:[]}}),(function(){t.getSongs()}))},t.play=function(t){gt(t).then((function(){ft(t).then((function(e){_n.emit("play",t,e.data.data[0].url,"$new-song")}))}),(function(){alert("\u6ca1\u6709\u64ad\u653e\u6e90")}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getSongs()}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsx)(ue,{click:this.click}),Object(z.jsx)("div",{style:{marginBottom:"20px"}}),this.state.newSongs.map((function(e,n){return Object(z.jsxs)("div",{className:n%2===0?"NewSongsPageRowEven":"NewSongsPageRowOdd",onClick:function(){t.play(e.id)},children:[Object(z.jsxs)("div",{style:{width:"35%",display:"flex",alignItems:"center",marginRight:"20px"},children:[Object(z.jsx)("div",{style:{color:"rgba(0,0,0,0.4)",marginRight:"5px"},children:e.idx}),Object(z.jsxs)("div",{style:{position:"relative",color:"white",marginRight:"5px"},children:[Object(z.jsx)("img",{src:e.picUrl,style:{width:"60px",objectFit:"cover",borderRadius:"3px"}}),Object(z.jsx)(ct.a,{style:{position:"absolute",top:"25px",left:"25px"}})]}),Object(z.jsx)(h.a,{title:e.alia.length?e.name+"("+e.alia+")":e.name,children:Object(z.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",overflow:"hidden",height:"20px"},children:[e.name,e.alia.length?Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)"},children:["(",e.alia,")"]}):null]})})]}),Object(z.jsx)("div",{style:{width:"15%",display:"flex"},children:e.singer}),Object(z.jsxs)("div",{style:{display:"flex",width:"40%"},children:[e.albumName,e.albumAlia.length?Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)"},children:["(",e.albumAlia,")"]}):null]}),Object(z.jsx)("div",{style:{width:"5%",color:"rgba(0,0,0,0.4)"},children:e.duration})]})}))]})}}]),n}(s.a.Component),fe=ge,be=["ALL","ZH","EA","KR","JP"],ye=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={curArea:"ALL",newCDs:[],curPage:1,curTotal:0},t.getCDs=function(){je(t.state.curArea,30*(t.state.curPage-1)).then((function(e){var n,i=e.data.monthData,s=1;for(var a in i){if(s>50)break;n=i[a],t.state.newCDs.push({id:n.id,name:n.name,alia:void 0!==n.alias[0]?n.alias[0]:"",singer:n.artist.name,picUrl:n.picUrl}),s+=1}t.setState((function(){return{curTotal:t.state.newCDs.length}}),(function(){t.forceUpdate()}))}))},t.click=function(e){t.setState((function(){return{curArea:be[e],newCDs:[],curPage:1}}),(function(){t.getCDs()}))},t.play=function(e){gt(e).then((function(){ft(e).then((function(e){_n.emit("play",e.data.data[0].url,t.props.location.pathname)}))}),(function(){alert("\u6ca1\u6709\u64ad\u653e\u6e90")}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getCDs()}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"},children:[Object(z.jsx)(ue,{click:this.click}),this.state.newCDs.map((function(e){return Object(z.jsxs)("div",{style:{width:"20%",padding:"20px",marginBottom:"30px",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",position:"relative"},children:[Object(z.jsx)("img",{src:e.picUrl,style:{width:"100%",objectFit:"cover",borderRadius:"3px",marginBottom:"5px",cursor:"pointer"},onClick:function(){t.play(e.id)},alt:""}),Object(z.jsx)(h.a,{title:e.name+(e.alia.length?"("+e.alia+")":e.alia),children:Object(z.jsxs)("div",{style:{width:"100%",height:"50px",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",cursor:"pointer"},children:[Object(z.jsx)("div",{style:{textAlign:"start",whiteSpace:"nowrap",wordBreak:"keep-all",textOverflow:"ellipsis",overflow:"hidden"},children:e.name}),e.alia.length?Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.3)",textJustify:"initial",display:"inline",whiteSpace:"nowrap",wordBreak:"keep-all",textOverflow:"ellipsis",overflow:"hidden"},children:["(",e.alia,")"]}):null]})}),Object(z.jsxs)("div",{style:{position:"absolute",top:"25px",right:"25px",color:"white"},children:[Object(z.jsx)(S.a,{}),e.singer]})]})}))]})}}]),n}(s.a.Component),me=ye,xe=(n(319),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={newSongButtonRef:s.a.createRef(),newCdButtonRef:s.a.createRef()},t.click=function(e){var n="song"===e?t.state.newSongButtonRef.current:t.state.newCdButtonRef.current,i="song"===e?t.state.newCdButtonRef.current:t.state.newSongButtonRef.current;n.id="newSongsPageSelectedButton",i.id="newSongsPageAnotherButton",t.props.history.push("/user/new/"+e)},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%",height:"80vh",display:"flex",flexWrap:"wrap",justifyContent:"center",position:"relative",overflowY:"scroll",padding:"20px"},children:[Object(z.jsxs)("div",{style:{width:"30%",height:"30px",border:"rgba(0,0,0,0.2) solid 0.5px",borderRadius:"10px",display:"flex",alignItems:"center",justifySelf:"center"},children:[Object(z.jsx)("div",{ref:this.state.newSongButtonRef,onClick:function(){t.click("song")},id:"newSongsPageSelectedButton",children:"\u65b0\u6b4c\u901f\u9012"}),Object(z.jsx)("div",{ref:this.state.newCdButtonRef,onClick:function(){t.click("cd")},id:"newSongsPageAnotherButton",children:"\u65b0\u789f\u4e0a\u67b6"})]}),Object(z.jsx)(oe.c,{path:"/user/new/song",component:fe}),Object(z.jsx)(oe.c,{path:"/user/new/cd",component:me}),"/user/new"===this.props.location.pathname?Object(z.jsx)(oe.b,{to:"/user/new/song"}):null]})}}]),n}(s.a.Component)),ve=Object(oe.e)(xe),Oe=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsxs)("div",{id:"userRoot",children:[Object(z.jsx)(kt,{}),Object(z.jsx)(oe.c,{path:"/user/user",component:Kt}),Object(z.jsx)(oe.c,{path:"/user/personal",component:Gt}),Object(z.jsx)(oe.c,{path:"/user/songs",component:$t}),Object(z.jsx)(oe.c,{path:"/user/rank",component:ie}),Object(z.jsx)(oe.c,{path:"/user/singer",component:ce}),Object(z.jsx)(oe.c,{path:"/user/new",component:ve}),"/user"===this.props.location.pathname?Object(z.jsx)(oe.b,{to:"/user/user"}):null]})}}]),n}(s.a.Component),we=Object(R.c)(Oe),ke=(n(320),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={menuItem:[{key:"1",title:"\u5355\u66f2",click:function(){t.props.history.push("/search/singles/"+t.props.keyword)}},{key:"2",title:"\u6b4c\u624b",click:function(){t.props.history.push("/search/singers/"+t.props.keyword)}},{key:"3",title:"\u4e13\u8f91",click:function(){t.props.history.push("/search/albums/"+t.props.keyword)}},{key:"4",title:"\u89c6\u9891",click:function(){t.props.history.push("/search/videos/"+t.props.keyword)}},{key:"5",title:"\u6b4c\u5355",click:function(){t.props.history.push("/search/song-lists/"+t.props.keyword)}},{key:"6",title:"\u6b4c\u8bcd",click:function(){t.props.history.push("/search/lyrics/"+t.props.keyword)}},{key:"7",title:"\u7528\u6237",click:function(){t.props.history.push("/search/users/"+t.props.keyword)}}]},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsx)("div",{children:Object(z.jsx)(Ot,{menu:this.state.menuItem})})}}]),n}(s.a.Component)),Ce=Object(R.c)(ke);function Se(t,e){return L({url:"/search?limit=100&keywords="+t+"&offset="+e,method:"get"})}function Ae(t,e){return L({url:"/search?type=10&keywords="+t+"&offset="+e,method:"get"})}function Re(t,e){return L({url:"/search?type=100&keywords="+t+"&offset="+e,method:"get"})}function Ie(t,e){return L({url:"/search?limit=40&type=1014&keywords="+t+"&offset="+e,method:"get"})}function Ne(t,e){return L({url:"/search?limit=40&type=1000&keywords="+t+"&offset="+e,method:"get"})}function Pe(t,e){return L({url:"/search?limit=40&type=1006&keywords="+t+"&offset="+e,method:"get"})}function Be(t,e){return L({url:"/search?limit=30&type=1002&keywords="+t+"&offset="+e,method:"get"})}var Le=n(339),Ue=n(337),Ee=n(374),De=n(354),Qe=(n(321),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:this.props.match.params.keyword})}}]),n}(s.a.Component)),Me=Object(R.c)(Qe),Te=function(t){t=Math.floor(t/1e3);var e=Math.floor(t/60),n=String(t-60*e);return(e<10?"0"+e:e.toString())+":"+(1===n.length?"0"+n:n.toString())},ze=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={keyword:"",resNum:0,curRes:[],maxHot:0,selectedRow:1/0,selectedSongId:1/0,emitPlayInfo:!1},t.columns=function(){return[{title:" ",dataIndex:"idx",key:"idx",render:function(e){return Object(z.jsx)("div",{children:e===t.state.selectedRow?Object(z.jsx)(Ee.a,{style:{color:"rgb(201,38,32)"}}):e})}},{title:" ",key:"like",render:function(){return Object(z.jsx)(G.a,{})}},{title:" ",key:"download",render:function(){return Object(z.jsx)(De.a,{})}},{title:"\u97f3\u4e50\u6807\u9898",key:"title",dataIndex:"title",render:function(e){return t.highlightKeyWord(e)}},{title:"\u6b4c\u624b",key:"author",dataIndex:"author",render:function(e){return t.highlightKeyWord(e)}},{title:"\u4e13\u8f91",key:"album",dataIndex:"album",render:function(e){return t.highlightKeyWord(e)}},{title:"\u65f6\u957f",key:"duration",dataIndex:"duration",render:function(t){return Object(z.jsx)("div",{style:{color:"dimgrey"},children:t})}},{title:"\u70ed\u5ea6",key:"hot",dataIndex:"hot",render:function(e){return Object(z.jsx)(Le.a,{percent:100*e/t.state.maxHot,showInfo:!1,strokeColor:"rgb(201,38,32)",trailColor:"lightgray"})}}]},t.highlightKeyWord=function(e){var n=new RegExp(t.state.keyword,"g"),i=e.replace(n,"$#"+t.state.keyword+"#$").split("$");return Object(z.jsx)("div",{style:{display:"flex"},children:i.map((function(t){return"#"===t[0]&&"#"===t[t.length-1]?Object(z.jsx)(Me,{}):Object(z.jsx)("div",{style:{color:"dimgray"},children:t})}))})},t.switchPage=function(e){Se(t.state.keyword,100*(e-1)).then((function(n){void 0!==n.data.result.songs?t.getCurSongs(n.data.result.songs,e):alert("\u8bf7\u6c42\u8d44\u6e90\u65e0\u8bbf\u95ee\u6743\u9650")}))},t}return Object(o.a)(n,[{key:"getCurSongs",value:function(t,e){var n,i=[],s=1,a=100*(e-1),r=0,c=Object(Rt.a)(t);try{for(c.s();!(n=c.n()).done;){var o=n.value;if(!(s+a<=this.state.resNum))break;i.push({like:!1,download:!1,title:o.name,author:o.artists[0].name,album:o.album.name,duration:Te(o.duration),hot:o.mark,id:o.id,idx:s+a,key:o.id}),o.mark>r&&(r=o.mark),s+=1}}catch(l){c.e(l)}finally{c.f()}this.setState({curRes:i,maxHot:r})}},{key:"componentDidMount",value:function(){var t=this;this.setState((function(){return{keyword:t.props.match.params.keyword,selectedRow:t.props.match.params.selectedRow}}),(function(){Se(t.state.keyword,0).then((function(e){t.setState({resNum:e.data.result.songCount}),t.getCurSongs(e.data.result.songs,1)}))}))}},{key:"componentDidUpdate",value:function(t,e,n){var i,s=this;this.state.keyword!==this.props.match.params.keyword&&this.setState((function(){return{keyword:s.props.match.params.keyword,selectedRow:s.props.match.params.selectedRow}}),(function(){Se(s.state.keyword,0).then((function(t){s.setState({resNum:t.data.result.songCount,selectedRow:1/0}),s.getCurSongs(t.data.result.songs,1)}))})),this.state.emitPlayInfo&&((i=this.state.selectedSongId,L({url:"/song/url?id="+i,method:"get"})).then((function(t){s.props.playMusicEvent.emit("play",t.data.data[0].url,s.state.selectedSongId,s.state.keyword,s.state.selectedRow)})),this.setState({emitPlayInfo:!1}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{children:[Object(z.jsxs)("span",{style:{display:"flex",fontSize:"25px",fontWeight:"bolder",padding:"5px"},children:["\u627e\u5230",this.state.resNum,"\u9996\u5355\u66f2"]}),Object(z.jsx)("div",{style:{width:"100%"},children:Object(z.jsx)(Ue.a,{columns:this.columns(),dataSource:this.state.curRes,pagination:{defaultPageSize:100,total:this.state.resNum,onChange:function(e){t.switchPage(e)}},id:"searchSinglesResTable",onRow:function(e){return{onClick:function(){B.a.get("https://wangyi-cloud-music-api.vercel.app/check/music?id="+e.id).then((function(n){t.setState({selectedRow:e.idx,emitPlayInfo:!0,selectedSongId:e.id}),t.forceUpdate()}),(function(){return alert("\u62b1\u6b49\uff0c\u6682\u65e0\u64ad\u653e\u6e90")}))}}},rowClassName:function(e){return e.idx===t.state.selectedRow?"selectedRow":""}})})]})}}]),n}(s.a.Component),Fe=Object(R.c)(ze),We=(n(322),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={keyword:t.props.match.params.keyword,page:1,resNum:0,singers:[]},t.getInfo=function(){t.setState((function(){return{singers:[]}}),(function(){Re(t.state.keyword,30*(t.state.page-1)).then((function(e){var n=new RegExp(t.state.keyword,"g");t.setState({resNum:e.data.result.artistCount});var i,s=Object(Rt.a)(e.data.result.artists);try{for(s.s();!(i=s.n()).done;){var a=i.value;t.state.singers.push({id:a.id,name:a.name.replace(n,"$#"+t.state.keyword+"#$").split("$"),alia:void 0!==a.alias[0]?a.alias[0]:"",avatarUrl:a.picUrl})}}catch(r){s.e(r)}finally{s.f()}t.forceUpdate()}))}))},t.switchPage=function(e){t.setState((function(){return{page:e}}),(function(){t.getInfo()}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("span",{style:{display:"flex",fontSize:"25px",fontWeight:"bolder",padding:"5px"},children:["\u627e\u5230",this.state.resNum,"\u4f4d\u6b4c\u624b"]}),this.state.singers.map((function(t,e){return Object(z.jsxs)("div",{className:e%2===0?"searchPageSingersRowEven":"searchPageSingersRowOdd",children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)("img",{src:t.avatarUrl,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"50%",marginRight:"5px"},alt:""}),t.name.map((function(t){return"#"===t[0]&&"#"===t[t.length-1]?Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:t.slice(1,t.length-1)}):Object(z.jsx)("div",{children:t})})),t.alia.length?Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)"},children:["(",t.alia,")"]}):null]}),Object(z.jsx)("div",{style:{color:"rgb(201,38,32)"},children:Object(z.jsx)(S.a,{})})]})})),Object(z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0 20px 0"},children:Object(z.jsx)(qt.a,{total:this.state.resNum,pageSize:30,onChange:this.switchPage})})]})}}]),n}(s.a.Component)),He=Object(R.c)(We),Je=(n(323),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={keyword:t.props.match.params.keyword,page:1,resNum:0,albums:[]},t.getInfo=function(){Ae(t.state.keyword,30*(t.state.page-1)).then((function(e){var n=new RegExp(t.state.keyword,"g");t.setState({resNum:e.data.result.albumCount});for(var i,s=e.data.result.albums,a=s.length<=30?0:30*(t.state.page-1),r=a+29;a<=r&&a<s.length;)i=s[a],t.state.albums.push({id:i.id,name:i.name.replace(n,"$#"+t.state.keyword+"#$").split("$"),alia:void 0!==i.alias[0]?i.alias[0]:"",coverUrl:i.picUrl,singer:i.artist.name.replace(n,"$#"+t.state.keyword+"#$").split("$"),singerAlia:void 0!==i.artist.alias[0]?i.artist.alias[0]:""}),a+=1;t.forceUpdate()}))},t.switchPage=function(e){t.setState((function(){return{page:e,albums:[]}}),(function(){t.getInfo()}))},t.getAlbumDetail=function(e){t.props.history.push("/album/"+e)},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("span",{style:{display:"flex",fontSize:"25px",fontWeight:"bolder",padding:"5px"},children:["\u627e\u5230",this.state.resNum,"\u5f20\u4e13\u8f91"]}),this.state.albums.map((function(e,n){return Object(z.jsxs)("div",{className:n%2===0?"searchPageAlbumsRowEven":"searchPageAlbumsRowOdd",onClick:function(){t.getAlbumDetail(e.id)},children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"50%"},children:[Object(z.jsx)("img",{src:e.coverUrl,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"3px",marginRight:"5px"},alt:""}),e.name.map((function(t){return"#"===t[0]&&"#"===t[t.length-1]?Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:t.slice(1,t.length-1)}):Object(z.jsx)("div",{children:t})})),e.alia.length?Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)"},children:["(",e.alia,")"]}):null]}),Object(z.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center"},children:[e.singer.map((function(t){return"#"===t[0]&&"#"===t[t.length-1]?Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:t.slice(1,t.length-1)}):Object(z.jsx)("div",{children:t})})),e.singerAlia.length?Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)"},children:["(",e.singerAlia,")"]}):null]})]})})),Object(z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0 20px 0"},children:Object(z.jsx)(qt.a,{total:this.state.resNum,pageSize:30,onChange:this.switchPage})})]})}}]),n}(s.a.Component)),Ke=Object(R.c)(Je),Ye=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={keyword:t.props.match.params.keyword,page:1,resNum:0,videos:[]},t.getInfo=function(){t.setState((function(){return{videos:[]}}),(function(){Ie(t.state.keyword,40*(t.state.page-1)).then((function(e){var n=new RegExp(t.state.keyword,"g");t.setState({resNum:e.data.result.videoCount});var i,s=Object(Rt.a)(e.data.result.videos);try{for(s.s();!(i=s.n()).done;){var a=i.value;t.state.videos.push({name:a.title,nameArr:a.title.replace(n,"$#"+t.state.keyword+"#$").split("$"),playCount:a.playTime,duration:t.getDuration(a.durationms),creator:String(a.creator[0].userName),coverUrl:a.coverUrl})}}catch(r){s.e(r)}finally{s.f()}t.forceUpdate()}))}))},t.getDuration=function(t){t=Math.floor(t/1e3);var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=t-3600*e-60*n;return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(i).padStart(2,"0")},t.switchPage=function(e){t.setState((function(){return{page:e}}),(function(){t.getInfo()}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("span",{style:{display:"flex",fontSize:"25px",fontWeight:"bolder",padding:"5px"},children:["\u627e\u5230",this.state.resNum,"\u4e2a\u89c6\u9891"]}),Object(z.jsx)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center"},children:this.state.videos.map((function(t){return Object(z.jsxs)("div",{style:{width:"25%",padding:"10px",position:"relative"},children:[Object(z.jsx)("img",{src:t.coverUrl,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"3px",marginBottom:"3px"},alt:""}),Object(z.jsx)(h.a,{title:t.name,children:Object(z.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",cursor:"pointer"},children:t.nameArr.map((function(t){return"#"===t[0]&&"#"===t[t.length-1]?Object(z.jsx)("div",{style:{color:"cornflowerblue",whiteSpace:"nowrap",wordBreak:"keep-all",overflow:"hidden",textOverflow:"ellipsis"},children:t.slice(1,t.length-1)}):Object(z.jsx)("div",{style:{whiteSpace:"nowrap",wordBreak:"keep-all",overflow:"hidden",textOverflow:"ellipsis"},children:t})}))})}),Object(z.jsxs)("div",{style:{textAlign:"start",color:"rgba(0,0,0,0.4)"},children:["by","      "+t.creator]}),Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"absolute",top:"15px",right:"15px",color:"white"},children:[Object(z.jsx)(ct.a,{}),Math.floor(t.playCount/1e4)>0?String(Math.floor(t.playCount/1e4))+"\u4e07":t.playCount]}),Object(z.jsx)("div",{style:{display:"flex",alignItems:"center",position:"absolute",top:"185px",right:"15px",color:"white"},children:t.duration})]})}))}),Object(z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0 20px 0"},children:Object(z.jsx)(qt.a,{total:this.state.resNum,pageSize:40,onChange:this.switchPage})})]})}}]),n}(s.a.Component),Ge=Object(R.c)(Ye),Ve=(n(324),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={keyword:t.props.match.params.keyword,page:1,resNum:0,songLists:[]},t.getInfo=function(){t.setState((function(){return{songLists:[]}}),(function(){Ne(t.state.keyword,30*(t.state.page-1)).then((function(e){var n=new RegExp(t.state.keyword,"g");t.setState({resNum:e.data.result.playlistCount}),console.log(e);var i,s=Object(Rt.a)(e.data.result.playlists);try{for(s.s();!(i=s.n()).done;){var a=i.value;t.state.songLists.push({id:a.id,name:a.name.replace(n,"$#"+t.state.keyword+"#$").split("$"),size:a.trackCount,creator:a.creator.nickname,playCount:a.playCount,coverUrl:a.coverImgUrl})}}catch(r){s.e(r)}finally{s.f()}t.forceUpdate()}))}))},t.switchPage=function(e){t.setState((function(){return{page:e}}),(function(){t.getInfo()}))},t.getSongListDetail=function(e){t.props.history.push("/song-list/"+e)},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("span",{style:{display:"flex",fontSize:"25px",fontWeight:"bolder",padding:"5px"},children:["\u627e\u5230",this.state.resNum,"\u5f20\u6b4c\u5355"]}),this.state.songLists.map((function(e,n){return Object(z.jsxs)("div",{className:n%2===0?"searchPageSongListsRowEven":"searchPageSongListsRowOdd",onClick:function(){t.getSongListDetail(e.id)},children:[Object(z.jsx)("img",{src:e.coverUrl,style:{width:"50px",objectFit:"cover",borderRadius:"3px",marginRight:"5px"}}),Object(z.jsx)("div",{style:{width:"50%",display:"flex",alignItems:"center"},children:e.name.map((function(t){return"#"===t[0]&&"#"===t[t.length-1]?Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:t.slice(1,t.length-1)}):Object(z.jsx)("div",{children:t})}))}),Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)",width:"10%"},children:[e.size,"\u9996"]}),Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)",width:"20%",textAlign:"start"},children:["by","     "+e.creator]}),Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)",width:"10%",display:"flex",alignItems:"center"},children:[Object(z.jsx)(ct.a,{}),Math.floor(e.playCount/1e4)>0?String(Math.floor(e.playCount/1e4))+"\u4e07":e.playCount]})]})})),Object(z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0 20px 0"},children:Object(z.jsx)(qt.a,{total:this.state.resNum,pageSize:30,onChange:this.switchPage})})]})}}]),n}(s.a.Component)),qe=Object(R.c)(Ve),Ze=(n(325),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={keyword:t.props.match.params.keyword,page:1,resNum:0,lyrics:[],maxHot:0,showAll:[]},t.getInfo=function(){t.setState((function(){return{lyrics:[],showAll:[]}}),(function(){Pe(t.state.keyword,40*(t.state.page-1)).then((function(e){console.log(e),t.setState({resNum:e.data.result.songCount});var n=40*(t.state.page-1)+1;if(e.data.result.songs){var i,s=Object(Rt.a)(e.data.result.songs);try{for(s.s();!(i=s.n()).done;){var a=i.value;t.state.lyrics.push({idx:n,songId:a.id,songName:a.name,keyLyric:t.getKeyLyric(a.lyrics.range[0].first,a.lyrics.range[0].second,a.lyrics.txt),allLyric:a.lyrics.txt.split("\n"),singer:a.artists[0].name,album:a.album.name,duration:t.getDuration(a.duration),hot:a.mark,showAll:!1}),a.mark>t.state.maxHot&&t.setState({maxHot:a.mark}),n+=1}}catch(r){s.e(r)}finally{s.f()}t.forceUpdate()}}))}))},t.switchPage=function(e){e<3?t.setState((function(){return{page:e}}),(function(){t.getInfo()})):alert("\u65e0\u67e5\u770b\u6743\u9650")},t}return Object(o.a)(n,[{key:"getKeyLyric",value:function(t,e,n){var i=t-3>=0?"..."+n.slice(t-3,t):n.slice(0,t),s=e+2<=n.length-1?n.slice(e,e+3)+"...":n.slice(e);return[i,n.slice(t,e),s]}},{key:"getDuration",value:function(t){t=Math.floor(t/1e3);var e=Math.floor(t/60),n=t-60*e;return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")}},{key:"componentDidMount",value:function(){this.getInfo()}},{key:"showAllOrKeyLyric",value:function(t){var e=this.state.lyrics[t];e.showAll=!e.showAll,this.forceUpdate()}},{key:"copyLyric",value:function(t){navigator.clipboard.writeText(this.state.lyrics[t].allLyric.join().replace(/,/g,"\n")).then((function(){alert("\u590d\u5236\u6210\u529f\uff01")}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("span",{style:{display:"flex",fontSize:"25px",fontWeight:"bolder",padding:"5px"},children:["\u627e\u5230",this.state.resNum,"\u9996\u6b4c\u8bcd"]}),Object(z.jsxs)("div",{className:"searchPageLyricsRowOdd",children:[Object(z.jsx)("div",{style:{width:"10%"}}),Object(z.jsx)("div",{style:{width:"30%",textAlign:"start"},children:"\u97f3\u4e50\u6807\u9898"}),Object(z.jsx)("div",{style:{width:"10%",textAlign:"start"},children:"\u6b4c\u624b"}),Object(z.jsx)("div",{style:{width:"10%",textAlign:"start"},children:"\u4e13\u8f91"}),Object(z.jsx)("div",{style:{width:"10%"},children:"\u65f6\u957f"}),Object(z.jsx)("div",{style:{width:"5%"},children:"\u70ed\u5ea6"})]}),this.state.lyrics.map((function(e,n){return Object(z.jsxs)("div",{className:n%2===0?"searchPageLyricsRowEven":"searchPageLyricsRowOdd",children:[Object(z.jsxs)("div",{style:{width:"10%",display:"flex",justifyContent:"space-evenly",color:"rgba(0,0,0,0.4)"},children:[e.idx,Object(z.jsx)("div",{children:Object(z.jsx)(G.a,{})}),Object(z.jsx)("div",{children:Object(z.jsx)(De.a,{})})]}),Object(z.jsxs)("div",{style:{width:"30%"},children:[Object(z.jsx)("div",{style:{textAlign:"start"},children:e.songName}),Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)("div",{style:{color:"rgba(0,0,0,0.4)"},children:e.keyLyric[0]}),Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:e.keyLyric[1]}),Object(z.jsx)("div",{style:{color:"rgba(0,0,0,0.4)"},children:e.keyLyric[2]})]}),e.showAll?e.allLyric.map((function(t){return Object(z.jsx)("div",{style:{textAlign:"start"},children:t})})):null,Object(z.jsx)("div",{style:{display:"none"},className:"copyLyric",children:e.allLyric})]}),Object(z.jsx)("div",{style:{width:"10%",textAlign:"start",color:"rgba(0,0,0,0.4)"},children:e.singer}),Object(z.jsx)("div",{style:{width:"10%",textAlign:"start",color:"rgba(0,0,0,0.4)"},children:e.album}),Object(z.jsxs)("div",{style:{width:"10%"},children:[Object(z.jsx)("div",{style:{color:"rgba(0,0,0,0.4)"},children:e.duration}),Object(z.jsx)("div",{className:"searchPageLyricsButton",onClick:function(){t.showAllOrKeyLyric(n)},children:e.showAll?"\u6536\u8d77\u6b4c\u8bcd":"\u5c55\u5f00\u6b4c\u8bcd"}),Object(z.jsx)("div",{className:"searchPageLyricsButton",onClick:function(){t.copyLyric(n)},children:"\u590d\u5236\u6b4c\u8bcd"})]}),Object(z.jsx)("div",{style:{width:"5%"},children:Object(z.jsx)(Le.a,{percent:Math.ceil(100*e.hot/t.state.maxHot),showInfo:!1,strokeColor:"rgb(201,38,32)",trailColor:"rgba(0,0,0,0.2)"})})]},e.songId)})),Object(z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0 20px 0"},children:Object(z.jsx)(qt.a,{total:this.state.resNum,pageSize:40,onChange:this.switchPage})})]})}}]),n}(s.a.Component)),$e=Object(R.c)(Ze),Xe=(n(326),n(351)),_e=n(348),tn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={keyword:t.props.match.params.keyword,page:1,resNum:0,users:[]},t.getInfo=function(){t.setState((function(){return{users:[]}}),(function(){Be(t.state.keyword,30*(t.state.page-1)).then((function(e){var n=new RegExp(t.state.keyword,"g");0===t.state.resNum&&t.state.resNum!==e.data.result.userprofileCount&&t.setState({resNum:e.data.result.userprofileCount}),console.log(e);var i,s=Object(Rt.a)(e.data.result.userprofiles);try{for(s.s();!(i=s.n()).done;){var a=i.value;t.state.users.push({id:a.userId,name:a.nickname.replace(n,"$#"+t.state.keyword+"#$").split("$"),gender:a.gender,tag:a.description,avatarUrl:a.avatarUrl})}}catch(r){s.e(r)}finally{s.f()}console.log(t.state.users),t.forceUpdate()}))}))},t.switchPage=function(e){t.setState((function(){return{page:e}}),(function(){t.getInfo()}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){return Object(z.jsxs)("div",{children:[Object(z.jsxs)("span",{style:{display:"flex",fontSize:"25px",fontWeight:"bolder",padding:"5px"},children:["\u627e\u5230",this.state.resNum,"\u4f4d\u7528\u6237"]}),this.state.users.map((function(t,e){return Object(z.jsxs)("div",{className:e%2===0?"searchPageUsersRowEven":"searchPageUsersRowOdd",children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)("img",{src:t.avatarUrl,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"50%",marginRight:"5px"},alt:""}),t.name.map((function(t){return"#"===t[0]&&"#"===t[t.length-1]?Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:t.slice(1,t.length-1)}):Object(z.jsx)("div",{children:t})})),1===t.gender?Object(z.jsx)("div",{style:{color:"cornflowerblue",marginLeft:"5px"},children:Object(z.jsx)(Xe.a,{})}):null,2===t.gender?Object(z.jsx)("div",{style:{color:"pink",marginLeft:"5px"},children:Object(z.jsx)(_e.a,{})}):null]}),Object(z.jsx)("div",{style:{color:"rgba(0,0,0,0.4)"},children:t.tag})]})})),Object(z.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"20px 0 20px 0"},children:Object(z.jsx)(qt.a,{total:this.state.resNum,pageSize:30,onChange:this.switchPage})})]})}}]),n}(s.a.Component),en=Object(R.c)(tn),nn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsx)(Fe,{playMusicEvent:Zn})}}]),n}(s.a.Component),sn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={keyword:t.props.match.params.keyword,row:t.props.match.params.selectedRow,subPage:"singles"},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;F.addListener("update",(function(e,n){t.setState({keyword:e,row:1/0,subPage:n})}))}},{key:"render",value:function(){return console.log(this.props.location.pathname,this.state.keyword),Object(z.jsxs)("div",{id:"searchRoot",style:{width:"100%",overflowY:"scroll"},children:[Object(z.jsx)(Ce,{keyword:this.state.keyword}),Object(z.jsx)(oe.c,{path:"/search/singles/:keyword",component:nn}),Object(z.jsx)(oe.c,{path:"/search/singers/:keyword",component:He}),Object(z.jsx)(oe.c,{path:"/search/albums/:keyword",component:Ke}),Object(z.jsx)(oe.c,{path:"/search/videos/:keyword",component:Ge}),Object(z.jsx)(oe.c,{path:"/search/song-lists/:keyword",component:qe}),Object(z.jsx)(oe.c,{path:"/search/lyrics/:keyword",component:$e}),Object(z.jsx)(oe.c,{path:"/search/users/:keyword",component:en}),this.props.location.pathname==="/search/"+this.state.keyword+"/"+this.state.row?Object(z.jsx)(oe.b,{to:"/search/"+this.state.subPage+"/"+this.state.keyword}):null]})}}]),n}(s.a.Component),an=Object(oe.e)(sn);function rn(t){return L({url:"/lyric?id="+t,method:"get"})}function cn(t){return L({url:"/song/detail?ids="+t,method:"get"})}function on(t){return L({url:"/simi/song?id="+t,method:"get"})}function ln(t,e){return L({url:"/comment/music?limit=10&id="+t+"&offset="+e,method:"get"})}n(327);var dn=n(355),un=n(347),hn=n(349),jn=n(336),pn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={curID:t.props.match.params.id,lyrics:[""],timePoints:[0],curIdx:0,songName:"",songAlia:"",singer:"",singerAlia:"",picUrl:"",similarSongs:[],curPage:1,commentsNum:0,comments:[],isUpdate:!1},t.getLyrics=function(){rn(t.state.curID).then((function(e){var n=e.data.lrc.lyric.split("\n");n.pop();var i,s=Object(Rt.a)(n);try{for(s.s();!(i=s.n()).done;){var a=i.value;t.state.lyrics.push(a.slice(a.search("]")+1)),t.state.timePoints.push(t.getTimePoints(a))}}catch(r){s.e(r)}finally{s.f()}t.forceUpdate()}))},t.getOtherInfo=function(){cn(t.state.curID).then((function(e){var n=e.data.songs[0];t.setState({songName:n.al.name,songAlia:void 0===n.alia[0]?"":n.alia[0],singer:n.ar[0].name,singerAlia:n.ar[0].alias.length?n.ar[0].alias[0]:"",picUrl:n.al.picUrl})})),on(t.state.curID).then((function(e){var n,i=1,s=Object(Rt.a)(e.data.songs);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(5===i)break;t.state.similarSongs.push({title:a.name+(a.alias.length?"("+a.alias[0]+")":"")+"-"+a.artists[0].name,picUrl:a.album.picUrl,songUrl:a.mp3Url,id:a.id}),i+=1}}catch(r){s.e(r)}finally{s.f()}})),ln(t.state.curID,t.state.curPage-1).then((function(e){t.setState({commentsNum:e.data.total}),t.getCurComments(e)}))},t.getTimePoints=function(t){var e=t.slice(1,t.search("]")).split(":");return e.map((function(t,n){return Math.pow(60,e.length-1-n)*Number(t)})).reduce((function(t,e){return t+e}))},t.getCurComments=function(e){t.setState({comments:[]});var n,i=Object(Rt.a)(e.data.comments);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.comments.push({user:s.user.nickname,avatar:s.user.avatarUrl,comment:s.content,time:s.timeStr,likeCount:s.likedCount,replyUser:s.beReplied.length?s.beReplied[0].user.nickname:" ",replyComment:s.beReplied.length?s.beReplied[0].content:" "})}}catch(a){i.e(a)}finally{i.f()}},t.switchPage=function(e){ln(t.state.curID,10*(e-1)).then((function(e){t.getCurComments(e),console.log(t.state.comments.length),t.forceUpdate()}))},t.play=function(e){gt(e).then((function(){ft(e).then((function(n){_n.emit("play",e,n.data.data[0].url,"$another-song"),t.setState((function(){return{curID:e,isUpdate:!0,lyrics:[],similarSongs:[],comments:[]}}),(function(){t.forceUpdate()}))}))}),(function(){alert("\u6ca1\u6709\u64ad\u653e\u6e90")}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;1===this.state.lyrics.length&&this.getLyrics(),this.getOtherInfo(),this.props.playWithLyricsEvent.addListener("updateLyric",(function(e){for(var n=0;t.state.timePoints[n]<e;)n+=1;t.setState({curIdx:n-1})}))}},{key:"componentDidUpdate",value:function(t,e,n){this.state.isUpdate&&(this.getLyrics(),this.getOtherInfo(),this.setState({isUpdate:!1}))}},{key:"render",value:function(){var t=this,e=this.state.curIdx,n=Array(4).fill(0).map((function(n,i){return e-(4-i)>=0?t.state.lyrics[e-(4-i)]:""})),i=this.state.lyrics[e],s=Array(4).fill(0).map((function(n,i){return e+(i+1)<t.state.lyrics.length?t.state.lyrics[e+(i+1)]:""}));return Object(z.jsxs)("div",{style:{width:"100%",overflowY:"scroll",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[Object(z.jsxs)("div",{id:"detailPageMusicInfo",children:[Object(z.jsx)("div",{id:"detailPageMusicImg",children:Object(z.jsx)("div",{style:{width:"250px",height:"250px",borderRadius:"50%",backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(z.jsx)("img",{alt:"",src:this.state.picUrl,style:{width:"200px",height:"200px",objectFit:"cover",borderRadius:"50%"}})})}),Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{style:{fontSize:"30px"},children:this.state.songAlia.length?this.state.songName+"("+this.state.songAlia+")":this.state.songName}),Object(z.jsx)("div",{style:{fontSize:"15px",color:"dimgray",marginBottom:"50px"},children:this.state.singerAlia.length?this.state.singer+"-"+this.state.singerAlia:this.state.singer}),Object(z.jsxs)("div",{id:"detailPageMusicLyrics",children:[n.map((function(t,e){return Object(z.jsx)("div",{className:"detailPageLyricsItem",children:t},"head"+e)})),void 0!==i?Object(z.jsx)("div",{className:"detailPageLyricCur",children:i}):null,s.map((function(t,e){return Object(z.jsx)("div",{className:"detailPageLyricsItem",children:t},"tail"+e)}))]})]}),Object(z.jsxs)("div",{style:{width:"20vw",height:"200px",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(z.jsx)("div",{children:"\u64ad\u653e\u6765\u6e90\uff1a\u641c\u7d22\u9875"}),Object(z.jsx)("div",{style:{fontWeight:"bolder",marginTop:"20px"},children:"\u559c\u6b22\u8fd9\u9996\u6b4c\u7684\u4eba\u4e5f\u559c\u6b22\u542c"}),this.state.similarSongs.map((function(e){return Object(z.jsxs)("div",{onClick:function(){t.play(e.id)},className:"detailPageSimilarSong",children:[Object(z.jsx)("img",{src:e.picUrl,style:{width:"30px",height:"30px",borderRadius:"3px",objectFit:"cover"}}),Object(z.jsx)("div",{style:{marginLeft:"5px",textAlign:"start",width:"300px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"},children:Object(z.jsx)(h.a,{title:e.title,children:e.title})})]})}))]})]}),Object(z.jsxs)("div",{id:"detailPageComments",style:{width:"60%"},children:[Object(z.jsxs)("div",{style:{fontWeight:"bolder",fontSize:"20px",display:"flex"},children:["\u5168\u90e8\u8bc4\u8bba(",this.state.commentsNum,")"]}),Object(z.jsx)("div",{children:this.state.comments.map((function(t,e){return Object(z.jsxs)("div",{style:{margin:"30px",display:"flex"},children:[Object(z.jsx)("img",{src:t.avatar,alt:"",style:{width:"30px",height:"30px",objectFit:"cover",borderRadius:"50%",margin:"10px"}}),Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",marginBottom:"6px"},children:[Object(z.jsxs)("div",{style:{color:"cornflowerblue"},children:[t.user,":"]}),Object(z.jsx)("div",{style:{textAlign:"start"},children:t.comment})]})," "!==t.replyUser?Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"6px",padding:"6px"},children:[Object(z.jsxs)("div",{style:{color:"cornflowerblue"},children:["@",t.replyUser,":"]}),Object(z.jsx)("div",{style:{textAlign:"start"},children:t.replyComment})]}):null,Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",color:"gray",marginTop:"6px"},children:[Object(z.jsx)("div",{children:t.time}),Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)(dn.a,{}),t.likeCount>0?t.likeCount:null,Object(z.jsx)("div",{style:{color:"lightgrey",marginLeft:"5px",marginRight:"5px"},children:"|"}),Object(z.jsx)(un.a,{}),Object(z.jsx)("div",{style:{color:"lightgrey",marginLeft:"5px",marginRight:"5px"},children:"|"}),Object(z.jsx)(hn.a,{})]})]}),9!==e?Object(z.jsx)(jn.a,{}):null]})]})}))})]}),Object(z.jsx)("div",{style:{width:"100%",margin:"20px"},children:Object(z.jsx)(qt.a,{total:this.state.commentsNum,defaultPageSize:10,defaultCurrent:1,onChange:this.switchPage})})]},this.props.location.key)}}]),n}(s.a.Component),gn=Object(R.c)(pn),fn=(n(328),n(350)),bn=n(363),yn=n(197),mn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={id:t.props.id,imgUrl:"",title:"",creator:"",creatorImg:"",createTime:"",tag:[],songsCount:0,playCount:0,subscribeCount:0,shareCount:0,description:"",descriptionAbstractRef:s.a.createRef(),descriptionFullRef:s.a.createRef()},t.getCreateTime=function(t){var e=new Date(t);return e.getFullYear()+"\u5e74"+e.getMonth()+"\u6708"+e.getDate()+"\u65e5"},t.showFullDescription=function(){t.state.descriptionAbstractRef.current.style.display="none",t.state.descriptionFullRef.current.style.display="block"},t.showAbstractDescription=function(){t.state.descriptionAbstractRef.current.style.display="flex",t.state.descriptionFullRef.current.style.display="none"},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;ht(this.state.id).then((function(e){var n=e.data.playlist;console.log(n),t.setState((function(){return{imgUrl:n.coverImgUrl,title:n.name,creator:n.creator.nickname,creatorImg:n.creator.avatarUrl,createTime:t.getCreateTime(n.createTime),tag:n.tags,songsCount:n.trackIds.length,playCount:n.playCount,subscribeCount:n.subscribedCount,shareCount:n.shareCount,description:void 0!==n.description&&null!==n.description?n.description:""}}),(function(){t.forceUpdate()}))}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"flex-start"},children:[Object(z.jsx)("img",{src:this.state.imgUrl,style:{width:"20%",objectFit:"cover",borderRadius:"6px",marginRight:"10px"}}),Object(z.jsxs)("div",{style:{width:"68%"},children:[Object(z.jsxs)("div",{className:"songListPageHeaderRow",children:[Object(z.jsx)("div",{style:{padding:"0 5px 0 5px",color:"rgb(201,38,32)",marginRight:"6px",border:"rgb(201,38,32) solid 0.05px",borderRadius:"3px"},children:"\u6b4c\u5355"}),Object(z.jsx)("div",{style:{fontSize:"25px",fontWeight:"bolder"},children:this.state.title})]}),Object(z.jsxs)("div",{className:"songListPageHeaderRow",children:[Object(z.jsx)("img",{src:this.state.creatorImg,style:{width:"40px",objectFit:"cover",borderRadius:"50%"}}),Object(z.jsx)("div",{style:{color:"cornflowerblue",margin:"0 10px 0 3px"},children:this.state.creator}),Object(z.jsxs)("div",{style:{color:"rgba(0,0,0,0.4)"},children:[this.state.createTime,"\u521b\u5efa"]})]}),Object(z.jsxs)("div",{className:"songListPageHeaderRow",children:[Object(z.jsxs)("div",{className:"songListPageHeaderButtonSelected",children:[Object(z.jsx)(fn.a,{}),"\u64ad\u653e\u5168\u90e8",Object(z.jsx)(Y.a,{})]}),Object(z.jsxs)("div",{className:"songListPageHeaderButton",children:[Object(z.jsx)(bn.a,{}),"\u6536\u85cf(",this.state.subscribeCount,")"]}),Object(z.jsxs)("div",{className:"songListPageHeaderButton",children:[Object(z.jsx)(un.a,{}),"\u5206\u4eab(",this.state.shareCount,")"]}),Object(z.jsxs)("div",{className:"songListPageHeaderButton",children:[Object(z.jsx)(De.a,{}),"\u4e0b\u8f7d\u5168\u90e8"]})]}),Object(z.jsxs)("div",{className:"songListPageHeaderRow",children:["\u6807\u7b7e\uff1a",this.state.tag.map((function(e,n){return Object(z.jsx)(z.Fragment,{children:n!==t.state.tag.length-1?Object(z.jsxs)("div",{style:{display:"flex"},children:[Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:e}),"/"]}):Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:e})})}))]}),Object(z.jsxs)("div",{className:"songListPageHeaderRow",children:[Object(z.jsxs)("div",{style:{marginRight:"20px"},children:["\u6b4c\u66f2\uff1a",this.state.songsCount]}),"\u64ad\u653e\uff1a",Math.floor(this.state.playCount/1e4),"\u4e07"]}),Object(z.jsxs)("div",{className:"songListPageHeaderRow",children:["\u7b80\u4ecb\uff1a",this.state.description.length<=100?Object(z.jsx)(z.Fragment,{children:this.state.description}):Object(z.jsxs)("div",{style:{display:"flex"},ref:this.state.descriptionAbstractRef,children:[this.state.description.slice(0,11)+"...",Object(z.jsx)(A.a,{onClick:this.showFullDescription,style:{color:"rgb(201,38,32)"}})]})]}),Object(z.jsxs)("div",{className:"songListPageHeaderRow",style:{display:"none",textAlign:"start"},ref:this.state.descriptionFullRef,children:[this.state.description.split("\n").map((function(t){return Object(z.jsx)("div",{style:{textAlign:"start"},children:t})})),Object(z.jsx)(yn.a,{onClick:this.showAbstractDescription,style:{color:"rgb(201,38,32)"}})]})]})]})}}]),n}(s.a.Component),xn=mn,vn=(n(329),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={id:t.props.match.params.id,songs:[],selectedRow:void 0!==t.props.match.params.selectedRow?t.props.match.params.selectedRow:-1,rows:s.a.createRef()},t.getDuration=function(t){t=Math.floor(t/1e3);var e=Math.floor(t/60),n=t-60*e;return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")},t.playMusic=function(e,n){gt(e).then((function(){ft(e).then((function(i){-1!==t.state.selectedRow&&(t.state.rows.current.children[t.state.selectedRow].style.backgroundColor=t.state.selectedRow%2===0?"rgba(0,0,0,0.05)":"white");t.setState((function(){return{selectedRow:n-1}}),(function(){t.state.rows.current.children[t.state.selectedRow].style.backgroundColor="rgba(0,0,0,0.15)"})),Xn.emit("play",e,i.data.data[0].url,t.state.id)}))}),(function(){alert("\u6682\u65e0\u64ad\u653e\u6e90")}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t,e=this;(t=this.state.id,L({url:"/playlist/track/all?id="+t,method:"get"})).then((function(t){var n,i=1,s=Object(Rt.a)(t.data.songs);try{for(s.s();!(n=s.n()).done;){var a=n.value;e.state.songs.push({id:a.id,idx:i,title:a.name,alia:void 0!==a.alia[0]?a.alia[0]:"",singer:a.ar[0].name,album:a.al.name,duration:e.getDuration(a.dt)}),i+=1}}catch(r){s.e(r)}finally{s.f()}e.forceUpdate()}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",margin:"10px 0 10px 0"},children:[Object(z.jsx)("div",{style:{width:"10%"}}),Object(z.jsx)("div",{style:{width:"30%",display:"flex"},children:"\u6807\u9898"}),Object(z.jsx)("div",{style:{width:"20%",display:"flex"},children:"\u6b4c\u624b"}),Object(z.jsx)("div",{style:{width:"30%",display:"flex"},children:"\u4e13\u8f91"}),Object(z.jsx)("div",{style:{width:"10%",display:"flex"},children:"\u65f6\u957f"})]}),Object(z.jsx)("div",{style:{width:"100%",margin:"10px 0 10px 0"},ref:this.state.rows,children:this.state.songs.map((function(e,n){return Object(z.jsxs)("div",{className:n%2===0?"SongListPageSongsEvenRow":"SongListPageSongsOddRow",onClick:function(){t.playMusic(e.id,e.idx)},children:[Object(z.jsx)("div",{style:{width:"2%",color:"rgba(0,0,0,0.4)"},children:e.idx}),Object(z.jsxs)("div",{style:{width:"8%",color:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"space-evenly"},children:[Object(z.jsx)(G.a,{}),Object(z.jsx)(De.a,{})]}),Object(z.jsx)("div",{style:{width:"30%",color:"dimgray",display:"flex"},children:e.title}),Object(z.jsx)("div",{style:{width:"20%",color:"dimgray",display:"flex"},children:e.singer}),Object(z.jsx)("div",{style:{width:"30%",color:"dimgray",display:"flex"},children:e.album}),Object(z.jsx)("div",{style:{width:"10%",color:"dimgray",display:"flex"},children:e.duration})]})}))})]})}}]),n}(s.a.Component)),On=vn,wn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={id:t.props.match.params.id,comments:[],commentsNum:0,curPage:1},t.getCurComments=function(){pt(t.state.id,10*(t.state.curPage-1)).then((function(e){var n,i=Object(Rt.a)(e.data.comments);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.comments.push({user:s.user.nickname,avatar:s.user.avatarUrl,comment:s.content,time:s.timeStr,likeCount:s.likeCount,replyUser:s.beReplied.length?s.beReplied[0].user.nickname:" ",replyComment:s.beReplied.length?s.beReplied[0].content:" "})}}catch(a){i.e(a)}finally{i.f()}t.forceUpdate()}))},t.switchPage=function(e){t.setState((function(){return{curPage:e,comments:[]}}),(function(){t.getCurComments()}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.getCurComments(),ht(this.state.id).then((function(e){t.setState({commentsNum:e.data.playlist.commentCount})}))}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"},children:[this.state.comments.map((function(t,e){return Object(z.jsxs)("div",{style:{width:"100%",margin:"30px",display:"flex"},children:[Object(z.jsx)("img",{src:t.avatar,alt:"",style:{width:"30px",height:"30px",objectFit:"cover",borderRadius:"50%",margin:"10px"}}),Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",marginBottom:"6px"},children:[Object(z.jsxs)("div",{style:{color:"cornflowerblue"},children:[t.user,":"]}),Object(z.jsx)("div",{style:{textAlign:"start"},children:t.comment})]})," "!==t.replyUser?Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"6px",padding:"6px"},children:[Object(z.jsxs)("div",{style:{color:"cornflowerblue"},children:["@",t.replyUser,":"]}),Object(z.jsx)("div",{style:{textAlign:"start"},children:t.replyComment})]}):null,Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",color:"gray",marginTop:"6px"},children:[Object(z.jsx)("div",{children:t.time}),Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)(dn.a,{}),t.likeCount>0?t.likeCount:null,Object(z.jsx)("div",{style:{color:"lightgrey",marginLeft:"5px",marginRight:"5px"},children:"|"}),Object(z.jsx)(un.a,{}),Object(z.jsx)("div",{style:{color:"lightgrey",marginLeft:"5px",marginRight:"5px"},children:"|"}),Object(z.jsx)(hn.a,{})]})]}),9!==e?Object(z.jsx)(jn.a,{}):null]})]})})),Object(z.jsx)("div",{style:{width:"100%",margin:"20px"},children:Object(z.jsx)(qt.a,{total:this.state.commentsNum,defaultPageSize:10,defaultCurrent:1,onChange:this.switchPage})})]})}}]),n}(s.a.Component),kn=wn,Cn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={id:t.props.match.params.id,collectors:[]},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;ht(this.state.id).then((function(e){var n,i=Object(Rt.a)(e.data.playlist.subscribers);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.state.collectors.push({id:s.userId,name:s.nickname,img:s.avatarUrl,signature:s.signature,gender:s.gender})}}catch(a){i.e(a)}finally{i.f()}t.forceUpdate()}))}},{key:"render",value:function(){return Object(z.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",flexWrap:"wrap"},children:this.state.collectors.map((function(t){return Object(z.jsxs)("div",{style:{width:"28%",display:"flex",alignItems:"center",margin:"30px"},children:[Object(z.jsx)("img",{src:t.img,style:{width:"25%",objectFit:"cover",borderRadius:"50%"}}),Object(z.jsxs)("div",{style:{width:"70%",marginLeft:"30px",display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object(z.jsxs)("div",{style:{width:"100%",display:"flex"},children:[t.name,1===t.gender?Object(z.jsx)("div",{style:{color:"cornflowerblue"},children:Object(z.jsx)(Xe.a,{})}):null,2===t.gender?Object(z.jsx)("div",{style:{color:"pink"},children:Object(z.jsx)(_e.a,{})}):null]}),Object(z.jsx)("div",{style:{color:"rgba(0,0,0,0.3)",textAlign:"start"},children:t.signature})]})]})}))})}}]),n}(s.a.Component),Sn=Cn,An=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={menu:[{key:"1",title:"\u6b4c\u66f2\u5217\u8868",click:function(){t.click("songs")}},{key:"2",title:"\u8bc4\u8bba",click:function(){t.click("comments")}},{key:"3",title:"\u6536\u85cf\u8005",click:function(){t.click("collectors")}}],id:t.props.match.params.id},t.click=function(e){t.props.history.push("/song-list/"+e+"/"+t.state.id)},t}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(t,e,n){var i=this;"\u8bc4\u8bba"===this.state.menu[1].title&&ht(this.state.id).then((function(t){i.state.menu[1].title="\u8bc4\u8bba("+t.data.playlist.commentCount+")",i.forceUpdate()}))}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%",height:"80vh",position:"relative",overflowY:"scroll",padding:"20px"},children:[Object(z.jsx)(xn,{id:this.state.id}),Object(z.jsx)(Ot,{menu:this.state.menu}),Object(z.jsx)(R.b,{path:"/song-list/songs/:id/:songID?",component:On}),Object(z.jsx)(R.b,{path:"/song-list/comments/:id",component:kn}),Object(z.jsx)(R.b,{path:"/song-list/collectors/:id",component:Sn}),this.props.location.pathname==="/song-list/"+this.state.id?Object(z.jsx)(R.a,{to:"/song-list/songs/"+this.state.id}):null]})}}]),n}(s.a.Component),Rn=Object(R.c)(An);function In(t){return L({url:"/album?id="+t,method:"get"})}var Nn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={id:t.props.match.params.id,songs:[],selectedRow:void 0!==t.props.match.params.selectedRow?t.props.match.params.selectedRow:-1,rows:s.a.createRef()},t.getDuration=function(t){t=Math.floor(t/1e3);var e=Math.floor(t/60),n=t-60*e;return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")},t.playMusic=function(e,n){gt(e).then((function(){ft(e).then((function(i){-1!==t.state.selectedRow&&(t.state.rows.current.children[t.state.selectedRow].style.backgroundColor=t.state.selectedRow%2===0?"rgba(0,0,0,0.05)":"white");t.setState((function(){return{selectedRow:n-1}}),(function(){t.state.rows.current.children[t.state.selectedRow].style.backgroundColor="rgba(0,0,0,0.15)"})),ti.emit("play",e,i.data.data[0].url,t.state.id)}))}),(function(){alert("\u6682\u65e0\u64ad\u653e\u6e90")}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;In(this.state.id).then((function(e){var n,i=1,s=Object(Rt.a)(e.data.songs);try{for(s.s();!(n=s.n()).done;){var a=n.value;t.state.songs.push({id:a.id,idx:i,title:a.name,alia:void 0!==a.alia[0]?a.alia[0]:"",singer:a.ar[0].name,album:a.al.name,duration:t.getDuration(a.dt)}),i+=1}}catch(r){s.e(r)}finally{s.f()}t.forceUpdate()}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",margin:"10px 0 10px 0"},children:[Object(z.jsx)("div",{style:{width:"10%"}}),Object(z.jsx)("div",{style:{width:"30%",display:"flex"},children:"\u6807\u9898"}),Object(z.jsx)("div",{style:{width:"20%",display:"flex"},children:"\u6b4c\u624b"}),Object(z.jsx)("div",{style:{width:"30%",display:"flex"},children:"\u4e13\u8f91"}),Object(z.jsx)("div",{style:{width:"10%",display:"flex"},children:"\u65f6\u957f"})]}),Object(z.jsx)("div",{style:{width:"100%",margin:"10px 0 10px 0"},ref:this.state.rows,children:this.state.songs.map((function(e,n){return Object(z.jsxs)("div",{className:n%2===0?"SongListPageSongsEvenRow":"SongListPageSongsOddRow",onClick:function(){t.playMusic(e.id,e.idx)},children:[Object(z.jsx)("div",{style:{width:"2%",color:"rgba(0,0,0,0.4)"},children:e.idx}),Object(z.jsxs)("div",{style:{width:"8%",color:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"space-evenly"},children:[Object(z.jsx)(G.a,{}),Object(z.jsx)(De.a,{})]}),Object(z.jsx)("div",{style:{width:"30%",color:"dimgray",display:"flex"},children:e.title}),Object(z.jsx)("div",{style:{width:"20%",color:"dimgray",display:"flex"},children:e.singer}),Object(z.jsx)("div",{style:{width:"30%",color:"dimgray",display:"flex"},children:e.album}),Object(z.jsx)("div",{style:{width:"10%",color:"dimgray",display:"flex"},children:e.duration})]})}))})]})}}]),n}(s.a.Component),Pn=Nn,Bn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={id:t.props.match.params.id,comments:[],commentsNum:0,curPage:1},t.switchPage=function(e){t.setState((function(){return{curPage:e,comments:[]}}),(function(){t.getInfo()}))},t}return Object(o.a)(n,[{key:"getInfo",value:function(){var t,e,n=this;(t=this.state.id,e=20*(this.state.curPage-1),L({url:"/comment/album?id="+t+"&offset="+e,method:"get"})).then((function(t){console.log(t),n.setState({commentsNum:t.data.total});var e,i=Object(Rt.a)(t.data.comments);try{for(i.s();!(e=i.n()).done;){var s=e.value;n.state.comments.push({user:s.user.nickname,avatar:s.user.avatarUrl,comment:s.content,time:s.timeStr,likeCount:s.likeCount,replyUser:void 0!==s.beReplied[0]?s.beReplied[0].user.nickname:" ",replyComment:void 0!==s.beReplied[0]?s.beReplied[0].content:" "})}}catch(a){i.e(a)}finally{i.f()}n.forceUpdate()}))}},{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"},children:[this.state.comments.map((function(t,e){return Object(z.jsxs)("div",{style:{width:"100%",margin:"30px",display:"flex"},children:[Object(z.jsx)("img",{src:t.avatar,alt:"",style:{width:"30px",height:"30px",objectFit:"cover",borderRadius:"50%",margin:"10px"}}),Object(z.jsxs)("div",{style:{width:"100%"},children:[Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",marginBottom:"6px"},children:[Object(z.jsxs)("div",{style:{color:"cornflowerblue"},children:[t.user,":"]}),Object(z.jsx)("div",{style:{textAlign:"start"},children:t.comment})]})," "!==t.replyUser?Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",flexWrap:"wrap",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"6px",padding:"6px"},children:[Object(z.jsxs)("div",{style:{color:"cornflowerblue"},children:["@",t.replyUser,":"]}),Object(z.jsx)("div",{style:{textAlign:"start"},children:t.replyComment})]}):null,Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",color:"gray",marginTop:"6px"},children:[Object(z.jsx)("div",{children:t.time}),Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)(dn.a,{}),t.likeCount>0?t.likeCount:null,Object(z.jsx)("div",{style:{color:"lightgrey",marginLeft:"5px",marginRight:"5px"},children:"|"}),Object(z.jsx)(un.a,{}),Object(z.jsx)("div",{style:{color:"lightgrey",marginLeft:"5px",marginRight:"5px"},children:"|"}),Object(z.jsx)(hn.a,{})]})]}),9!==e?Object(z.jsx)(jn.a,{}):null]})]})})),Object(z.jsx)("div",{style:{width:"100%",margin:"20px"},children:Object(z.jsx)(qt.a,{total:this.state.commentsNum,defaultPageSize:10,defaultCurrent:1,onChange:this.switchPage})})]})}}]),n}(s.a.Component),Ln=Bn,Un=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={id:t.props.match.params.id,description:""},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;In(this.state.id).then((function(e){console.log(e),t.setState({description:e.data.album.description}),t.forceUpdate()}))}},{key:"render",value:function(){return Object(z.jsx)("div",{style:{width:"100%",textAlign:"start"},children:this.state.description})}}]),n}(s.a.Component),En=Un,Dn=(n(330),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={id:t.props.id,imgUrl:"",title:"",singer:"",createTime:"",subscribeCount:0,shareCount:0},t.getCreateTime=function(t){var e=new Date(t);return e.getFullYear()+"\u5e74"+e.getMonth()+"\u6708"+e.getDate()+"\u65e5"},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;In(this.state.id).then((function(e){var n=e.data.album;t.setState((function(){return{imgUrl:n.picUrl,title:n.name,singer:n.artist.name,createTime:t.getCreateTime(n.publishTime),subscribeCount:n.info.likedCount,shareCount:n.info.shareCount}}),(function(){t.forceUpdate()}))}))}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"flex-start"},children:[Object(z.jsx)("img",{src:this.state.imgUrl,style:{width:"20%",objectFit:"cover",borderRadius:"6px",marginRight:"10px"},alt:""}),Object(z.jsxs)("div",{style:{width:"68%"},children:[Object(z.jsxs)("div",{className:"albumPageHeaderRow",children:[Object(z.jsx)("div",{style:{padding:"0 5px 0 5px",color:"rgb(201,38,32)",marginRight:"6px",border:"rgb(201,38,32) solid 0.05px",borderRadius:"3px"},children:"\u4e13\u8f91"}),Object(z.jsx)("div",{style:{fontSize:"25px",fontWeight:"bolder"},children:this.state.title})]}),Object(z.jsxs)("div",{className:"songListPageHeaderRow",children:[Object(z.jsxs)("div",{className:"songListPageHeaderButtonSelected",children:[Object(z.jsx)(fn.a,{}),"\u64ad\u653e\u5168\u90e8",Object(z.jsx)(Y.a,{})]}),Object(z.jsxs)("div",{className:"songListPageHeaderButton",children:[Object(z.jsx)(bn.a,{}),"\u6536\u85cf(",this.state.subscribeCount,")"]}),Object(z.jsxs)("div",{className:"songListPageHeaderButton",children:[Object(z.jsx)(un.a,{}),"\u5206\u4eab(",this.state.shareCount,")"]}),Object(z.jsxs)("div",{className:"songListPageHeaderButton",children:[Object(z.jsx)(De.a,{}),"\u4e0b\u8f7d\u5168\u90e8"]})]}),Object(z.jsxs)("div",{className:"albumPageHeaderRow",children:["\u6b4c\u624b\uff1a",Object(z.jsx)("div",{style:{color:"cornflowerblue",margin:"0 10px 0 3px"},children:this.state.singer})]}),Object(z.jsxs)("div",{className:"albumPageHeaderRow",children:["\u521b\u5efa\u65f6\u95f4\uff1a",Object(z.jsx)("div",{style:{color:"cornflowerblue",margin:"0 10px 0 3px"},children:this.state.createTime})]})]})]})}}]),n}(s.a.Component)),Qn=Dn,Mn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={menu:[{key:"1",title:"\u6b4c\u66f2\u5217\u8868",click:function(){t.click("songs")}},{key:"2",title:"\u8bc4\u8bba",click:function(){t.click("comments")}},{key:"3",title:"\u4e13\u8f91\u8be6\u60c5",click:function(){t.click("description")}}],id:t.props.match.params.id},t.click=function(e){t.props.history.push("/album/"+e+"/"+t.state.id)},t}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(t,e,n){var i=this;"\u8bc4\u8bba"===this.state.menu[1].title&&In(this.state.id).then((function(t){i.state.menu[1].title="\u8bc4\u8bba("+t.data.album.info.commentCount+")",i.forceUpdate()}))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(z.jsxs)("div",{style:{width:"100%",height:"80vh",position:"relative",overflowY:"scroll",padding:"20px"},children:[Object(z.jsx)(Qn,{id:this.state.id}),Object(z.jsx)(Ot,{menu:this.state.menu}),Object(z.jsx)(R.b,{path:"/album/songs/:id/:songID?",component:Pn}),Object(z.jsx)(R.b,{path:"/album/comments/:id",component:Ln}),Object(z.jsx)(R.b,{path:"/album/description/:id",component:En}),this.props.location.pathname==="/album/"+this.state.id?Object(z.jsx)(R.a,{to:"/album/songs/"+this.state.id}):null]})}}]),n}(s.a.Component),Tn=Object(oe.e)(Mn),zn=n(96),Fn=n(375),Wn=n(198),Hn=(n(331),n.p+"static/media/BG.c278384a.svg"),Jn=n.p+"static/media/login.40ddfedb.svg",Kn=n.p+"static/media/title.feeace5f.svg",Yn=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={phone:"",valid:"",password:"",byValid:!0,isAgree:!1,sendValid:!1,resetPhoneRef:s.a.createRef(),resetValidRef:s.a.createRef(),resetPassRef:s.a.createRef()},t.getValidCode=function(){U(t.state.phone).then((function(e){200===e.data.code?(t.setState((function(){return{sendValid:!0}}),(function(){setTimeout((function(){t.setState({sendValid:!1})}),6e4)})),alert("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\uff0c1\u5206\u949f\u540e\u53ef\u91cd\u65b0\u83b7\u53d6")):alert("\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}))},t.storeAccount=function(t){window.localStorage.setItem("id",t.data.account.id),window.localStorage.setItem("token",t.data.token),window.localStorage.setItem("cookie",encodeURIComponent(t.data.cookie))},t.submit=function(){li&&alert("\u5f53\u524d\u8d26\u53f7\u5df2\u767b\u5f55\uff0c\u8bf7\u786e\u8ba4\u8f93\u5165\u7684\u8d26\u53f7\u662f\u5426\u6b63\u786e"),t.state.phone.length<11&&alert("\u8bf7\u6b63\u786e\u586b\u5199\u624b\u673a\u53f7\u7801"),t.state.isAgree||alert("\u8bf7\u540c\u610f\u76f8\u5173\u670d\u52a1\u6761\u6b3e"),t.state.byValid?(0===t.state.valid.length&&alert("\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801"),11===t.state.phone.length&&t.state.valid.length>0&&t.state.isAgree&&E(t.state.phone,t.state.valid).then((function(e){200===e.data.code?(console.log(e),ei.emit("login"),t.props.history.push("/user")):alert("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}),(function(){alert("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}))):(0===t.state.password.length&&alert("\u8bf7\u586b\u5199\u5bc6\u7801"),11===t.state.phone.length&&t.state.password.length>0&&t.state.isAgree&&D(t.state.phone,t.state.password).then((function(e){console.log(e),200===e.data.code?(t.storeAccount(e),ei.emit("login"),t.props.history.push("/user")):alert("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}),(function(){alert("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")})))},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(z.jsx)("img",{src:Hn,width:"100%",height:"100%",style:{zIndex:"-100",position:"absolute",left:0,top:0}}),Object(z.jsxs)("div",{style:{width:"30%",padding:"50px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"20px"},children:[Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(z.jsxs)("div",{style:{width:"60%",display:"flex",alignItems:"center"},children:[Object(z.jsx)("img",{src:Jn,style:{width:"50%",objectFit:"cover"}}),Object(z.jsx)("img",{src:Kn,style:{width:"50%",objectFit:"cover"}})]}),Object(z.jsx)("div",{id:"loginBack",onClick:function(){t.props.history.push("/user")},children:Object(z.jsx)(h.a,{title:"\u56de\u5230\u4e3b\u9875",children:Object(z.jsx)(w.a,{})})})]}),Object(z.jsxs)("div",{style:{margin:"10px 0 10px 0",display:"flex",alignItems:"center"},children:[Object(z.jsx)(j.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",prefix:Object(z.jsx)(S.a,{}),onChange:function(e){t.setState({phone:e.target.value})},value:this.state.phone}),Object(z.jsx)("div",{ref:this.state.resetPhoneRef,children:Object(z.jsx)(h.a,{title:"\u91cd\u7f6e\u624b\u673a\u53f7\u7801",children:Object(z.jsx)(u.a,{icon:Object(z.jsx)(w.a,{}),onClick:function(){t.setState({phone:""})},disabled:0===this.state.phone.length})})})]}),Object(z.jsx)("div",{children:this.state.byValid?Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"60%"},children:[Object(z.jsx)(j.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",iconRender:function(t){return t?Object(z.jsx)(Fn.a,{}):Object(z.jsx)(Wn.a,{})},onChange:function(e){t.setState({valid:e.target.value})},value:this.state.valid}),Object(z.jsx)("div",{ref:this.state.resetValidRef,children:Object(z.jsx)(h.a,{title:"\u91cd\u7f6e\u9a8c\u8bc1\u7801",children:Object(z.jsx)(u.a,{icon:Object(z.jsx)(w.a,{}),onClick:function(){t.setState({valid:""})},disabled:0===this.state.valid.length})})})]}),this.state.sendValid?Object(z.jsx)(u.a,{disabled:!0,children:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001"}):Object(z.jsx)(u.a,{onClick:this.getValidCode,children:"\u83b7\u53d6\u9a8c\u8bc1\u7801"})]}):Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(z.jsx)(j.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",iconRender:function(t){return t?Object(z.jsx)(Fn.a,{}):Object(z.jsx)(Wn.a,{})},onChange:function(e){t.setState({password:e.target.value})},value:this.state.password}),Object(z.jsx)("div",{ref:this.state.resetPassRef,children:Object(z.jsx)(h.a,{title:"\u91cd\u7f6e\u5bc6\u7801",children:Object(z.jsx)(u.a,{icon:Object(z.jsx)(w.a,{}),onClick:function(){t.setState({password:""})},disabled:0===this.state.password.length})})})]})}),Object(z.jsxs)("div",{style:{margin:"10px 0 10px 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[this.state.byValid?Object(z.jsx)("div",{onClick:function(){t.setState({byValid:!1})},style:{textAlign:"start",fontSize:"small",color:" rgba(0,0,0,0.6)",cursor:"pointer"},children:"\u5bc6\u7801\u767b\u5f55"}):Object(z.jsx)("div",{onClick:function(){t.setState({byValid:!0})},style:{textAlign:"start",fontSize:"small",color:" rgba(0,0,0,0.6)",cursor:"pointer"},children:"\u9a8c\u8bc1\u7801\u767b\u5f55"}),Object(z.jsx)(zn.a,{onChange:function(){t.setState({isAgree:!t.state.isAgree})},children:Object(z.jsx)("div",{style:{fontSize:"small",color:" rgba(0,0,0,0.6)"},children:"\u540c\u610f\u76f8\u5173\u670d\u52a1\u6761\u6b3e"})})]}),Object(z.jsx)("div",{onClick:this.submit,id:"login",children:"\u63d0              \u4ea4"})]})]})}}]),n}(s.a.Component),Gn=Object(oe.e)(Yn),Vn=(n(332),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={songs:[],selectedRow:-1,rows:s.a.createRef()},t.getDuration=function(t){t=Math.floor(t/1e3);var e=Math.floor(t/60),n=t-60*e;return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")},t.playMusic=function(e,n){gt(e).then((function(){ft(e).then((function(i){-1!==t.state.selectedRow&&(t.state.rows.current.children[t.state.selectedRow].style.backgroundColor=t.state.selectedRow%2===0?"rgba(0,0,0,0.05)":"white");t.setState((function(){return{selectedRow:n}}),(function(){t.state.rows.current.children[t.state.selectedRow].style.backgroundColor="rgba(0,0,0,0.15)"})),ni.emit("play",e,i.data.data[0].url)}))}),(function(){alert("\u6682\u65e0\u64ad\u653e\u6e90")}))},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t,e=this;null!==window.localStorage.getItem("id")&&(t=window.localStorage.getItem("id"),L({url:"/user/record?uid="+t+"&type=0",method:"get"})).then((function(t){var n;console.log("play history",t);var i,s=1,a=Object(Rt.a)(t.data.allData);try{for(a.s();!(i=a.n()).done;){n=i.value.song,e.state.songs.push({id:n.id,idx:s,name:n.name,singer:n.ar[0].name,album:n.al.name,duration:e.getDuration(n.dt)}),s+=1}}catch(r){a.e(r)}finally{a.f()}console.log(e.state.songs),e.forceUpdate()}))}},{key:"render",value:function(){var t=this;return Object(z.jsxs)("div",{style:{width:"100%",height:"80vh",position:"relative",overflowY:"scroll",padding:"20px"},children:[Object(z.jsx)("div",{style:{fontSize:"20px",fontWeight:"bolder",width:"100%",display:"flex",marginBottom:"20px"},children:"\u6700\u8fd1\u64ad\u653e"}),Object(z.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:[Object(z.jsx)("div",{style:{width:"3%",textAlign:"start",marginLeft:"5px",color:"dimgray"}}),Object(z.jsx)("div",{style:{width:"35%",textAlign:"start",color:"dimgray"},children:"\u97f3\u4e50\u6807\u9898"}),Object(z.jsx)("div",{style:{width:"20%",textAlign:"start",color:"dimgray"},children:"\u6b4c\u624b"}),Object(z.jsx)("div",{style:{width:"35%",textAlign:"start",color:"dimgray"},children:"\u4e13\u8f91"}),Object(z.jsx)("div",{style:{width:"7%",textAlign:"start",color:"dimgray"},children:"\u65f6\u957f"})]}),Object(z.jsx)("div",{ref:this.state.rows,style:{width:"100%"},children:this.state.songs.map((function(e,n){return Object(z.jsxs)("div",{className:n%2===0?"PlayHistoryPageSongsEvenRow":"PlayHistoryPageSongsOddRow",onClick:function(){t.playMusic(e.id,n)},children:[Object(z.jsx)("div",{style:{width:"3%",color:"dimgray",display:"flex",marginLeft:"5px"},children:e.idx}),Object(z.jsx)(h.a,{title:e.name,children:Object(z.jsx)("div",{style:{width:"35%",color:"dimgray",display:"flex"},className:"emit",children:e.name})}),Object(z.jsx)(h.a,{title:e.singer,children:Object(z.jsx)("div",{style:{width:"20%",color:"dimgray",display:"flex"},className:"emit",children:e.singer})}),Object(z.jsx)(h.a,{title:e.album,children:Object(z.jsx)("div",{style:{width:"35%",color:"dimgray",display:"flex"},className:"emit",children:e.album})}),Object(z.jsx)("div",{style:{width:"7%",color:"dimgray",display:"flex"},children:e.duration})]})}))})]})}}]),n}(s.a.Component)),qn=Vn,Zn=(n(333),new N.a),$n=new N.a,Xn=new N.a,_n=new N.a,ti=new N.a,ei=new N.a,ni=new N.a,ii=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Z,{}),Object(z.jsx)("div",{id:"content",children:Object(z.jsx)(we,{})})]})}}]),n}(s.a.Component),si=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Z,{}),Object(z.jsx)("div",{id:"content",children:Object(z.jsx)(an,{playMusicEvent:Zn})})]})}}]),n}(s.a.Component),ai=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsx)(gn,{playWithLyricsEvent:$n})}}]),n}(s.a.Component),ri=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Z,{}),Object(z.jsx)("div",{id:"content",children:Object(z.jsx)(Rn,{playSongListEvent:Xn})})]})}}]),n}(s.a.Component),ci=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Z,{}),Object(z.jsx)("div",{id:"content",children:Object(z.jsx)(Tn,{})})]})}}]),n}(s.a.Component),oi=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Z,{}),Object(z.jsx)("div",{id:"content",children:Object(z.jsx)(qn,{})})]})}}]),n}(s.a.Component),li=null!==window.localStorage.getItem("id"),di=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){ei.addListener("login",(function(){li=!0})),ei.addListener("logout",(function(){li=!1}))}},{key:"render",value:function(){return Object(z.jsx)(oe.a,{children:Object(z.jsxs)("div",{id:"root",children:[Object(z.jsx)("div",{id:"top",children:Object(z.jsx)(H,{})}),Object(z.jsx)("div",{id:"center",children:Object(z.jsxs)(oe.d,{children:[Object(z.jsx)(oe.c,{path:"/user",component:ii}),Object(z.jsx)(oe.c,{path:"/search/:keyword/:selectedRow?",component:si}),Object(z.jsx)(oe.c,{path:"/detail/:id/:keyword",component:ai}),Object(z.jsx)(oe.c,{path:"/song-list/:id",component:ri}),Object(z.jsx)(oe.c,{path:"/album/:id",component:ci}),Object(z.jsx)(oe.c,{path:"/login",component:Gn}),Object(z.jsx)(oe.c,{path:"/play-history",component:oi}),Object(z.jsx)(oe.b,{to:"/user"})]})}),Object(z.jsx)("div",{id:"bottom",children:Object(z.jsx)(xt,{playMusicEvent:Zn,playWithLyricsEvent:$n,playSongListEvent:Xn,playSingleSongEvent:_n,playAlbumSongEvent:ti,replayEvent:ni})})]})})}}]),n}(s.a.Component),ui=Object(oe.e)(di);var hi=function(){return Object(z.jsx)(oe.a,{children:Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(ui,{})})})},ji=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,377)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),i(t),s(t),a(t),r(t)}))};r.a.render(Object(z.jsx)(s.a.StrictMode,{children:Object(z.jsx)(hi,{})}),document.getElementById("root")),ji()}},[[334,1,2]]]);
//# sourceMappingURL=main.baa3afba.chunk.js.map