{"version":3,"sources":["apis/request.ts","apis/LoginPage.ts","assets/wyy.svg","view/components/common/NavBar/NavBar.tsx","view/components/common/SideBar/SideBar.tsx","view/components/common/PlayBar/VolumeBar/VolumeBar.tsx","apis/songListDetailPage.ts","view/components/common/PlayBar/PlayBar.tsx","view/components/common/NavMenu/NavMenu.tsx","view/components/MainPage/UserPage/MenuBar/MenuBar.tsx","view/components/MainPage/UserPage/RecommendPage/CarouselFigure/CarouselFigure.tsx","apis/recommendPage.ts","view/components/common/ShowFramI/ShowFramI.tsx","view/components/MainPage/UserPage/RecommendPage/RecommendSongsList/RecommendSongsList.tsx","view/components/MainPage/UserPage/RecommendPage/SpetialBroadcast/Broadcast.tsx","view/components/MainPage/UserPage/RecommendPage/MV/MV.tsx","view/components/MainPage/UserPage/RecommendPage/NewMusic/NewMusic.tsx","view/components/MainPage/UserPage/RecommendPage/RecommendPage.tsx","view/components/MainPage/UserPage/PersonalPage/PersonalPage.tsx","apis/personalPage.ts","apis/songListPage.ts","view/components/MainPage/UserPage/SongslistPage/SongslistPage.tsx","apis/rankPage.ts","view/components/MainPage/UserPage/RankPage/OfficialRankList/OfficialRankList.tsx","view/components/MainPage/UserPage/RankPage/RankPage.tsx","apis/singerPage.ts","view/components/MainPage/UserPage/SingerPage/SingerPage.tsx","view/components/MainPage/UserPage/NewSongsPage/Nav/Nav.tsx","apis/newSongsPage.ts","view/components/MainPage/UserPage/NewSongsPage/NewSongs/NewSongs.tsx","view/components/MainPage/UserPage/NewSongsPage/NewCDs/NewCDs.tsx","view/components/MainPage/UserPage/NewSongsPage/NewSongsPage.tsx","view/components/MainPage/UserPage/UserPage.tsx","view/components/MainPage/SearchPage/MenuBar/MenuBar.tsx","apis/searchPage.ts","view/components/MainPage/SearchPage/Singles/Keyword.tsx","view/components/MainPage/SearchPage/Singles/Singles.tsx","view/components/MainPage/SearchPage/Singers/Singers.tsx","view/components/MainPage/SearchPage/Albums/Albums.tsx","view/components/MainPage/SearchPage/Videos/Videos.tsx","view/components/MainPage/SearchPage/SongLists/SongLists.tsx","view/components/MainPage/SearchPage/Lyrics/Lyrics.tsx","view/components/MainPage/SearchPage/Users/Users.tsx","view/components/MainPage/SearchPage/SearchPage.tsx","apis/detailPage.ts","view/components/MainPage/DetailPage/DetailPage.tsx","view/components/MainPage/SongListPage/Header/Header.tsx","view/components/MainPage/SongListPage/Songs/Songs.tsx","view/components/MainPage/SongListPage/Comments/Comments.tsx","view/components/MainPage/SongListPage/Collectors/Collectors.tsx","view/components/MainPage/SongListPage/SongListPage.tsx","apis/albumPage.ts","view/components/MainPage/AlbumPage/Songs/Songs.tsx","view/components/MainPage/AlbumPage/Comments/Comments.tsx","view/components/MainPage/AlbumPage/Description/Description.tsx","view/components/MainPage/AlbumPage/Header/Header.tsx","view/components/MainPage/AlbumPage/AlbumPage.tsx","assets/BG.svg","assets/login.svg","assets/title.svg","view/components/MainPage/LoginPage/Login.tsx","view/components/MainPage/PlayHistoryPage/PlayHistoryPage.tsx","view/components/MainPage/MainPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Axios","axios","create","baseURL","timeout","getValid","phone","request","url","method","loginByValid","valid","loginByPassword","password","logout","getUserInfo","uid","updateKeyword","EventEmitter","NavBar","state","buttonGroup1","title","icon","LeftOutlined","RightOutlined","buttonGroup2","SkinOutlined","SettingOutlined","MailOutlined","buttonGroup3","FullscreenExitOutlined","MinusOutlined","BorderOutlined","CloseOutlined","searchValue","clear","clearButtonActive","style","border","onClick","setState","clearButtonDeactive","color","login","React","createRef","history","avatarUrl","userName","changeSearch","e","target","value","length","getSearch","emit","props","location","pathname","split","push","logout_","then","res","console","log","data","code","loginEvent","window","localStorage","removeItem","prev","path","shift","next","addListener","getItem","profile","nickname","forceUpdate","isLogin","id","width","objectFit","src","wyy","this","map","item","size","type","shape","className","backgroundColor","placeholder","prefix","SearchOutlined","suffix","borderRadius","onChange","onPressEnter","AudioOutlined","UserOutlined","height","fontWeight","CaretDownOutlined","ref","Component","withRouter","require","SideBar","click","buttonGroup","class","href","refs","clicked","isShowSongsList","cur","current","childNodes","focus","scoped","VerticalAlignBottomOutlined","FieldTimeOutlined","PlusOutlined","alert","stopPropagation","HeartOutlined","FireOutlined","VolumeBar","volumeBar","volumeSensing","mouseDown","document","body","clientHeight","clientY","ratio","player","volume","event","bar","setMaxListeners","Infinity","onMouseDown","onMouseUp","onMouseMove","display","show","getSongListDetailInfo","getSong","getComments","offset","isSongValid","getSongUrl","Event","PlayBar","img","singer","like","isPlaying","isPause","progressBG","progressBar","curTime","endTime","isMute","isShowVolume","input","musicUrl","musicID","isShowingDetail","keyword","selectedRow","songListID","albumID","getSongInfo","songs","al","picUrl","name","ar","play","pause","setTime","time","setCur","min","Math","floor","minStr","sec","secStr","updateProgress","currentTime","duration","Number","isNaN","playWithLyricsEvent","clickProgress","start","offsetLeft","end","offsetWidth","clientX","setMute","mute","showDetail","getUserSongs","audio","getElementById","addEventListener","playMusicEvent","playSongListEvent","playSingleSongEvent","playAlbumSongEvent","replayEvent","fallback","position","cursor","top","left","DownOutlined","UpOutlined","whiteSpace","wordBreak","overflow","textOverflow","HeartTwoTone","twoToneColor","MenuUnfoldOutlined","StepBackwardOutlined","PauseOutlined","PlayCircleOutlined","StepForwardOutlined","MenuOutlined","AudioMutedOutlined","SoundOutlined","NavMenu","menu","key","selectedKeys","mode","Item","MenuBar","menuItem","curren","CarouselFigure","imgNums","carouselL","carouselC","carouselR","carouselButtons","curIdx","isSwitchShow","switchLeft","switchRight","backLeft","Array","backCenter","backRight","timer","showSwitch","right","hideSwitch","buttons","children","setInterval","banners","idx","banner","getImgDataUrl","imageUrl","clearInterval","a","get","responseType","dataUrl","URL","createObjectURL","onMouseOver","onMouseOut","dots","alt","fill","v","k","prevState","prevProp","goTo","CaretLeftOutlined","CaretRightOutlined","ShowFramI","marginBottom","imgUrl","textAlign","undefined","playCount","ceil","bottom","author","RecommendSongsList","songsInfo","isRequest","result","Promise","resolve","marginLeft","fontSize","alignItems","flexWrap","titlePos","Broadcast","justifyContent","MV","NewMusic","playSingleSong","description","song","alias","artists","flexDirection","RecommendPage","marginTop","PersonalPage","songsList","overflowY","padding","getSongLists","tag","SongslistPage","curSongListsNum","curTag","curOffset","curSongLists","mainConsole","mainConsoleRef","getCurInfo","playlists","coverImgUrl","creator","updateTime","total","chooseTag","alignContent","margin","defaultCurrent","defaultPageSize","getOfficialRanks","getRankInfo","OfficialRankList","rank","cover","marginRight","RankPage","officialRankID","globalRankID","officialRank","globalRank","getInfo","list","all","getOfficialRank","getGlobalRank","playlist","tracks","slice","alia","prevProps","snapshot","getSingers","area","initial","page","SingerPage","areaButtons","typeButtons","initialButtons","curArea","curType","curInitial","areaButtonsRef","typeButtonsRef","initialButtonsRef","curPage","isPageIncrease","curSingers","curTotal","getSingersList","more","clickArea","i","param","switchPage","flag","String","fromCharCode","Nav","select","getNewSongs","getNewCDs","dict","NewSongs","newSongs","getSongs","padStart","albumName","album","albumAlia","getDuration","mp3Url","typeIdx","NewCDs","newCDs","getCDs","monthData","cd","artist","textJustify","NewSongsPage","newSongButtonRef","newCdButtonRef","buttonSelected","buttonOther","justifySelf","component","to","UserPage","getSingles","getAlbums","getVideos","getLyrics","getUsers","Keyword","match","params","toString","Singles","resNum","curRes","maxHot","selectedSongId","emitPlayInfo","columns","dataIndex","render","SoundFilled","DownloadOutlined","highlightKeyWord","hot","percent","showInfo","strokeColor","trailColor","initInfo","reg","RegExp","frags","replace","getCurSongs","info","download","mark","songCount","dataSource","pagination","onRow","record","rowClassName","Singers","singers","artistCount","str","pageSize","Albums","albums","albumCount","coverUrl","singerAlia","getAlbumDetail","Videos","videos","videoCount","video","nameArr","playTime","durationms","hour","SongLists","songLists","playlistCount","songlist","trackCount","getSongListDetail","Lyrics","lyrics","showAll","songId","songName","keyLyric","getKeyLyric","range","first","second","txt","allLyric","head","tail","row","navigator","clipboard","writeText","join","showAllOrKeyLyric","copyLyric","Users","users","userprofileCount","userprofiles","user","userId","gender","ManOutlined","WomanOutlined","SinglesWithEvent","SearchPage","subPage","getLyric","getDetail","getSimilarSongs","DetailPage","curID","timePoints","songAlia","similarSongs","commentsNum","comments","isUpdate","lrc","lyric","pop","search","getTimePoints","getOtherInfo","songUrl","getCurComments","pow","reduce","b","comment","avatar","content","timeStr","likeCount","likedCount","replyUser","beReplied","replyComment","targetPage","LikeOutlined","ShareAltOutlined","CommentOutlined","Header","creatorImg","createTime","songsCount","subscribeCount","shareCount","descriptionAbstractRef","descriptionFullRef","getCreateTime","Time","Date","getFullYear","getMonth","getDate","showFullDescription","showAbstractDescription","tags","trackIds","subscribedCount","PlayCircleFilled","FileAddOutlined","paragraph","CaretUpOutlined","Songs","rows","playMusic","rowIdx","playMusicOfSongList","dt","Comments","commentCount","Collectors","collectors","subscribers","person","signature","SongListPage","playAlbumSong","Descriptions","publishTime","AlbumPage","Description","Login","byValid","isAgree","sendValid","resetPhoneRef","resetValidRef","resetPassRef","getValidCode","setTimeout","storeAccount","setItem","account","token","encodeURIComponent","cookie","submit","BG","zIndex","icon1","disabled","Password","iconRender","visible","EyeTwoTone","EyeInvisibleOutlined","PlayHistoryPage","allData","playWithLyrics","User","Search","Detail","SongList","Album","PlayHistory","MainPage","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"0lCAOeA,EALHC,IAAMC,OAAO,CACrBC,QAAQ,4CACRC,QAAQ,MCFL,SAASC,EAASC,GACrB,OAAOC,EAAQ,CACXC,IAAI,uBAAuBF,EAC3BG,OAAO,QAIR,SAASC,EAAaJ,EAAaK,GACtC,OAAOJ,EAAQ,CACXC,IAAI,yBAAyBF,EAAM,YAAYK,EAC/CF,OAAO,QAIR,SAASG,EAAgBN,EAAaO,GACzC,OAAON,EAAQ,CACXC,IAAI,0BAA0BF,EAAM,aAAaO,EACjDJ,OAAO,QAIR,SAASK,IACZ,OAAOP,EAAQ,CACXC,IAAI,UACJC,OAAO,QAkBR,SAASM,EAAYC,GACxB,OAAOT,EAAQ,CACXC,IAAI,oBAAoBQ,EACxBP,OAAO,QC/CA,UAA0B,gC,OCenCQ,EAAc,IAAIC,IAmBlBC,E,4MACFC,MAAY,CACRC,aAAa,CAAC,CAACC,MAAM,eAAKC,KAAKC,KAAc,CAACF,MAAM,eAAKC,KAAKE,MAC9DC,aAAa,CAAC,CAACJ,MAAM,IAAIC,KAAK,cAACI,EAAA,EAAD,KAAiB,CAACL,MAAM,IAAIC,KAAK,cAACK,EAAA,EAAD,KAAoB,CAACN,MAAM,IAAIC,KAAK,cAACM,EAAA,EAAD,MACnGC,aAAa,CAAC,CAACR,MAAM,mBAASC,KAAK,cAACQ,EAAA,EAAD,KAA2B,CAACT,MAAM,qBAAMC,KAAK,cAACS,EAAA,EAAD,KAClE,CAACV,MAAM,qBAAMC,KAAK,cAACU,EAAA,EAAD,KAAmB,CAACX,MAAM,eAAKC,KAAK,cAACW,EAAA,EAAD,MACpEC,YAAY,GACZC,OAAM,EACNC,kBAAmB,cAAC,IAAD,CAAQd,KAAM,cAACW,EAAA,EAAD,IAAkBI,MAAO,CAACC,OAAO,QACvCC,QAAS,WAAK,EAAKC,SAAS,CAACN,YAAY,GAAGC,OAAM,OAC7EM,oBAAqB,cAAC,IAAD,CAAQnB,KAAM,cAACW,EAAA,EAAD,IAAkBI,MAAO,CAACK,MAAM,QAAQJ,OAAO,UAClFK,MAAMC,IAAMC,YACZC,QAAQ,KACRC,UAAU,GACVC,SAAS,I,EAsBbC,aAAa,SAACC,GACV,EAAKV,SAAS,CAACN,YAAYgB,EAAEC,OAAOC,QACjCF,EAAEC,OAAOC,MAAMC,OACjB,EAAKb,SAAS,CAACL,OAAM,IAErB,EAAKK,SAAS,CAACL,OAAM,K,EAG1BmB,UAAU,WACNtC,EAAcuC,KAAK,SAAS,EAAKpC,MAAMe,YAAY,EAAKsB,MAAMC,SAASC,SAASC,MAAM,KAAK,IAC3F,EAAKH,MAAMV,QAAQc,KAAK,WAAW,EAAKzC,MAAMe,YAAY,c,EAG9DC,MAAM,WACF,EAAKK,SAAS,CAACN,YAAY,M,EAG/BS,MAAM,WAGF,EAAKa,MAAMV,QAAQc,KAAK,W,EAG5BC,QAAQ,WACJhD,IAASiD,MAAK,SAAAC,GACVC,QAAQC,IAAIF,GACO,MAAhBA,EAAIG,KAAKC,OAERC,GAAWb,KAAK,UAChBc,OAAOC,aAAaC,WAAW,MAC/BF,OAAOC,aAAaC,WAAW,UAC/BF,OAAOC,aAAaC,WAAW,SAC/B,EAAK/B,SAAS,CAACO,UAAU,GAAGC,SAAS,KACrC,EAAKQ,MAAMV,QAAQc,KAAK,e,EAKpCY,KAAK,WACD,IAAMC,EAAK,EAAKjB,MAAMC,SAASC,SAASC,MAAM,KAC9Cc,EAAKC,QACMD,EAAK,GACFA,EAAK,GACTA,EAAK,GAKf,EAAKjB,MAAMV,QAAQc,KAAK,U,EAI5Be,KAAK,a,uDAvEL,WAAqB,IAAD,OAEhBP,GAAWQ,YAAY,SAAQ,WACY,OAApCP,OAAOC,aAAaO,QAAQ,OAE3B/D,EAAYuD,OAAOC,aAAaO,QAAQ,OAAOf,MAAK,SAAAC,GAChD,EAAKvB,SAAS,CAACO,UAAUgB,EAAIG,KAAKY,QAAQ/B,UAAUC,SAASe,EAAIG,KAAKY,QAAQC,WAC9E,EAAKC,oBAIdC,IAA+C,OAApCZ,OAAOC,aAAaO,QAAQ,OAEtC/D,EAAYuD,OAAOC,aAAaO,QAAQ,OAAOf,MAAK,SAAAC,GAChD,EAAKvB,SAAS,CAACO,UAAUgB,EAAIG,KAAKY,QAAQ/B,UAAUC,SAASe,EAAIG,KAAKY,QAAQC,gB,oBA2D1F,WAAU,IAAD,OACL,OACI,sBAAKG,GAAG,UAAR,UACI,qBAAKA,GAAG,UAAR,SACI,qBAAK7C,MAAO,CAAC8C,MAAM,QAAQC,UAAU,SAAUC,IAAKC,MAExD,sBAAKJ,GAAG,YAAR,UAEQK,KAAKpE,MAAMC,aAAaoE,KAAI,SAACC,GAAD,OACvB,cAAC,IAAD,CAASpE,MAAOoE,EAAKpE,MAArB,SACG,cAAC,IAAD,CAAQqE,KAAK,QAAQC,KAAK,UAAUC,MAAM,SAAStE,KAAM,cAACmE,EAAKnE,KAAN,IAAeuE,UAAU,UACzExD,MAAO,CAACyD,gBAAgB,kBAAkBxD,OAAO,OAAOI,MAAM,SAC/DH,QAAsB,iBAAbkD,EAAKpE,MAAa,EAAKmD,KAAK,EAAKG,QAHpBc,EAAKpE,UAQ/C,qBAAK6D,GAAG,eAAR,SACI,cAAC,IAAD,CAAQa,YAAY,eACZ3C,MAAOmC,KAAKpE,MAAMe,YAClB8D,OAAQ,cAAC,IAAD,CAAQ1E,KAAM,cAAC2E,EAAA,EAAD,IAAmB5D,MAAO,CAACC,OAAO,UACxD4D,OAAQX,KAAKpE,MAAMgB,MAAOoD,KAAKpE,MAAMiB,kBAAoBmD,KAAKpE,MAAMsB,oBACpEJ,MAAO,CAACC,OAAO,OAAO6D,aAAa,OAAOzD,MAAM,SAChD0D,SAAUb,KAAKtC,aACfoD,aAAcd,KAAKjC,cAG/B,cAAC,IAAD,CAASjC,MAAM,2BAAf,SACI,cAAC,IAAD,CAAQqE,KAAK,QAAQC,KAAK,UAAUC,MAAM,SAAStE,KAAM,cAACgF,EAAA,EAAD,IAAmBT,UAAU,UAC9ExD,MAAO,CAACyD,gBAAgB,kBAAkBxD,OAAO,OAAOI,MAAM,gBAG9E,sBAAKwC,GAAG,WAAR,UAE+B,KAAvBK,KAAKpE,MAAM4B,UACP,cAAC,IAAD,CAAQzB,KAAM,cAACiF,EAAA,EAAD,IAAmBV,UAAU,YAC3C,qBACIR,IAAKE,KAAKpE,MAAM4B,UAChBV,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOpB,UAAU,QAAQe,aAAa,OAClEN,UAAU,YAII,KAAtBN,KAAKpE,MAAM6B,SACP,KACA,qBAAK6C,UAAU,UAAUxD,MAAO,CAACK,MAAM,QAAQ+D,WAAW,UAA1D,SAAsElB,KAAKpE,MAAM6B,WAGrFiC,GACI,cAAC,IAAD,CAAQS,KAAK,QAAQG,UAAU,UAAUvE,KAAM,cAACoF,EAAA,EAAD,IACvCrE,MAAO,CAACyD,gBAAgB,iBAAiBxD,OAAO,OAAOI,MAAM,SAC7DH,QAASgD,KAAK1B,QAFtB,0BAMA,cAAC,IAAD,CAAQ6B,KAAK,QAAQG,UAAU,UAAUvE,KAAM,cAACoF,EAAA,EAAD,IAAsBC,IAAKpB,KAAKpE,MAAMwB,MAC7EN,MAAO,CAACyD,gBAAgB,iBAAiBxD,OAAO,OAAOI,MAAM,SAAUH,QAASgD,KAAK5C,MAD7F,gCAKR,cAAC,IAAD,CAAQ+C,KAAK,QAASG,UAAU,UACxBxD,MAAO,CAACyD,gBAAgB,iBAAiBxD,OAAO,OAAOI,MAAM,SADrE,6BAKI6C,KAAKpE,MAAMM,aAAa+D,KAAI,SAACC,GAAD,OACvB,cAAC,IAAD,CAAQC,KAAK,QAAQC,KAAK,UAAUC,MAAM,SAAStE,KAAMmE,EAAKnE,KAAOuE,UAAU,UACtDxD,MAAO,CAAEyD,gBAAgB,iBAAiBxD,OAAO,OAAOI,MAAM,UAA1E+C,EAAKpE,UAG3B,sBAAMwE,UAAU,eAAhB,eAEIN,KAAKpE,MAAMU,aAAa2D,KAAI,SAACC,GAAD,OACvB,cAAC,IAAD,CAASpE,MAAOoE,EAAKpE,MAArB,SACG,cAAC,IAAD,CAAQqE,KAAK,QAAQC,KAAK,UAAUC,MAAM,SAAStE,KAAMmE,EAAKnE,KAAOuE,UAAU,eACtExD,MAAO,CAAEyD,gBAAgB,iBAAiBxD,OAAO,OAAOI,MAAM,YAFzC+C,EAAKpE,oB,GAnK9CuB,IAAMgE,WA+KZC,cAAW3F,G,6CC3MpBmB,EAAMyE,EAAQ,KAsGLC,E,kDApFX,WAAYvD,GAAY,IAAD,8BACnB,cAAMA,IAFFwD,WACe,IAWvB7F,MAAY,CACR8F,YAAY,CACR,CAAC5F,MAAM,2BAAO6F,MAAM,UAAUC,KAAK,GAAGjC,GAAG,GACzC,CAAC7D,MAAM,eAAK6F,MAAM,OAAOC,KAAK,GAAGjC,GAAG,GACpC,CAAC7D,MAAM,eAAK6F,MAAM,OAAOC,KAAK,GAAGjC,GAAG,GACpC,CAAC7D,MAAM,eAAK6F,MAAM,OAAOC,KAAK,GAAGjC,GAAG,GACpC,CAAC7D,MAAM,eAAK6F,MAAM,OAAOC,KAAK,GAAGjC,GAAG,GACpC,CAAC7D,MAAM,iBAAO6F,MAAM,OAAOC,KAAK,GAAGjC,GAAG,IAE1CkC,KAAKxE,IAAMC,YACXwE,QAAQ,EACRpC,SAAQ,EACRqC,iBAAgB,GArBhB,EAAKN,MAAQ,SAACO,GACI,EAAKpG,MAAMiG,KAAKI,QAAQC,WAAW,EAAKtG,MAAMkG,SACpDxB,UAAa,EAAK1E,MAAMkG,SAAS,EAAG,cAAc,OACzC,EAAKlG,MAAMiG,KAAKI,QAAQC,WAAWF,GACzC1B,UAAa0B,GAAK,EAAG,iBAAiB,UACjD,EAAK/E,SAAS,CAAC6E,QAAQE,KAPR,E,qDA2BvB,WACIhC,KAAKpE,MAAMiG,KAAKI,QAAQE,U,oBAI5B,WAAU,IAAD,OACL,OACI,sBAAKxC,GAAG,WAAWyB,IAAKpB,KAAKpE,MAAMiG,KAAnC,UACI,uBAAOT,IAAKtE,EAAOsF,QAAM,IAErBpC,KAAKpE,MAAM8F,YAAYzB,KAAI,SAACC,GAAD,OACvB,qBAAKI,UAAWJ,EAAKyB,MAAqB3E,QAAS,WAAK,EAAKyE,MAAMvB,EAAKP,KAAxE,SACKO,EAAKpE,OADuBoE,EAAKP,OAO1CK,KAAKpE,MAAM8D,QACX,qBAAKY,UAAU,OAAOtD,QAAS,WAAK,EAAKyE,MAAM,IAA/C,sCACA,qBAAKnB,UAAU,WAAf,sCAGJ,sBAAKA,UAAU,cAActD,QAAS,WAAK,EAAKyE,MAAM,IAAtD,UACI,cAACY,EAAA,EAAD,CAA6B/B,UAAU,aACvC,oEAEJ,sBAAKA,UAAU,cAActD,QAAS,WAAK,EAAKyE,MAAM,IAAtD,UACI,cAACa,EAAA,EAAD,CAAmBhC,UAAU,aAC7B,8DAEJ,sBAAKA,UAAWN,KAAKpE,MAAM8D,QAAQ,cAAc,WAAaC,GAAG,YAC5D3C,QAAS,WAAK,EAAKC,SAAS,CAAC8E,iBAAiB,EAAKnG,MAAMmG,mBAD9D,UAEI,iEACA,cAACZ,EAAA,EAAD,IACA,cAACoB,EAAA,EAAD,CAAc5C,GAAG,gBAAgB3C,QAAS,SAACW,GAAK6E,MAAM,MAAM7E,EAAE8E,wBAG9DzC,KAAKpE,MAAMmG,gBAEH,sBAAKzB,UAAU,cAActD,QAAS,WAAK,EAAKyE,MAAM,KAAM9B,GAAG,WAA/D,UACI,cAAC+C,EAAA,EAAD,CAAepC,UAAU,aACzB,uEACA,cAAC,IAAD,CAASxE,MAAM,uCAAf,SACI,cAAC,IAAD,CAAQqE,KAAK,QAAQpE,KAAM,cAAC4G,EAAA,EAAD,IAAiBhD,GAAG,eAAeU,MAAM,gBAKhF,Y,GA9EFhD,IAAMgE,WCpBtBvE,EAAMyE,EAAQ,KAOdqB,E,4MACFhH,MAAY,CACRiH,UAAUxF,IAAMC,YAChBwF,cAAczF,IAAMC,YACpByF,WAAU,G,EAYdtB,MAAM,SAAC9D,GACH,IAAIqE,EAAIgB,SAASC,KAAKC,aAAavF,EAAEwF,QAAQ,EAAE,GAC/C,GAAGnB,GAAK,GAAKA,GAAK,GAClB,CACI,IAAMoB,EAAMpB,EAAI,GACN,EAAKpG,MAAMiH,UACjBZ,QAAQnF,MAAMmE,OAAO,IAAImC,EAAM,IACnC,EAAKnF,MAAMoF,OAAOpB,QAAQqB,OAAOF,EAE5B,IAANpB,GACF,EAAK/D,MAAMsF,MAAMvF,KAAK,S,uDAnB3B,WACIgC,KAAKpE,MAAMiH,UAAUZ,QAAQE,QAC7BnC,KAAKpE,MAAMkH,cAAcb,QAAQE,QACjC,IAAMqB,EAAIxD,KAAKpE,MAAMiH,UACrB7C,KAAK/B,MAAMsF,MAAMlE,YAAY,iBAAgB,WAAKmE,EAAIvB,QAAQnF,MAAMmE,OAAO,KAC3EjB,KAAK/B,MAAMsF,MAAMlE,YAAY,iBAAgB,WAAKmE,EAAIvB,QAAQnF,MAAMmE,OAAO,SAC3EjB,KAAK/B,MAAMsF,MAAME,gBAAgBC,O,oBAgBrC,WAAU,IAAD,OACL,OACI,sBAAK/D,GAAG,gBACH3C,QAAS,SAACW,GAAK,EAAK8D,MAAM9D,IAC1BgG,YAAa,WAAK,EAAK1G,SAAS,CAAC8F,WAAU,KAC3Ca,UAAW,WAAK,EAAK3G,SAAS,CAAC8F,WAAU,KACzCc,YAAa,SAAClG,GAAQ,EAAK/B,MAAMmH,WAAW,EAAKtB,MAAM9D,IACvDyD,IAAKpB,KAAKpE,MAAMkH,cAChBhG,MAAO,CAACgH,QAAQ9D,KAAK/B,MAAM8F,KAAK,OAAO,QAN5C,UAQI,uBAAO3C,IAAKtE,EAAOsF,QAAM,IACzB,sBAAKzC,GAAG,WAAR,UACI,qBAAMA,GAAG,gBACT,qBAAKA,GAAG,YAAYyB,IAAKpB,KAAKpE,MAAMiH,sB,GA1ChCxF,IAAMgE,WAiDfuB,I,wHCxDR,SAASoB,GAAsBrE,GAClC,OAAO5E,EAAQ,CACXC,IAAI,uBAAuB2E,EAC3B1E,OAAO,QAWR,SAASgJ,GAAQtE,GACpB,OAAO5E,EAAQ,CACXC,IAAI,oBAAoB2E,EACxB1E,OAAO,QAIR,SAASiJ,GAAYvE,EAAUwE,GAClC,OAAOpJ,EAAQ,CACXC,IAAI,iCAAiC2E,EAAG,WAAWwE,EACnDlJ,OAAO,QAIR,SAASmJ,GAAYzE,GACxB,OAAO5E,EAAQ,CACXC,IAAI,mBAAmB2E,EACvB1E,OAAO,QAIR,SAASoJ,GAAW1E,GACvB,OAAO5E,EAAQ,CACXC,IAAI,gBAAgB2E,EACpB1E,OAAO,QC7Bf,IACMqJ,GAAM,IAAI5I,IACVoB,GAAMyE,EAAQ,KA6BdgD,G,4MACF3I,MAAY,CACRoG,IAAI,CACAwC,IAAI,8BACJ1I,MAAM,QACN2I,OAAO,UAEXC,MAAK,EACLrB,OAAOhG,IAAMC,YACbqH,WAAU,EACVC,SAAQ,EACRC,WAAWxH,IAAMC,YACjBwH,YAAYzH,IAAMC,YAClByH,QAAQ,QACRC,QAAQ,QACRjC,WAAU,EACVkC,QAAO,EACPC,cAAa,EACbC,MAAM9H,IAAMC,YACZ8H,SAAS,GAETC,QAAQ3B,IACR4B,iBAAgB,EAChBC,QAAQ,GACRC,YAAY9B,IACZ+B,WAAW/B,IACXgC,QAAQhC,K,EA6CZiC,YAAY,WACR1B,GAAQ,EAAKrI,MAAMyJ,SAAS9G,MAAK,SAAAC,GAC7B,IAAMG,EAAKH,EAAIG,KAAKiH,MAAM,GAC1B,EAAK3I,SAAS,CAAC+E,IAAI,CAACwC,IAAI7F,EAAKkH,GAAGC,OAAOhK,MAAM6C,EAAKoH,KAAKtB,OAAO9F,EAAKqH,GAAG,GAAGD,Y,EAIjFE,KAAK,WAED,IAAM5C,EAAW,EAAKzH,MAAMyH,OACxB,EAAKzH,MAAMgJ,UACdvB,EAAOpB,QAAQnC,IAAI,EAAKlE,MAAMwJ,UAC/B,EAAKnI,UAAS,iBAAK,CAAC0H,WAAU,EAAKC,SAAQ,MAAQ,WAAKvB,EAAOpB,QAAQgE,W,EAG3EC,MAAM,WACe,EAAKtK,MAAMyH,OACrBpB,QAAQiE,QACf,EAAKjJ,SAAS,CAAC0H,WAAU,EAAMC,SAAQ,K,EAG3CuB,QAAQ,SAACC,EAAYC,GACjB,IAAIC,EAAIC,KAAKC,MAAMJ,EAAK,IACpBK,EAAQH,EAAI,GAAI,IAAIA,EAAIA,EACxBI,EAAIH,KAAKC,MAAMJ,EAAS,GAAJE,GACpBK,EAAQD,EAAI,GAAI,IAAIA,EAAIA,EACzBL,EAAQ,EAAKpJ,SAAS,CAAC8H,QAAQ0B,EAAO,IAAIE,IACvC,EAAK1J,SAAS,CAAC+H,QAAQyB,EAAO,IAAIE,K,EAG5CC,eAAe,WACX,IAAMvD,EAAO,EAAKzH,MAAMyH,OAClBG,EAAI,EAAK5H,MAAMkJ,YACjB9C,EAAIqB,EAAOpB,QAAQ4E,YACvBrD,EAAIvB,QAAQnF,MAAM8C,MAAO,IAAIoC,EAAIqB,EAAOpB,QAAQ6E,SAAU,IAC1D,EAAKX,QAAQnE,GAAI,GACO,UAArB,EAAKpG,MAAMoJ,SAAsB+B,OAAOC,MAAM3D,EAAOpB,QAAQ6E,WAC/D,EAAKX,QAAQ9C,EAAOpB,QAAQ6E,UAAS,GACnC,EAAKlL,MAAMmJ,UAAU,EAAKnJ,MAAMoJ,SAAgC,UAArB,EAAKpJ,MAAMmJ,SACxD,EAAK9H,UAAS,iBAAK,CAAC0H,WAAU,MAAQ,eAEvC,EAAK1G,MAAMgJ,oBAAoBjJ,KAAK,cAAcgE,I,EAKtDkF,cAAc,SAACvJ,GACX,IAAIwJ,EAAM,EAAKvL,MAAMiJ,WAAW5C,QAAQmF,WACpCC,EAAI,EAAKzL,MAAMiJ,WAAW5C,QAAQqF,YAAYH,EAC9CnF,EAAIrE,EAAE4J,QACV,GAAGvF,GAAKmF,GAASnF,GAAKqF,EACtB,CACI,IAAM7D,EAAI,EAAK5H,MAAMkJ,YACfzB,EAAO,EAAKzH,MAAMyH,OACpBD,GAAQpB,EAAImF,IAAQE,EAAIF,GAC5B3D,EAAIvB,QAAQrC,MAAO,IAAIwD,EAAO,IAC9B,IAAI2B,EAAQ1B,EAAOpB,QAAQ6E,SAAS1D,EACpCC,EAAOpB,QAAQ4E,YAAY9B,EAC3B,EAAKoB,QAAQpB,GAAQ,GAClB/C,IAAMqF,GACR,EAAKpK,SAAS,CAAC0H,WAAU,M,EAIlC6C,QAAQ,SAACC,GACL,IAAMpE,EAAO,EAAKzH,MAAMyH,OACrBoE,GAECpE,EAAOpB,QAAQqB,OAAO,EACtB,EAAKrG,SAAS,CAACgI,QAAO,IACtBX,GAAMtG,KAAK,mBAIXqF,EAAOpB,QAAQqB,OAAO,GACtB,EAAKrG,SAAS,CAACgI,QAAO,IACtBX,GAAMtG,KAAK,mB,EAInB0J,WAAW,WACP,GAAI,EAAK9L,MAAM0J,gBAMf,CACI,IAAIC,EAAQ,EAAK3J,MAAM2J,QACvB,EAAKtI,SAAS,CAACqI,iBAAgB,IAClB,MAAVC,EAAe,EAAKtH,MAAMV,QAAQc,KAAK,cAAc,EAAKzC,MAAM6J,YACjD,OAAVF,EAGJ,EAAKtH,MAAMV,QAAQc,KAAK,UAAU,EAAKzC,MAAM8J,SAE/B,UAAVH,EAAkB,EAAKtH,MAAMV,QAAQc,KAAK,cAChC,cAAVkH,EAAsB,EAAKtH,MAAMV,QAAQc,KAAK,kBACpC,UAAVkH,GAA+B,kBAAVA,EAA0B,EAAKtH,MAAMV,QAAQc,KAAK,SAC7D,YAAVkH,EAAoB,EAAKtH,MAAMV,QAAQc,KAAK,iBAC9C,EAAKJ,MAAMV,QAAQc,KAAK,WAAW,EAAKzC,MAAM2J,QAAQ,IAAI,EAAK3J,MAAM4J,kBAjB3E,EAAKvH,MAAMV,QAAQc,KAAK,WAAW,EAAKzC,MAAMyJ,QAAQ,IAAI,EAAKzJ,MAAM2J,SACrE,EAAKtI,SAAS,CAACqI,iBAAgB,K,EAoBvCqC,aAAa,WACNjI,IAA+C,OAApCZ,OAAOC,aAAaO,QAAQ,MACzC,EAAKrB,MAAMV,QAAQc,KAAK,iBACnB,EAAKJ,MAAMV,QAAQc,KAAK,W,uDArJlC,WAAqB,IAAD,OAChB2B,KAAKpE,MAAMyH,OAAOpB,QAAQE,QAC1BnC,KAAKpE,MAAMkJ,YAAY7C,QAAQE,QAC/BnC,KAAKpE,MAAMiJ,WAAW5C,QAAQE,QAC9B,IAAMyF,EAAM5E,SAAS6E,eAAe,SACjCD,GACFA,EAAME,iBAAiB,aAAa9H,KAAK4G,gBAC1CtC,GAAMjF,YAAY,QAAO,WAAK,EAAKpC,SAAS,CAACgI,QAAO,OACpDjF,KAAK/B,MAAM8J,eAAe1I,YAAY,QAAQ,SAACrE,EAAW2E,EAAU4F,EAAeC,GAE3E,EAAKvI,UAAS,iBAAK,CAACmI,SAASpK,EAAIqK,QAAQ1F,EAAG4F,QAAQA,EAAQC,YAAYA,EAAYZ,SAAQ,EAAMI,QAAQ,QAAQL,WAAU,MAAO,WAC/H,EAAKgB,cACL,EAAKM,aAGjBjG,KAAK/B,MAAM+J,kBAAkB3I,YAAY,QAAO,SAACM,EAAW3E,EAAYyK,GACpE,EAAKxI,UAAS,iBAAK,CAACmI,SAASpK,EAAKqK,QAAQ1F,EAAI4F,QAAQ,IAAKC,YAAY9B,IAAUkB,SAAQ,EAAOa,WAAWA,EAAWT,QAAQ,QAAQL,WAAU,MAC5I,WACA,EAAKgB,cACL,EAAKM,aAGbjG,KAAK/B,MAAMgK,oBAAoB5I,YAAY,QAAO,SAACM,EAAU3E,EAAYkE,GACrE,EAAKjC,UAAS,iBAAK,CAACmI,SAASpK,EAAKqK,QAAQ1F,EAAI4F,QAAQrG,EAAMsG,YAAY9B,IAAUkB,SAAQ,EAAMI,QAAQ,QAAQL,WAAU,MAAO,WAC7H,EAAKgB,cACL,EAAKM,aAGbjG,KAAK/B,MAAMiK,mBAAmB7I,YAAY,QAAO,SAACM,EAAW3E,EAAY0K,GACrE,EAAKzI,UAAS,iBAAK,CAACmI,SAASpK,EAAKqK,QAAQ1F,EAAI4F,QAAQ,KAAMC,YAAY9B,IAAUkB,SAAQ,EAAOc,QAAQA,EAAQV,QAAQ,QAAQL,WAAU,MAAO,WAC9I,EAAKgB,cACL,EAAKM,aAGbjG,KAAK/B,MAAMkK,YAAY9I,YAAY,QAAO,SAACM,EAAW3E,GAClD,EAAKiC,UAAS,iBAAK,CAACmI,SAASpK,EAAKqK,QAAQ1F,EAAI4F,QAAQ,UAAWC,YAAY9B,IAAUkB,SAAQ,EAAMI,QAAQ,QAAQL,WAAU,MAAO,WAClI,EAAKgB,cACL,EAAKM,e,oBAmHjB,WAAU,IAAD,OACL,OACI,sBAAKtG,GAAG,WAAR,UACI,uBAAOyB,IAAKtE,GAAOsF,QAAM,IACzB,sBAAKzC,GAAG,WAAR,UAEQK,KAAKpE,MAAMyJ,UAAU3B,IACjB,cAAC,KAAD,CACI5D,IAAKE,KAAKpE,MAAMoG,IAAIwC,IACpB5E,MAAM,OAAOqB,OAAO,OACpBmH,SA9Nf,iqGA+NepL,QAASgD,KAAK0H,aAElB,sBAAK5K,MAAO,CAACuL,SAAS,YAAtB,UACI,cAAC,IAAD,CAASvM,MAAOkE,KAAKpE,MAAM0J,gBAAgB,iCAAQ,iCAAnD,SACI,qBACIxF,IAAKE,KAAKpE,MAAMoG,IAAIwC,IACpB1H,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOpB,UAAU,QAAQe,aAAa,MAAM0H,OAAO,WAC/EtL,QAASgD,KAAK0H,eAIlB1H,KAAKpE,MAAM0J,gBACP,sBAAKxI,MAAO,CAACuL,SAAS,WAAWE,IAAI,MAAMC,KAAK,OAAOrL,MAAM,SAA7D,UACI,8BACI,cAACsL,GAAA,EAAD,MAEJ,8BACI,cAACA,GAAA,EAAD,SAGR,sBAAK3L,MAAO,CAACuL,SAAS,WAAWE,IAAI,MAAMC,KAAK,OAAOrL,MAAM,SAA7D,UACI,8BACI,cAACuL,GAAA,EAAD,MAEJ,8BACI,cAACA,GAAA,EAAD,YAM5B,sBAAK/I,GAAG,wBAAR,UACI,sBAAKA,GAAG,eAAR,UACI,cAAC,IAAD,CAAS7D,MAAOkE,KAAKpE,MAAMoG,IAAIlG,MAA/B,SACI,qBAAKgB,MAAO,CAAC6L,WAAW,SAASC,UAAU,WAAWC,SAAS,SAASC,aAAa,WAAWR,OAAO,WAAvG,SACKtI,KAAKpE,MAAMoG,IAAIlG,UAIpBkE,KAAKpE,MAAM8I,KACP,cAACqE,GAAA,EAAD,CAAcC,aAAa,MAAMhM,QAAS,WAAK,EAAKC,SAAS,CAACyH,MAAM,EAAK9I,MAAM8I,UAC/E,cAAChC,EAAA,EAAD,CAAe1F,QAAS,WAAK,EAAKC,SAAS,CAACyH,MAAM,EAAK9I,MAAM8I,aAGzE,cAAC,IAAD,CAAS5I,MAAOkE,KAAKpE,MAAMoG,IAAIyC,OAA/B,SACI,qBAAK3H,MAAO,CAAC6L,WAAW,SAASC,UAAU,WAAWC,SAAS,SAASC,aAAa,WAAWR,OAAO,WAAvG,SACKtI,KAAKpE,MAAMoG,IAAIyC,iBAKhC,sBAAK9E,GAAG,OAAR,UACI,sBAAKA,GAAG,cAAR,UACI,cAACsJ,GAAA,EAAD,CAAoB3I,UAAU,aAC9B,cAAC4I,GAAA,EAAD,CAAuB5I,UAAU,aAE7BN,KAAKpE,MAAM+I,UACP,cAAC,IAAD,CAAS7I,MAAM,eAAf,SACI,cAACqN,GAAA,EAAD,CAAenM,QAASgD,KAAKkG,UAEjC,cAAC,IAAD,CAASpK,MAAM,eAAf,SACI,cAACsN,GAAA,EAAD,CAAqBpM,QAAS,kBAAI,EAAKiJ,QAAQ3F,UAAU,eAGrE,cAAC+I,GAAA,EAAD,CAAsB/I,UAAU,aAChC,cAAC,IAAD,CAASxE,MAAM,2BAAf,SACI,cAACwN,GAAA,EAAD,CAAehJ,UAAU,kBAGjC,sBAAKX,GAAG,eAAR,UACI,uBAAOyB,IAAKpB,KAAKpE,MAAMyH,OAAQ1D,GAAG,UAClC,sBAAKA,GAAG,cACH3C,QAAS,SAACW,GAAK,EAAKuJ,cAAcvJ,IAClCgG,YAAa,WAAK,EAAK1G,SAAS,CAAC8F,WAAU,KAC3Cc,YAAa,SAAClG,GAAQ,EAAK/B,MAAMmH,WAAW,EAAKmE,cAAcvJ,IAC/DiG,UAAW,WAAK,EAAK3G,SAAS,CAAC8F,WAAU,KAJ9C,UAMK/C,KAAKpE,MAAMmJ,QACZ,sBAAKpF,GAAG,SAASyB,IAAKpB,KAAKpE,MAAMiJ,WAAjC,UACI,qBAAKlF,GAAG,UAAUyB,IAAKpB,KAAKpE,MAAMkJ,cAClC,qBAAKnF,GAAG,iBAEXK,KAAKpE,MAAMoJ,iBAIxB,qBACIrF,GAAG,SACH3C,QAAS,WAAM,EAAKC,SAAS,CAACiI,cAAc,EAAKtJ,MAAMsJ,gBAF3D,SAKQlF,KAAKpE,MAAMqJ,OACP,cAAC,IAAD,CAASnJ,MAAM,2BAAf,SACI,cAACyN,GAAA,EAAD,CACIvM,QAAS,SAACW,GAAK,EAAK6J,SAAQ,GAAO7J,EAAE8E,uBAI7C,cAAC,IAAD,CAAS3G,MAAM,eAAf,SACI,cAAC0N,GAAA,EAAD,CACIxM,QAAS,SAACW,GAAK,EAAK6J,SAAQ,GAAM7J,EAAE8E,yBAMpDzC,KAAKpE,MAAMsJ,aACX,cAAC,EAAD,CAAW7B,OAAQrD,KAAKpE,MAAMyH,OAAQE,MAAOe,GAAOP,MAAM,IAC1D,cAAC,EAAD,CAAWV,OAAQrD,KAAKpE,MAAMyH,OAAQE,MAAOe,GAAOP,MAAM,IAE9D,qBAAKpE,GAAG,gBAAgB3C,QAASgD,KAAK2H,aAAtC,SACI,cAAC,IAAD,CAAS7L,MAAM,2BAAf,SACI,cAACmN,GAAA,EAAD,e,GAhTF5L,IAAMgE,WAwTbC,eAAWiD,I,SCrVpBkF,G,4MACF7N,MAAY,CACRqG,QAAQ,EAAKhE,MAAMyL,KAAK,GAAGC,IAC3BD,KAAKrM,IAAMC,a,uDAGf,WAEImB,QAAQC,IAAIsB,KAAKpE,MAAM8N,Q,oBAG3B,WAAU,IAAD,OACGzH,EAAYjC,KAAKpE,MAAjBqG,QACR,OACI,qBAAKtC,GAAG,cAAR,SACI,cAAC,KAAD,CACI3C,QAAS,SAACW,GAAK,EAAKV,SAAS,CAACgF,QAAQtE,EAAEgM,OACxCC,aAAc,CAAC3H,GACf4H,KAAK,aACLzI,IAAKpB,KAAKpE,MAAM8N,KAJpB,SAOQ1J,KAAK/B,MAAMyL,KAAKzJ,KAAI,SAACC,GAAD,OAChB,cAAC,KAAK4J,KAAN,UACI,mBAAG9M,QAAS,WAAKkD,EAAKuB,SAAtB,SAAiCvB,EAAKpE,SAD1BoE,EAAKyJ,gB,GAvB3BtM,IAAMgE,WCJtB0I,G,4MACFnO,MAAY,CACRoO,SAAS,CACL,CAACL,IAAI,IAAI7N,MAAM,2BAAO2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,OACzD,CAACsL,IAAI,IAAI7N,MAAM,2BAAO2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,oBACzD,CAACsL,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,iBACvD,CAACsL,IAAI,IAAI7N,MAAM,qBAAM2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,gBACxD,CAACsL,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,kBACvD,CAACsL,IAAI,IAAI7N,MAAM,2BAAO2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,gBAE7D4L,OAAO,K,4CAEX,WACI,OACI,8BACI,cAAC,GAAD,CAASP,KAAM1J,KAAKpE,MAAMoO,iB,GAfpB3M,IAAMgE,WAqBbC,eAAWyI,I,kFCLpBG,G,4MACFtO,MAAY,CACRuO,QAAQ,GACRC,UAAU/M,IAAMC,YAChB+M,UAAUhN,IAAMC,YAChBgN,UAAUjN,IAAMC,YAChBiN,gBAAgBlN,IAAMC,YACtBkN,OAAO,EACPC,cAAa,EACbC,WAAWrN,IAAMC,YACjBqN,YAAYtN,IAAMC,YAClBsN,SAASC,MAAM,IACfC,WAAWD,MAAM,IACjBE,UAAUF,MAAM,IAChBG,MAAM,M,EA0DVC,WAAW,WACP,IAAI,EAAKrP,MAAM6O,aACf,CACI,IAAMjC,EAAK,EAAK5M,MAAM8O,WAChBQ,EAAM,EAAKtP,MAAM+O,YACvB,EAAK1N,UAAS,iBAAK,CAACwN,cAAa,MAC7B,WACIjC,EAAKvG,QAAQnF,MAAMgH,QAAQ,OAC3BoH,EAAMjJ,QAAQnF,MAAMgH,QAAQ,Y,EAK5CqH,WAAW,WACP,GAAG,EAAKvP,MAAM6O,aACd,CACI,IAAMjC,EAAK,EAAK5M,MAAM8O,WAChBQ,EAAM,EAAKtP,MAAM+O,YACvB,EAAK1N,UAAS,iBAAK,CAACwN,cAAa,MAC7B,WACIjC,EAAKvG,QAAQnF,MAAMgH,QAAQ,OAC3BoH,EAAMjJ,QAAQnF,MAAMgH,QAAQ,Y,EAK5C4G,WAAW,WACP,IAAMU,EAAQ,EAAKxP,MAAM2O,gBACzBa,EAAQnJ,QAAQoJ,SAAS,EAAKzP,MAAM4O,QAAQ1N,MAAMyD,gBAAgB,QAClE,EAAKtD,UAAS,iBAAK,CAACuN,OAAO,EAAK5O,MAAM4O,OAAO,EAAE,EAAK5O,MAAM4O,OAAO,EAAE,MAC/D,WACIY,EAAQnJ,QAAQoJ,SAAS,EAAKzP,MAAM4O,QAAQ1N,MAAMyD,gBAAgB,iBAClE,EAAK3E,MAAMwO,UAAUnI,QAAQhD,OAC7B,EAAKrD,MAAMyO,UAAUpI,QAAQhD,OAC7B,EAAKrD,MAAM0O,UAAUrI,QAAQhD,W,EAIzC0L,YAAY,WACR,IAAMS,EAAQ,EAAKxP,MAAM2O,gBACzBa,EAAQnJ,QAAQoJ,SAAS,EAAKzP,MAAM4O,QAAQ1N,MAAMyD,gBAAgB,QAClE,EAAKtD,UAAS,iBAAK,CAACuN,OAAO,EAAK5O,MAAM4O,OAAQ,EAAK5O,MAAMuO,QAAQ,EAAG,EAAKvO,MAAM4O,OAAO,EAAE,MACpF,WACIY,EAAQnJ,QAAQoJ,SAAS,EAAKzP,MAAM4O,QAAQ1N,MAAMyD,gBAAgB,iBAClE,EAAK3E,MAAMwO,UAAUnI,QAAQ7C,OAC7B,EAAKxD,MAAMyO,UAAUpI,QAAQ7C,OAC7B,EAAKxD,MAAM0O,UAAUrI,QAAQ7C,W,uDArGzC,WAAqB,IAAD,OAEFY,KAAKpE,MAAM2O,gBACjBtI,QAAQoJ,SAASrL,KAAKpE,MAAM4O,QAAQ1N,MAAMyD,gBAAgB,iBAClE,IAAMyK,EAAMM,aAAY,WACpB,EAAKX,gBACP,KACF3K,KAAK/C,SAAS,CAAC+N,MAAMA,IAErB,IAAMxC,EAAKxI,KAAKpE,MAAM8O,WAChBQ,EAAMlL,KAAKpE,MAAM+O,YACvB3K,KAAK/C,UAAS,iBAAK,CAACwN,cAAa,MAC7B,WACIjC,EAAKvG,QAAQnF,MAAMgH,QAAQ,OAC3BoH,EAAMjJ,QAAQnF,MAAMgH,QAAQ,UCrDjC/I,EAAQ,CACXC,IAAI,UACJC,OAAO,QDsDKsD,MAAK,SAAAC,GACb,EAAKvB,SAAS,CAACkN,QAAQ3L,EAAIG,KAAK4M,QAAQzN,SACxC,IAFmB,EAEf0N,EAAI,EAFW,eAGDhN,EAAIG,KAAK4M,SAHR,IAGnB,IAAI,EAAJ,qBACA,CAAC,IADOE,EACR,QACI,EAAKC,cAAcD,EAAOE,SAASH,GACnCA,GAAK,GANU,oC,kCAW3B,WACI1M,OAAO8M,cAAc5L,KAAKpE,MAAMoP,S,oEAGpC,WAAoBhQ,EAAWwQ,GAA/B,kBAAAK,EAAA,sEACoBpR,IAAMqR,IAAI9Q,EAAI,CAAC+Q,aAAa,SADhD,OACUvN,EADV,OAEUwN,EAAQC,IAAIC,gBAAgB1N,EAAIG,MACnC6M,IAAMxL,KAAKpE,MAAMuO,QAAQ,GAExBnK,KAAKpE,MAAMgP,SAASY,GAAKQ,EACzBhM,KAAKpE,MAAMkP,WAAWU,EAAI,GAAGQ,EAC7BhM,KAAKpE,MAAMmP,UAAU,GAAGiB,GAEpBR,IAAMxL,KAAKpE,MAAMuO,QAAQ,GAE7BnK,KAAKpE,MAAMgP,SAASY,GAAKQ,EACzBhM,KAAKpE,MAAMkP,WAAW,GAAGkB,EACzBhM,KAAKpE,MAAMmP,UAAU,GAAGiB,IAIxBhM,KAAKpE,MAAMgP,SAASY,GAAKQ,EACzBhM,KAAKpE,MAAMkP,WAAWU,EAAI,GAAGQ,EAC7BhM,KAAKpE,MAAMmP,UAAUS,EAAI,GAAGQ,GAnBpC,gD,6EAyEA,WAAU,IAAD,OACCZ,EAAQpL,KAAKpE,MAAM2O,gBACzB,OACI,sBACI4B,YAAanM,KAAKiL,WAClBmB,WAAYpM,KAAKmL,WACjBxL,GAAG,eAHP,UAKI,qBAAKA,GAAG,eAAR,SACI,cAAC,KAAD,CAAU0M,MAAM,EAAOjL,IAAKpB,KAAKpE,MAAMwO,UAAvC,SAEQpK,KAAKpE,MAAMgP,SAAS3K,KAAI,SAACC,GAAD,OACpB,qBAAKpD,MAAO,CAACuL,SAAS,YAAtB,SACI,qBAAKvI,IAAKI,EAAMoM,IAAI,GAAGxP,MAAO,CAAC8C,MAAM,OAAOC,UAAU,oBAM1E,qBAAKF,GAAG,iBAAR,SACI,cAAC,KAAD,CAAU0M,MAAM,EAAOjL,IAAKpB,KAAKpE,MAAMyO,UAAvC,SAEQrK,KAAKpE,MAAMkP,WAAW7K,KAAI,SAACC,GAAD,OACtB,8BAAK,qBAAKJ,IAAKI,EAAMoM,IAAI,GAAGxP,MAAO,CAAC8C,MAAM,OAAOC,UAAU,oBAK3E,qBAAKF,GAAG,gBAAR,SACI,cAAC,KAAD,CAAU0M,MAAM,EAAOjL,IAAKpB,KAAKpE,MAAM0O,UAAvC,SAEQtK,KAAKpE,MAAMmP,UAAU9K,KAAI,SAACC,GAAD,OACrB,8BAAK,qBAAKJ,IAAKI,EAAMoM,IAAI,GAAGxP,MAAO,CAAC8C,MAAM,OAAOC,UAAU,oBAK3E,qBAAKF,GAAG,kBAAkByB,IAAKpB,KAAKpE,MAAM2O,gBAA1C,SAEQM,MAAM7K,KAAKpE,MAAMuO,SAASoC,KAAK,GAAGtM,KAAI,SAACuM,EAAEC,GAAH,OAClC,qBAAKnM,UAAU,iBAEVtD,QAAS,WACLoO,EAAQnJ,QAAQoJ,SAAS,EAAKzP,MAAM4O,QAAQ1N,MAAMyD,gBAAgB,QAClE,EAAKtD,UAAS,SAACyP,EAAcC,GAAf,MAA+B,CAACnC,OAAOiC,MACjD,WACIrB,EAAQnJ,QAAQoJ,SAAS,EAAKzP,MAAM4O,QAAQ1N,MAAMyD,gBAAgB,iBAClE,EAAK3E,MAAMwO,UAAUnI,QAAQ2K,KAAKH,GAClC,EAAK7Q,MAAMyO,UAAUpI,QAAQ2K,KAAKH,GAClC,EAAK7Q,MAAM0O,UAAUrI,QAAQ2K,KAAKH,QARzCA,QAgBtB,qBAAK9M,GAAG,qBAAqByB,IAAKpB,KAAKpE,MAAM8O,WAAY1N,QAASgD,KAAK0K,WAAvE,SAAoF,cAACmC,GAAA,EAAD,MACpF,qBAAKlN,GAAG,sBAAsByB,IAAKpB,KAAKpE,MAAM+O,YAAa3N,QAASgD,KAAK2K,YAAzE,SAAuF,cAACmC,GAAA,EAAD,a,GApL1EzP,IAAMgE,WA0LpB6I,ME9MT6C,I,mNACFtL,MAAM,SAAC9B,GACH,EAAK1B,MAAMV,QAAQc,KAAK,cAAcsB,I,4CAG1C,WAAU,IAAD,OACL,OACI,sBAAKW,UAAWN,KAAK/B,MAAMqC,UAAoCtD,QAAS,WAAK,EAAKyE,MAAM,EAAKxD,MAAMiC,KAAKP,KAAM7C,MAAO,CAACkQ,aAAa,QAAnI,UACI,qBAAKlQ,MAAO,CAAC8C,MAAM,OAAOC,UAAU,QAAQ0I,IAAI,EAAE3H,aAAa,MAAM0H,OAAO,WAAYxI,IAAKE,KAAK/B,MAAMiC,KAAK+M,SAC7G,qBAAKnQ,MAAO,CAACoQ,UAAU,SAAvB,SACKlN,KAAK/B,MAAMiC,KAAKpE,QAErB,sBAAKgB,MAAO,CAACuL,SAAS,WAAWE,IAAI,MAAM2C,MAAM,MAAM/N,MAAM,SAA7D,eACkCgQ,IAA5BnN,KAAK/B,MAAMiC,KAAKkN,UAAwB7G,KAAK8G,KAAKrN,KAAK/B,MAAMiC,KAAKkN,UAAU,KAAO,SAAK,UAC5DD,IAA5BnN,KAAK/B,MAAMiC,KAAKkN,UAAuB,cAAChE,GAAA,EAAD,IAAuB,QAEpE,sBAAKtM,MAAO,CAACuL,SAAS,WAAWiF,OAAO,OAAO9E,KAAK,OAAOrL,MAAM,SAAjE,eAC+BgQ,IAAzBnN,KAAK/B,MAAMiC,KAAKqN,OAAoB,cAACvM,EAAA,EAAD,IAAgB,UAC3BmM,IAAzBnN,KAAK/B,MAAMiC,KAAKqN,OAAqBvN,KAAK/B,MAAMiC,KAAKqN,OAAQ,UAX5BvN,KAAK/B,MAAMiC,KAAKP,Q,GAP/CtC,IAAMgE,YAyBfC,eAAWyL,ICZpBS,G,4MACF5R,MAAY,CACR6R,UAAU,GACVzB,QAAQ,GACR0B,WAAU,G,uDAGd,WAAqB,IAAD,OACZ1N,KAAKpE,MAAM8R,WFfZ3S,EACH,CACIC,IAAI,yBACJC,OAAO,QEciBsD,MAAK,SAAAC,GAAM,IAAD,iBACdA,EAAIG,KAAKgP,QADK,IAC9B,IAAI,EAAJ,qBACA,CAAC,IADOzN,EACR,QACI,EAAKtE,MAAM6R,UAAUpP,KAAK,CACtB4O,OAAO/M,EAAK4F,OACZsH,UAAUlN,EAAKkN,UACftR,MAAMoE,EAAK6F,KACXpG,GAAGO,EAAKP,MAPc,8BAU9B,OAAO,IAAIiO,SAAQ,SAACC,GAAWA,EAAQ,UACxCtP,MAAK,SAAAC,GAAM,EAAKiB,cAAc,EAAKxC,SAAS,CAACyQ,WAAU,S,oBAIlE,WAEI,OACI,sBAAK/N,GAAG,yBAAR,UACI,uBAAM7C,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,MAAMC,SAAS,OAAO7M,WAAW,SAAS4C,QAAQ,OAAOkK,WAAW,UAAzG,qCACQ,cAAC/R,EAAA,EAAD,OAER,qBAAKa,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,MAAMhK,QAAQ,OAAOmK,SAAS,QAAlE,SAEQjO,KAAKpE,MAAM6R,UAAUxN,KAAI,SAACC,GAAD,OACrB,cAAC,GAAD,CAAWI,UAAU,yBAAyBJ,KAAMA,EAAMgO,SAAS,SAAahO,EAAKP,gB,GAnChFtC,IAAMgE,WA4CxBmM,MC9CTW,I,mNACFvS,MAAY,CACR6R,UAAU,GACVC,WAAU,G,uDAEd,WAAqB,IAAD,OACZ1N,KAAKpE,MAAM8R,WHHZ3S,EACH,CACIC,IAAI,+BACJC,OAAO,QGEgBsD,MAAK,SAAAC,GAAM,IAAD,iBACbA,EAAIG,KAAKgP,QADI,IAC7B,IAAI,EAAJ,qBACA,CAAC,IADOzN,EACR,QACI,EAAKtE,MAAM6R,UAAUpP,KAAK,CACtB4O,OAAO/M,EAAK4F,OACZhK,MAAMoE,EAAK6F,KACXpG,GAAGO,EAAKP,MANa,8BAS7B,OAAO,IAAIiO,SAAQ,SAACC,GAAWA,EAAQ,UACxCtP,MAAK,SAAAC,GAAM,EAAKiB,cAAc,EAAKxC,SAAS,CAACyQ,WAAU,S,oBAGlE,WACI,OACI,sBAAK/N,GAAG,gBAAR,UACI,uBAAM7C,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,MAAMC,SAAS,OAAO7M,WAAW,SAAS4C,QAAQ,OAAOkK,WAAW,UAAzG,qCACQ,cAAC/R,EAAA,EAAD,OAER,qBAAKa,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,MAAMhK,QAAQ,OAAOmK,SAAS,OAAOG,eAAe,gBAAxF,SAEQpO,KAAKpE,MAAM6R,UAAUxN,KAAI,SAAAC,GAAI,OACzB,cAAC,GAAD,CAAWI,UAAU,qBAAqBJ,KAAMA,EAAMgO,SAAS,SAAahO,EAAKP,gB,GA9BrFtC,IAAMgE,YAuCf8M,MCvCTE,I,mNACFzS,MAAY,CACR6R,UAAU,GACVC,WAAU,G,uDAEd,WAAqB,IAAD,OACZ1N,KAAKpE,MAAM8R,WJMZ3S,EACH,CACIC,IAAI,wBACJC,OAAO,QIPCsD,MAAK,SAAAC,GAAM,IAAD,iBACEA,EAAIG,KAAKgP,QADX,IACd,IAAI,EAAJ,qBACA,CAAC,IADOzN,EACR,QACI,EAAKtE,MAAM6R,UAAUpP,KAAK,CACtB4O,OAAO/M,EAAK4F,OACZhK,MAAMoE,EAAK6F,KACXpG,GAAGO,EAAKP,MANF,8BASd,OAAO,IAAIiO,SAAQ,SAACC,GAAWA,EAAQ,UACxCtP,MAAK,SAAAC,GAAM,EAAKiB,cAAc,EAAKxC,SAAS,CAACyQ,WAAU,S,oBAGlE,WACI,OACI,sBAAK/N,GAAG,SAAR,UACI,uBAAM7C,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,MAAMC,SAAS,OAAO7M,WAAW,SAAS4C,QAAQ,OAAOkK,WAAW,UAAzG,2BACQ,cAAC/R,EAAA,EAAD,OAER,qBAAKa,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,MAAMhK,QAAQ,OAAOmK,SAAS,OAAOG,eAAe,gBAAxF,SAEQpO,KAAKpE,MAAM6R,UAAUxN,KAAI,SAAAC,GAAI,OACzB,cAAC,GAAD,CAAWI,UAAU,cAAcJ,KAAMA,EAAMgO,SAAS,SAAahO,EAAKP,gB,GA9BrFtC,IAAMgE,YAuCRgN,MCnCTC,I,mNACF1S,MAAY,CACR6R,UAAU,GACVC,WAAU,G,EAsBdzH,KAAK,SAACtG,GACFyE,GAAYzE,GAAIpB,MAAK,WACjB8F,GAAW1E,GAAIpB,MAAK,SAAAC,GAChB+P,GAAevQ,KAAK,OAAQ2B,EAAInB,EAAIG,KAAKA,KAAK,GAAG3D,IAAK,eAE5D,WAAKwH,MAAM,sC,uDAxBjB,WAAqB,IAAD,OACZxC,KAAKpE,MAAM8R,WLUZ3S,EACH,CACIC,IAAI,iCACJC,OAAO,QKXOsD,MAAK,SAAAC,GAAM,IAAD,iBACJA,EAAIG,KAAKgP,QADL,IACpB,IAAI,EAAJ,qBACA,CAAC,IADOzN,EACR,QACI,EAAKtE,MAAM6R,UAAUpP,KAAK,CACtB4O,OAAO/M,EAAK4F,OACZhK,MAAMoE,EAAK6F,KACXyI,iBAAiCrB,IAArBjN,EAAKuO,KAAKC,MAAM,GAAexO,EAAKuO,KAAKC,MAAM,GAAG,GAC9D/O,GAAGO,EAAKP,GACR4N,OAAOrN,EAAKuO,KAAKE,QAAQ,GAAG5I,QARhB,8BAWpB,OAAO,IAAI6H,SAAQ,SAACC,GAAWA,EAAQ,UACxCtP,MAAK,SAAAC,GAAM,EAAKiB,cAAc,EAAKxC,SAAS,CAACyQ,WAAU,S,oBAYlE,WAAU,IAAD,OACL,OACI,sBAAK/N,GAAG,eAAR,UACI,uBAAM7C,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,MAAMC,SAAS,OAAO7M,WAAW,SAAS4C,QAAQ,OAAOkK,WAAW,UAAzG,qCACQ,cAAC/R,EAAA,EAAD,OAER,qBAAKa,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,MAAMhK,QAAQ,OAAOmK,SAAS,OAAOG,eAAe,gBAAxF,SAEQpO,KAAKpE,MAAM6R,UAAUxN,KAAI,SAAAC,GAAI,OACzB,sBAAKI,UAAU,oBAAkCxD,MAAO,CAACuL,SAAS,YAAlE,UACI,8BACI,cAAC,IAAD,CAASvM,MAAM,2BAAf,SACI,qBACIgE,IAAKI,EAAK+M,OACVnQ,MAAO,CAACmE,OAAO,OAAOpB,UAAU,QAAQe,aAAa,MAAM0H,OAAO,WAClEgE,IAAI,GACJtP,QAAS,WAAK,EAAKiJ,KAAK/F,EAAKP,WAIzC,cAAC,IAAD,CAAS7D,MAAOoE,EAAKpE,OAAOoE,EAAKsO,YAAY1Q,OAAQ,IAAIoC,EAAKsO,YAAY,IAAK,IAA/E,SACI,sBACI1R,MAAO,CAACgH,QAAQ,OAAO8K,cAAc,SAAUR,eAAe,gBAC1DJ,WAAW,aAAa1F,OAAO,WAFvC,UAII,sBAAKxL,MAAO,CAACmE,OAAO,MAAM6C,QAAQ,OAAOmK,SAAS,SAASpF,SAAS,UAApE,UACI,qBAAK/L,MAAO,CAACmE,OAAO,QAApB,SAA8Bf,EAAKpE,QAE/BoE,EAAKsO,YAAY1Q,OACb,qBAAKhB,MAAO,CAACK,MAAM,aAAnB,SAAkC,IAAI+C,EAAKsO,YAAY,MACvD,QAGZ,qBAAK1R,MAAO,CAACK,MAAM,QAAnB,SAA6B+C,EAAKqN,gBAxBNrN,EAAKP,gB,GA1ClDtC,IAAMgE,YA8EdiN,MC1FTO,G,uKACF,c,oBAGA,WACI,OACI,sBAAK/R,MAAO,CAACuL,SAAS,WAAWpH,OAAO,OAAO6N,UAAU,MAAMhL,QAAQ,OAAOmK,SAAS,OAAOpF,SAAS,UAAvG,UACI,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,W,GAXYxL,IAAMgE,WAiBnBwN,M,WCXTE,G,4MACFnT,MAAY,CACRoT,UAAU,I,uDAEd,WAAqB,IAAD,OCfbjU,EAAQ,CACXC,IAAI,0BACJC,OAAO,QDcQsD,MAAK,SAAAC,GAChBC,QAAQC,IAAIF,GADS,qBAELA,EAAIG,KAAKgP,QAFJ,IAErB,IAAI,EAAJ,qBACA,CAAC,IADOzN,EACR,QACI,EAAKtE,MAAMoT,UAAU3Q,KAAK,CACtBsB,GAAGO,EAAKP,GACRsN,OAAO/M,EAAK4F,OACZhK,MAAMoE,EAAK6F,KACXqH,UAAUlN,EAAKkN,aARF,8BAWrB,EAAK3N,mB,oBAIb,WACI,OACI,sBAAK3C,MAAO,CAAC8C,MAAM,OAAQqB,OAAO,OAAQ6C,QAAQ,OAAOmK,SAAS,OAAO5F,SAAS,WAAW4G,UAAU,UAAvG,UACI,qBAAKnS,MAAO,CAACiR,SAAS,OAAQ7M,WAAW,SAAUtB,MAAM,OAAQkE,QAAQ,OAAOoL,QAAQ,QAAxF,kDAIIlP,KAAKpE,MAAMoT,UAAU/O,KAAI,SAAAC,GAAI,OACzB,qBAAKI,UAAU,2BAAf,SACI,cAAC,GAAD,CACIJ,KAAMA,EACNgO,SAAS,sB,GA/Bd7Q,IAAMgE,WAyClB0N,MErDR,SAASI,GAAaC,EAAWjL,GACpC,OAEWpJ,EAFRoJ,IAAST,IAEO,CACX1I,IAAI,0CAA0CoU,EAC9CnU,OAAO,OAKI,CACXD,IAAI,6CAA6CmJ,EAAO,QAAQiL,EAChEnU,OAAO,Q,qBCSboU,G,4MACFzT,MAAY,CACR0T,gBAAgB,EAChBC,OAAO,eACPC,UAAU9L,IACV+L,aAAa,GACbC,YAAY,CAAC,eAAK,eAAK,eAAK,eAAK,eAAK,4BAAQ,qBAAM,eAAK,2BAAO,OAChEC,eAAetS,IAAMC,a,EAOzBsS,WAAW,WACP,EAAK3S,UAAS,iBAAO,CAACwS,aAAc,OAAM,WACtCN,GAAa,EAAKvT,MAAM2T,OAAQ,EAAK3T,MAAM4T,WAAWjR,MAAK,SAAAC,GAAQ,IAAD,iBAC7CA,EAAIG,KAAKkR,WADoC,IAC9D,2BAAqC,CAAC,IAA7B3P,EAA4B,QACjC,EAAKtE,MAAM6T,aAAapR,KAAK,CACzB+O,UAAWlN,EAAKkN,UAChBH,OAAQ/M,EAAK4P,YACbvC,OAAQrN,EAAK6P,QAAQvQ,SACrB1D,MAAOoE,EAAK6F,KACZpG,GAAIO,EAAKP,GACTqQ,WAAY9P,EAAK8P,cARqC,8BAW9D,EAAK/S,SAAS,CAACuS,UAAW,EAAK5T,MAAM6T,aAAa,EAAK7T,MAAM6T,aAAa3R,OAAO,GAAGkS,WAChFV,gBAAiB9Q,EAAIG,KAAKsR,QAE9B,EAAKxQ,qB,EAKjByQ,UAAU,SAAC1E,GAAc,IAAD,iBACF,EAAK5P,MAAM+T,eAAe1N,QAAQoJ,UADhC,IACpB,IAAI,EAAJ,qBAA8D,SAAQ1L,GAAG,IADrD,8BAET,EAAK/D,MAAM+T,eAAe1N,QAAQoJ,SAASG,GACjD7L,GAAG,iCACR,EAAK1C,UAAS,iBAAK,CAACsS,OAAO,EAAK3T,MAAM8T,YAAYlE,GAAKgE,UAAU9L,QAAW,WACxE,EAAKkM,iB,uDA9Bb,WACI5P,KAAK4P,e,oBAkCT,WAAU,IAAD,OACL,OACI,sBAAK9S,MAAO,CAAC8C,MAAM,OAAQqB,OAAO,OAAQ6C,QAAQ,OAAOmK,SAAS,OAAO5F,SAAS,WAAW4G,UAAU,UAAvG,UACI,qBAAKnS,MAAO,CAACiR,SAAS,OAAQ7M,WAAW,SAAUtB,MAAM,OAAQkE,QAAQ,OAAOoL,QAAQ,QAAxF,sCAGA,sBAAKvP,GAAG,uBAAR,UACI,sBAAK7C,MAAO,CAACC,OAAO,iBAAiB6D,aAAa,OAAOsO,QAAQ,mBAAjE,UACKlP,KAAKpE,MAAM2T,OACZ,cAACtT,EAAA,EAAD,OAEJ,qBAAKa,MAAO,CAACgH,QAAQ,OAAOsK,eAAe,eAAe+B,aAAa,UAAW/O,IAAKpB,KAAKpE,MAAM+T,eAAlG,SACK3P,KAAKpE,MAAM8T,YAAYzP,KAAI,SAACC,EAAKsL,GAAN,OACxB,qBAAKlL,UAAU,yBAAyBtD,QAAS,WAAK,EAAKkT,UAAU1E,IAArE,SAA6EtL,YAKrFF,KAAKpE,MAAM6T,aAAaxP,KAAI,SAAAC,GAAI,OACxB,qBAAKI,UAAU,4BAAf,SACI,cAAC,GAAD,CACIJ,KAAMA,EACNgO,SAAS,eAK7B,qBAAKpR,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,gBAAgBtM,QAAQ,OAAOsK,eAAe,UAA/E,SACI,cAAC,KAAD,CACYiC,eAAgB,EAChBC,gBAAiB,GACjBL,MAAOjQ,KAAKpE,MAAM0T,gBAClBzO,SAAU,WAAK,EAAK+O,yB,GA7ExBvS,IAAMgE,WAsFnBgO,MC3GR,SAASkB,KACZ,OAAOxV,EAAQ,CACXC,IAAI,kBACJC,OAAO,QAIR,SAASuV,GAAY7Q,GACxB,OAAO5E,EAAQ,CACXC,IAAI,uBAAuB2E,EAC3B1E,OAAO,Q,WCCTwV,G,4MACFhP,MAAM,SAAC9B,GACH,EAAK1B,MAAMV,QAAQc,KAAK,cAAcsB,I,EAG1CsG,KAAK,SAACtG,GACFyE,GAAYzE,GAAIpB,MAAK,WACjB8F,GAAW1E,GAAIpB,MAAK,SAAAC,GAChB+P,GAAevQ,KAAK,OAAQ2B,EAAInB,EAAIG,KAAKA,KAAK,GAAG3D,IAAK,eAE5D,WAAKwH,MAAM,sC,4CAGjB,WAAU,IAAD,OACL,OACI,sBAAK1F,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOmK,SAAS,OAAOD,WAAW,SAASI,eAAe,iBAA5F,UACI,sBAAKtR,MAAO,CAAC8C,MAAM,MAAM0I,OAAO,WAAhC,UACI,qBACIxL,MAAO,CAAC8C,MAAM,OAAOC,UAAU,QAAQe,aAAa,OACpDd,IAAKE,KAAK/B,MAAMyS,KAAKC,MACrB3T,QAAS,WAAK,EAAKyE,MAAM,EAAKxD,MAAMyS,KAAK/Q,KACzC2M,IAAI,KAER,sBAAKtP,QAAS,WAAK,EAAKyE,MAAM,EAAKxD,MAAMyS,KAAK/Q,KAA9C,qCACQ,cAAC1D,EAAA,EAAD,UAGZ,qBAAKa,MAAO,CAAC8C,MAAM,OAAnB,SACKI,KAAK/B,MAAMyS,KAAK9K,MAAM3F,KAAI,SAACC,EAAUsL,GAAX,OACvB,sBACIlL,UAAYkL,EAAI,IAAI,EAAG,2BAA2B,0BAClDxO,QAAS,WAAK,EAAKiJ,KAAK/F,EAAKP,KAFjC,UAII,sBAAK7C,MAAO,CAACgH,QAAQ,OAAOqM,aAAa,UAAzC,UAEQ3E,EAAI,EACJ,sBAAK1O,MAAO,CAACK,MAAM,iBAAiB+D,WAAW,SAAS0P,YAAY,OAApE,UACKpF,EAAI,EADT,OAGA,sBAAK1O,MAAO,CAAC8T,YAAY,OAAzB,UAAkCpF,EAAI,EAAtC,OAEJ,8BAAMtL,EAAKpE,QACVoE,EAAKwO,MAAM5Q,OAAO,sBAAKhB,MAAO,CAACK,MAAM,QAAnB,cAA8B+C,EAAKwO,MAAnC,OAAiD,QAExE,qBAAK5R,MAAO,CAACK,MAAM,QAAnB,SAA6B+C,EAAKuE,wB,GA5C/BpH,IAAMgE,WAqDtBC,eAAWmP,IClCpBI,I,mNACFjV,MAAY,CACRkV,eAAe,GACfC,aAAa,GACbC,aAAa,GACbC,WAAW,I,EAcfC,QAAQ,WACJX,KAAmBhS,MAAK,SAAAC,GACpB,IAAIwD,EADqB,iBAETxD,EAAIG,KAAKwS,MAFA,IAEzB,IAAI,EAAJ,qBACA,CAAC,IADOT,EACR,QAEa,wBADT1O,EAAI0O,EAAK3K,OACe,uBAAN/D,GAAqB,uBAANA,GAAqB,uBAANA,EAC/C,EAAKpG,MAAMkV,eAAezS,KAAKqS,EAAK/Q,IAEpC,EAAK/D,MAAMmV,aAAa1S,KAAKqS,EAAK/Q,KARd,kCAU1BpB,MAAK,WAEJqP,QAAQwD,IAAI,EAAKxV,MAAMkV,eAAe7Q,KAAI,SAAAN,GAAE,OAAG,EAAK0R,gBAAgB1R,OAC/DpB,MAAK,WACFqP,QAAQwD,IAAI,EAAKxV,MAAMmV,aAAa9Q,KAAI,SAAAN,GAAE,OAAG,EAAK2R,cAAc3R,OAC3DpB,MAAK,WAAM,EAAKkB,uBAE/B,WAAKhB,QAAQC,IAAI,gBAAM,EAAKe,kB,EAGlC4R,gBAAgB,SAAC1R,GACb,OAAO6Q,GAAY7Q,GAAIpB,MAAK,SAAAC,GACxB,EAAK5C,MAAMoV,aAAa3S,KAAK,CACzB0H,KAAKvH,EAAIG,KAAK4S,SAASxL,KACvBpG,GAAGnB,EAAIG,KAAK4S,SAAS5R,GACrBgR,MAAMnS,EAAIG,KAAK4S,SAASzB,YACxBlK,MAAMpH,EAAIG,KAAK4S,SAASC,OAAOC,MAAM,EAAE,GAAGxR,KAAI,SAACC,GAAD,MAAa,CACvDpE,MAAMoE,EAAK6F,KACX2I,WAAsBvB,IAAfjN,EAAKwR,KAAK,GAAgBxR,EAAKwR,KAAK,GAAG,GAC9CjN,OAAOvE,EAAK8F,GAAG,GAAGD,KAClBpG,GAAGO,EAAKP,a,EAMxB2R,cAAc,SAAC3R,GACX,OAAO6Q,GAAY7Q,GAAIpB,MAAK,SAAAC,GACxB,IAAMG,EAAKH,EAAIG,KAAK4S,SACpB,EAAK3V,MAAMqV,WAAW5S,KAAK,CACvBvC,MAAM6C,EAAKoH,KACXpG,GAAGhB,EAAKgB,GACRsN,OAAOtO,EAAKmR,YACZtB,YAAY7P,EAAK6P,YACjBpB,UAAUzO,EAAKyO,gB,uDAzD3B,WACIpN,KAAKkR,Y,gCAGT,SAAmBS,EAA0BjF,EAA0BkF,GAC/B,IAAjC5R,KAAKpE,MAAMoV,aAAalT,QAA6C,IAA/BkC,KAAKpE,MAAMqV,WAAWnT,SAE3DW,QAAQC,IAAI,gBACZsB,KAAKkR,a,oBAuDb,WACI,OACI,sBACIpU,MAAO,CAAC8C,MAAM,OAAQqB,OAAO,OAAQ6C,QAAQ,OAAOmK,SAAS,OACzDG,eAAe,SAAS/F,SAAS,WAAW4G,UAAU,SAASC,QAAQ,QAF/E,UAII,qBAAMpS,MAAO,CAACiR,SAAS,OAAQ7M,WAAW,SAAUtB,MAAM,OAAQkE,QAAQ,QAA1E,gCAEC9D,KAAKpE,MAAMoV,aAAa/Q,KAAI,SAAAC,GAAI,OAC7B,qBAAKpD,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,iBAAjC,SACI,cAAC,GAAD,CAAkBM,KAAMxQ,SAIhC,qBAAMpD,MAAO,CAACiR,SAAS,OAAQ7M,WAAW,SAAUtB,MAAM,OAAQkE,QAAQ,QAA1E,gCAEA,qBAAKhH,MAAO,CAAC8C,MAAM,OAAQkE,QAAQ,OAAQmK,SAAS,QAApD,SACKjO,KAAKpE,MAAMqV,WAAWhR,KAAI,SAAAC,GAAI,OAC3B,qBAAKI,UAAU,2BAAf,SACI,cAAC,GAAD,CACIJ,KAAMA,EACNgO,SAAS,wB,GA3FlB7Q,IAAMgE,YAuGdwP,M,QCrIR,SAASgB,GAAWzR,EAAY0R,EAAYC,EAAsBC,GACrE,OAAOjX,EAAQ,CACXC,IAAI,qBAAqBoF,EAAK,SAAS0R,EAAK,YAAYC,EAAQ,WAAoB,IAARC,EAAK,GACjF/W,OAAO,Q,WCwBTgX,G,4MACFrW,MAAY,CACRsW,YAAY,CAAC,CAACnM,KAAK,eAAKlI,OAAO,GAAG,CAACkI,KAAK,eAAKlI,MAAM,GAAG,CAACkI,KAAK,eAAKlI,MAAM,IAC1D,CAACkI,KAAK,eAAKlI,MAAM,GAAG,CAACkI,KAAK,eAAKlI,MAAM,IAAI,CAACkI,KAAK,eAAKlI,MAAM,IACvEsU,YAAY,CAAC,CAACpM,KAAK,eAAKlI,OAAO,GAAG,CAACkI,KAAK,qBAAMlI,MAAM,GAAG,CAACkI,KAAK,qBAAMlI,MAAM,GAAI,CAACkI,KAAK,2BAAOlI,MAAM,IAChGuU,eAAe,CAAC,CAACrM,KAAK,eAAKlI,OAAO,GAAG,CAACkI,KAAK,IAAIlI,MAAM,IACrDwU,SAAS,EACTC,SAAS,EACTC,YAAY,EACZC,eAAenV,IAAMC,YACrBmV,eAAepV,IAAMC,YACrBoV,kBAAkBrV,IAAMC,YACxBqV,QAAQ,EACRC,gBAAe,EACfC,WAAW,GACXC,SAAS,I,EASbC,eAAe,WACXlB,GAAW,EAAKjW,MAAM0W,QAAQ,EAAK1W,MAAMyW,QAAQ,EAAKzW,MAAM2W,WAAW,EAAK3W,MAAM+W,SAASpU,MAAK,SAAAC,GAC5FC,QAAQC,IAAIF,GACZ,EAAKvB,UAAS,iBAAK,CAAC4V,WAAW,GACvBC,SAAUtU,EAAIG,KAAKqU,MAAQ,EAAKpX,MAAMgX,eAAgB,EAAKhX,MAAMkX,SAAS,GAAG,EAAKlX,MAAMkX,aAC5F,WAAK,IAAD,iBACctU,EAAIG,KAAKgQ,SADvB,IACJ,IAAI,EAAJ,qBACA,CAAC,IADOlK,EACR,QACI,EAAK7I,MAAMiX,WAAWxU,KAAK,CACvB0H,KAAKtB,EAAOsB,KACZpG,GAAG8E,EAAO9E,GACVsN,OAAOxI,EAAOqB,UANlB,8BASJ,EAAKrG,qB,EAKjBwT,UAAU,SAAC/S,EAAYsL,GACnB,EAAKvO,UAAS,iBAAK,CAACoV,QAAQnS,EAAKrC,MAAM8U,QAAQ,EAAEG,SAAS,GAAGF,gBAAe,MAAO,WAG/E,IAFA,IAEQM,EAAE,EAAGA,EAAE,EAAKtX,MAAM4W,eAAevQ,QAAQoJ,SAASvN,OAAQoV,IAEvD,EAAKtX,MAAM4W,eAAevQ,QAAQoJ,SAAS6H,GAC3BvT,GAApBuT,IAAI,EAAE1H,EAAI,EAAa,+BACV,GAEpB,EAAKuH,qB,EAIbtR,MAAM,SAACvB,EAAYsL,EAAW2H,GAC1B,EAAKlW,UAAS,4CAAOkW,EAAOjT,EAAKrC,OAAnB,yBAAiC,GAAjC,0BAA4C,IAA5C,iCAA8D,GAA9D,KAAqE,WAC/E,IACIwN,EACA1L,EACO,YAARwT,GAEC9H,EAAS,EAAKzP,MAAM4W,eAAevQ,QAAQoJ,SAC3C1L,EAAG,gCAES,YAARwT,GAEJ9H,EAAS,EAAKzP,MAAM6W,eAAexQ,QAAQoJ,SAC3C1L,EAAG,iCAIH0L,EAAS,EAAKzP,MAAM8W,kBAAkBzQ,QAAQoJ,SAC9C1L,EAAG,mCAEP,IAAI,IAAIuT,EAAE,EAAGA,EAAE7H,EAASvN,OAAQoV,IAErB7H,EAAS6H,GACOvT,GAApBuT,IAAI,EAAE1H,EAAI,EAAa7L,EACV,GAEpB,EAAKoT,qB,EAIbK,WAAW,SAACpB,GACR,IAAMqB,EAAMrB,EAAK,EAAKpW,MAAM+W,QAC5B,EAAK1V,UAAS,iBAAK,CAAC0V,QAAQX,EAAKY,eAAeS,MAAO,WAAK,EAAKN,qB,uDAvErE,WACI,IAAI,IAAIG,EAAE,GAAIA,GAAG,GAAIA,IACpBlT,KAAKpE,MAAMwW,eAAe/T,KAAK,CAAC0H,KAAKuN,OAAOC,aAAaL,GAAIrV,MAAMyV,OAAOC,aAAaL,EAAE,MAC1FlT,KAAK+S,mB,oBAwET,WAAU,IAAD,OACL,OACI,sBAAKpT,GAAG,iBAAR,UACI,sBAAKW,UAAU,oBAAoBc,IAAKpB,KAAKpE,MAAM4W,eAAnD,UACI,qBAAKlS,UAAU,uBAAf,2BACCN,KAAKpE,MAAMsW,YAAYjS,KAAI,SAACC,EAAKsL,GAAN,OACxBA,EAAI,EAAK5P,MAAMsW,YAAYpU,OAAO,EAClC,qCACI,qBACIwC,UAAU,mBACVX,GAAIO,EAAKrC,QAAQ,EAAKjC,MAAMyW,QAAQ,+BAA+B,GACnErV,QAAS,WAAK,EAAKyE,MAAMvB,EAAKsL,EAAI,YAHtC,SAKKtL,EAAK6F,OAEV,qBAAKzF,UAAU,mBAAmBxD,MAAO,CAACK,MAAM,aAAhD,kBAEA,qBAAKmD,UAAU,mBAAmBtD,QAAS,WAAK,EAAKyE,MAAMvB,EAAKsL,EAAI,YAApE,SAAkFtL,EAAK6F,aAGnG,sBAAKzF,UAAU,oBAAoBc,IAAKpB,KAAKpE,MAAM6W,eAAnD,UACI,qBAAKnS,UAAU,uBAAf,2BACCN,KAAKpE,MAAMuW,YAAYlS,KAAI,SAACC,EAAKsL,GAAN,OACxBA,EAAI,EAAK5P,MAAMuW,YAAYrU,OAAO,EAC9B,qCACI,qBACIwC,UAAU,mBACVX,GAAIO,EAAKrC,QAAQ,EAAKjC,MAAM0W,QAAQ,+BAA+B,GACnEtV,QAAS,WAAK,EAAKyE,MAAMvB,EAAKsL,EAAI,YAHtC,SAKKtL,EAAK6F,OAEV,qBAAKzF,UAAU,mBAAmBxD,MAAO,CAACK,MAAM,aAAhD,kBAEJ,qBAAKmD,UAAU,mBAAmBtD,QAAS,WAAK,EAAKyE,MAAMvB,EAAKsL,EAAI,YAApE,SAAkFtL,EAAK6F,aAGnG,sBAAKzF,UAAU,oBAAoBc,IAAKpB,KAAKpE,MAAM8W,kBAAnD,UACI,qBAAKpS,UAAU,uBAAf,2BACCN,KAAKpE,MAAMwW,eAAenS,KAAI,SAACC,EAAKsL,GAAN,OAC3BA,EAAI,EAAK5P,MAAMwW,eAAetU,OAAO,EACjC,qCACI,qBACIwC,UAAU,0BACVX,GAAIO,EAAKrC,QAAQ,EAAKjC,MAAM2W,WAAW,kCAAkC,GACzEvV,QAAS,WAAK,EAAKyE,MAAMvB,EAAKsL,EAAI,eAHtC,SAKKtL,EAAK6F,OAEV,qBAAKzF,UAAU,0BAA0BxD,MAAO,CAACK,MAAM,aAAvD,kBAEJ,qBAAKmD,UAAU,0BAA0BtD,QAAS,WAAK,EAAKyE,MAAMvB,EAAKsL,EAAI,eAA3E,SACKtL,EAAK6F,aAKlB/F,KAAKpE,MAAMiX,WAAW5S,KAAI,SAACC,GAAD,OACtB,sBAAKpD,MAAO,CAAC8C,MAAM,MAAMsP,QAAQ,iBAAjC,UACI,qBAAKpP,IAAKI,EAAK+M,OAAQnQ,MAAO,CAAC8C,MAAM,OAAOC,UAAU,QAAQe,aAAa,SAC3E,8BAAMV,EAAK6F,aAIvB,qBAAKjJ,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,iBAAjC,SACI,cAAC,KAAD,CACIC,eAAgB,EAChBC,gBAAiB,GACjBL,MAAOjQ,KAAKpE,MAAMkX,SAClBjS,SAAU,SAACmR,GAAQ,EAAKoB,WAAWpB,e,GAlKlC3U,IAAMgE,WA0KhB4Q,M,SCrMT7G,GAAQ,CAAC,eAAK,eAAK,eAAK,eAAK,gBAI7BoI,G,4MACF5X,MAAY,CACRwP,QAAQ/N,IAAMC,a,EAQlBmE,MAAM,SAACgS,GAEH,IADA,IAAMrI,EAAQ,EAAKxP,MAAMwP,QAAQnJ,QAAQoJ,SACjC6H,EAAE,EAAGA,EAAE9H,EAAQtN,OAAQoV,IAEX9H,EAAQ8H,GAAGpW,MAAMoE,WAA9BgS,IAAIO,EAAqC,SACV,U,uDAV1C,WACwBzT,KAAKpE,MAAMwP,QAAQnJ,QAAQoJ,SAAS,GAC1CvO,MAAMoE,WAAW,W,oBAYnC,WAAU,IAAD,OACL,OACI,qBACIpE,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOkK,WAAW,UAC/C5M,IAAKpB,KAAKpE,MAAMwP,QAFpB,SAKQA,GAAQnL,KAAI,SAACC,EAAKsL,GAAN,OACR,qBACI1O,MAAO,CAAC8C,MAAM,KAAKsP,QAAQ,kBAAkB5G,OAAO,WACpDtL,QAAS,WACL,EAAKyE,MAAM+J,GACX,EAAKvN,MAAMwD,MAAM+J,IAJzB,SAOKtL,a,GAlCX7C,IAAMgE,WA2CTmS,MC/CR,SAASE,GAAYtT,GACxB,OAAOrF,EAAQ,CACXC,IAAI,kBAAkBoF,EACtBnF,OAAO,QAIR,SAAS0Y,GAAU7B,EAAY3N,GAClC,OAAOpJ,EAAQ,CACXC,IAAI,4BAA4B8W,EAAK,WAAW3N,EAChDlJ,OAAO,Q,WCaT2Y,GAAK,CAAC,EAAE,EAAE,GAAG,EAAE,IAEfC,G,4MACFjY,MAAY,CACR0W,QAAQ,EACRwB,SAAS,I,EAObC,SAAS,WACLL,GAAY,EAAK9X,MAAM0W,SAAS/T,MAAK,SAAAC,GACjC,IADsC,EAClCgN,EAAI,EAD8B,eAEtBhN,EAAIG,KAAKA,MAFa,IAEtC,IAAI,EAAJ,qBACA,CAAC,IADO8P,EACR,QACI,EAAK7S,MAAMkY,SAASzV,KAAK,CACrBsB,GAAG8O,EAAK9O,GACR6L,IAAI8H,OAAO9H,GAAKwI,SAAS,EAAE,KAC3BjO,KAAK0I,EAAK1I,KACV2L,UAAsBvE,IAAhBsB,EAAKC,MAAM,GAAgBD,EAAKC,MAAM,GAAG,GAC/CjK,OAAOgK,EAAKE,QAAQ,GAAG5I,KACvBkO,UAAUxF,EAAKyF,MAAMnO,KACrBoO,eAAiChH,IAAtBsB,EAAKyF,MAAMxF,MAAM,GAAgBD,EAAKyF,MAAMxF,MAAM,GAAG,GAChE5H,SAAS,EAAKsN,YAAY3F,EAAK3H,UAC/B1B,SAASqJ,EAAK4F,OACdvO,OAAO2I,EAAKyF,MAAMpO,SAEtB0F,GAAK,GAhB6B,8BAkBtC,EAAK/L,kB,EAIb2U,YAAY,SAAChO,GACTA,EAAKG,KAAKC,MAAMJ,EAAK,KACrB,IAAIE,EAAIC,KAAKC,MAAMJ,EAAK,IACpBM,EAAIN,EAAS,GAAJE,EACb,OAAOgN,OAAOhN,GAAK0N,SAAS,EAAE,KAAK,IAAIV,OAAO5M,GAAKsN,SAAS,EAAE,M,EAGlEvS,MAAM,SAAC6S,GACH,EAAKrX,UAAS,iBAAK,CAACqV,QAAQsB,GAAKU,GAASR,SAAS,OAAK,WAAK,EAAKC,e,EAGtE9N,KAAK,SAACtG,GACFyE,GAAYzE,GAAIpB,MAAK,WACjB8F,GAAW1E,GAAIpB,MAAK,SAAAC,GAChB+P,GAAevQ,KAAK,OAAQ2B,EAAInB,EAAIG,KAAKA,KAAK,GAAG3D,IAAK,mBAE5D,WAAKwH,MAAM,sC,uDA3CjB,WACIxC,KAAK+T,a,oBA6CT,WAAU,IAAD,OACL,OACI,sBAAKjX,MAAO,CAAC8C,MAAM,QAAnB,UACI,cAAC,GAAD,CAAK6B,MAAOzB,KAAKyB,QACjB,qBAAK3E,MAAO,CAACkQ,aAAa,UAEtBhN,KAAKpE,MAAMkY,SAAS7T,KAAI,SAACC,EAAKsL,GAAN,OACpB,sBACIlL,UAAYkL,EAAI,IAAI,EAAG,sBAAsB,qBAC7CxO,QAAS,WAAK,EAAKiJ,KAAK/F,EAAKP,KAFjC,UAII,sBAAK7C,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,OAAOkK,WAAW,SAAS4C,YAAY,QAAxE,UACI,qBAAK9T,MAAO,CAACK,MAAM,kBAAkByT,YAAY,OAAjD,SAA0D1Q,EAAKsL,MAC/D,sBAAK1O,MAAO,CAACuL,SAAS,WAAWlL,MAAM,QAAQyT,YAAY,OAA3D,UACI,qBAAK9Q,IAAKI,EAAK4F,OAAQhJ,MAAO,CAAC8C,MAAM,OAAOC,UAAU,QAAQe,aAAa,SAC3E,cAACwI,GAAA,EAAD,CAAoBtM,MAAO,CAACuL,SAAS,WAAWE,IAAI,OAAOC,KAAK,aAEpE,cAAC,IAAD,CAAS1M,MAAQoE,EAAKwR,KAAK5T,OAASoC,EAAK6F,KAAK,IAAI7F,EAAKwR,KAAK,IAAMxR,EAAK6F,KAAvE,SACI,sBAAKjJ,MAAO,CAACgH,QAAQ,OAAOmK,SAAS,SAASpF,SAAS,SAAS5H,OAAO,QAAvE,UACKf,EAAK6F,KACL7F,EAAKwR,KAAK5T,OAAQ,sBAAKhB,MAAO,CAACK,MAAM,mBAAnB,cAAyC+C,EAAKwR,KAA9C,OAA6D,aAI5F,qBAAK5U,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,SACK5D,EAAKuE,SAEV,sBAAK3H,MAAO,CAACgH,QAAQ,OAAOlE,MAAM,OAAlC,UACKM,EAAK+T,UACL/T,EAAKiU,UAAUrW,OAAQ,sBAAKhB,MAAO,CAACK,MAAM,mBAAnB,cAAyC+C,EAAKiU,UAA9C,OAAkE,QAE9F,qBAAKrX,MAAO,CAAC8C,MAAM,KAAKzC,MAAM,mBAA9B,SACK+C,EAAK4G,wB,GApFfzJ,IAAMgE,WA8FdwS,MCpGTD,GAAK,CAAC,MAAM,KAAK,KAAK,KAAK,MAC3BW,G,4MACF3Y,MAAY,CACRyW,QAAQ,MACRmC,OAAO,GACP7B,QAAQ,EACRG,SAAS,G,EAOb2B,OAAO,WACHd,GAAU,EAAK/X,MAAMyW,QAA+B,IAAtB,EAAKzW,MAAM+W,QAAQ,IAAOpU,MAAK,SAACC,GAC1D,IACIwD,EADErD,EAAKH,EAAIG,KAAK+V,UAEhBlJ,EAAI,EACR,IAAI,IAAImJ,KAAMhW,EACd,CACI,GAAG6M,EAAI,GAAG,MACVxJ,EAAIrD,EAAKgW,GACT,EAAK/Y,MAAM4Y,OAAOnW,KAAK,CACnBsB,GAAGqC,EAAIrC,GACPoG,KAAK/D,EAAI+D,KACT2L,UAAqBvE,IAAfnL,EAAI0M,MAAM,GAAgB1M,EAAI0M,MAAM,GAAG,GAC7CjK,OAAOzC,EAAI4S,OAAO7O,KAClBD,OAAO9D,EAAI8D,SAEf0F,GAAK,EAET,EAAKvO,UAAS,iBAAK,CAAC6V,SAAS,EAAKlX,MAAM4Y,OAAO1W,WAAS,WAAK,EAAK2B,qB,EAI1EgC,MAAM,SAAC+J,GACH,EAAKvO,UAAS,iBAAK,CAACoV,QAAQuB,GAAKpI,GAAKgJ,OAAO,GAAG7B,QAAQ,MAAI,WAAK,EAAK8B,a,EAG1ExO,KAAK,SAACtG,GACFyE,GAAYzE,GAAIpB,MAAK,WACjB8F,GAAW1E,GAAIpB,MAAK,SAAAC,GAChB+P,GAAevQ,KAAK,OAAQQ,EAAIG,KAAKA,KAAK,GAAG3D,IAAK,EAAKiD,MAAMC,SAASC,gBAE5E,WAAKqE,MAAM,sC,uDAnCjB,WACIxC,KAAKyU,W,oBAqCT,WAAU,IAAD,OACL,OACI,sBAAK3X,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOmK,SAAS,QAAlD,UACI,cAAC,GAAD,CAAKxM,MAAOzB,KAAKyB,QAEbzB,KAAKpE,MAAM4Y,OAAOvU,KAAI,SAAAC,GAAI,OACtB,sBAAKpD,MAAO,CAAC8C,MAAM,MAAMsP,QAAQ,OAAOlC,aAAa,OAAOlJ,QAAQ,OAAOsK,eAAe,aAC7EH,SAAS,OAAO5F,SAAS,YADtC,UAEI,qBACIvI,IAAKI,EAAK4F,OACVhJ,MAAO,CAAC8C,MAAM,OAAOC,UAAU,QAAQe,aAAa,MAAMoM,aAAa,MAAM1E,OAAO,WACpFtL,QAAS,WAAK,EAAKiJ,KAAK/F,EAAKP,KAC7B2M,IAAI,KAER,cAAC,IAAD,CAASxQ,MAAOoE,EAAK6F,MAAM7F,EAAKwR,KAAK5T,OAAQ,IAAIoC,EAAKwR,KAAK,IAAKxR,EAAKwR,MAArE,SACI,sBAAK5U,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAO6C,QAAQ,OAAOsK,eAAe,aAAaH,SAAS,OAAO3F,OAAO,WAA1G,UACI,qBAAKxL,MAAO,CAACoQ,UAAU,QAAQvE,WAAW,SAASC,UAAU,WACzDE,aAAa,WAAWD,SAAS,UADrC,SACiD3I,EAAK6F,OACrD7F,EAAKwR,KAAK5T,OACP,sBAAKhB,MAAO,CAACK,MAAM,kBAAkB0X,YAAY,UAAU/Q,QAAQ,SAAS6E,WAAW,SAASC,UAAU,WACtGE,aAAa,WAAWD,SAAS,UADrC,cACkD3I,EAAKwR,KADvD,OACqE,UAGjF,sBAAK5U,MAAO,CAACuL,SAAS,WAAWE,IAAI,OAAO2C,MAAM,OAAO/N,MAAM,SAA/D,UACI,cAAC6D,EAAA,EAAD,IACCd,EAAKuE,uB,GAvEjBpH,IAAMgE,WAiFZkT,MC7FTO,I,mNACFlZ,MAAY,CACRmZ,iBAAiB1X,IAAMC,YACvB0X,eAAe3X,IAAMC,a,EAGzBmE,MAAM,SAACrB,GACH,IAAM6U,EAAuB,SAAP7U,EAAe,EAAKxE,MAAMmZ,iBAAiB9S,QAAQ,EAAKrG,MAAMoZ,eAAe/S,QAC7FiT,EAAoB,SAAP9U,EAAe,EAAKxE,MAAMoZ,eAAe/S,QAAQ,EAAKrG,MAAMmZ,iBAAiB9S,QAChGgT,EAAetV,GAAG,6BAClBuV,EAAYvV,GAAG,4BACf,EAAK1B,MAAMV,QAAQc,KAAK,aAAa+B,I,4CAGzC,WAAU,IAAD,OACL,OACI,sBACItD,MAAO,CAAC8C,MAAM,OAAQqB,OAAO,OAAQ6C,QAAQ,OAAOmK,SAAS,OAAOG,eAAe,SAC3E/F,SAAS,WAAW4G,UAAU,SAASC,QAAQ,QAF3D,UAII,sBACIpS,MAAO,CAAC8C,MAAM,MAAMqB,OAAO,OAAOlE,OAAO,8BACjC6D,aAAa,OAAOkD,QAAQ,OAAOkK,WAAW,SAASmH,YAAY,UAF/E,UAII,qBACI/T,IAAKpB,KAAKpE,MAAMmZ,iBAChB/X,QAAS,WAAK,EAAKyE,MAAM,SACzB9B,GAAG,6BAHP,sCAOA,qBACIyB,IAAKpB,KAAKpE,MAAMoZ,eAChBhY,QAAS,WAAK,EAAKyE,MAAM,OACzB9B,GAAG,4BAHP,yCASJ,cAAC,KAAD,CAAOT,KAAK,iBAAiBkW,UAAWvB,KACxC,cAAC,KAAD,CAAO3U,KAAK,eAAekW,UAAWb,KACN,cAA/BvU,KAAK/B,MAAMC,SAASC,SAAwB,cAAC,KAAD,CAAUkX,GAAG,mBAAmB,Y,GA1ClEhY,IAAMgE,YAiDlBC,gBAAWwT,IC7CpBQ,G,4MACF1Z,MAAY,G,4CAGZ,WACI,OACQ,sBAAK+D,GAAG,WAAR,UACI,cAAC,GAAD,IACA,cAAC,KAAD,CAAOT,KAAK,aAAakW,UAAWvG,KACpC,cAAC,KAAD,CAAO3P,KAAK,iBAAiBkW,UAAWrG,KACxC,cAAC,KAAD,CAAO7P,KAAK,cAAckW,UAAW/F,KACrC,cAAC,KAAD,CAAOnQ,KAAK,aAAakW,UAAWvE,KACpC,cAAC,KAAD,CAAO3R,KAAK,eAAekW,UAAWnD,KACtC,cAAC,KAAD,CAAO/S,KAAK,YAAYkW,UAAWN,KACH,UAA/B9U,KAAK/B,MAAMC,SAASC,SAAmB,cAAC,KAAD,CAAUkX,GAAG,eAAgB,Y,GAdlEhY,IAAMgE,WAoBdC,eAAWgU,IC1BpBvL,I,mNACFnO,MAAY,CACRoO,SAAS,CACL,CAACL,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,mBAAmB,EAAKJ,MAAMsH,WACrF,CAACoE,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,mBAAmB,EAAKJ,MAAMsH,WACrF,CAACoE,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,kBAAkB,EAAKJ,MAAMsH,WACpF,CAACoE,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,kBAAkB,EAAKJ,MAAMsH,WACpF,CAACoE,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,sBAAsB,EAAKJ,MAAMsH,WACxF,CAACoE,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,kBAAkB,EAAKJ,MAAMsH,WACpF,CAACoE,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKxD,MAAMV,QAAQc,KAAK,iBAAiB,EAAKJ,MAAMsH,a,4CAG3F,WACI,OACI,8BACI,cAAC,GAAD,CAASmE,KAAM1J,KAAKpE,MAAMoO,iB,GAfpB3M,IAAMgE,YAqBbC,eAAWyI,IC3BnB,SAASwL,GAAWhQ,EAAepB,GACtC,OAAOpJ,EAAQ,CACXC,IAAI,8BAA8BuK,EAAQ,WAAWpB,EACrDlJ,OAAO,QAIR,SAASua,GAAUjQ,EAAepB,GACrC,OAAOpJ,EAAQ,CACXC,IAAI,4BAA4BuK,EAAQ,WAAWpB,EACnDlJ,OAAO,QAIR,SAAS4W,GAAWtM,EAAepB,GACtC,OAAOpJ,EAAQ,CACXC,IAAI,6BAA6BuK,EAAQ,WAAWpB,EACpDlJ,OAAO,QAIR,SAASwa,GAAUlQ,EAAepB,GACrC,OAAOpJ,EAAQ,CACXC,IAAI,uCAAuCuK,EAAQ,WAAWpB,EAC9DlJ,OAAO,QAIR,SAASkU,GAAa5J,EAAepB,GACxC,OAAOpJ,EAAQ,CACXC,IAAI,uCAAuCuK,EAAQ,WAAWpB,EAC9DlJ,OAAO,QAIR,SAASya,GAAUnQ,EAAepB,GACrC,OAAOpJ,EAAQ,CACXC,IAAI,uCAAuCuK,EAAQ,WAAWpB,EAC9DlJ,OAAO,QAIR,SAAS0a,GAASpQ,EAAepB,GACpC,OAAOpJ,EAAQ,CACXC,IAAI,uCAAuCuK,EAAQ,WAAWpB,EAC9DlJ,OAAO,Q,4CC5CT2a,I,mKACF,WACI,OAAO,qBAAK9Y,MAAO,CAACK,MAAM,kBAAnB,SAAuC6C,KAAK/B,MAAM4X,MAAMC,OAAOvQ,c,GAFxDlI,IAAMgE,YAObC,eAAWsU,ICqBpBxB,GAAY,SAAUtN,GACxBA,EAASP,KAAKC,MAAMM,EAAS,KAC7B,IAAMR,EAAIC,KAAKC,MAAMM,EAAS,IACxBJ,EAAI4M,OAAOxM,EAAS,GAAGR,GAG7B,OAFcA,EAAI,GAAK,IAAIA,EAAKA,EAAIyP,YAEtB,KADa,IAAbrP,EAAI5I,OAAa,IAAI4I,EAAKA,EAAIqP,aAI1CC,G,4MACFpa,MAAY,CACR2J,QAAQ,GACR0Q,OAAO,EACPC,OAAO,GACPC,OAAO,EACP3Q,YAAY9B,IACZ0S,eAAe1S,IACf2S,cAAa,G,EAGjBC,QAAU,WAAK,MAAO,CAClB,CACIxa,MAAO,IACPya,UAAW,MACX5M,IAAK,MACL6M,OAAO,SAAChL,GAAc,OAAQ,8BACMA,IAAM,EAAK5P,MAAM4J,YAAc,cAACiR,GAAA,EAAD,CAAa3Z,MAAO,CAACK,MAAM,oBAAqBqO,MAGvH,CACI1P,MAAO,IACP6N,IAAK,OACL6M,OAAO,kBAAK,cAAC9T,EAAA,EAAD,MAEhB,CACI5G,MAAO,IACP6N,IAAK,WACL6M,OAAO,kBAAK,cAACE,GAAA,EAAD,MAEhB,CACI5a,MAAO,2BACP6N,IAAK,QACL4M,UAAW,QACXC,OAAO,SAAC1a,GAAgB,OAAO,EAAK6a,iBAAiB7a,KAEzD,CACIA,MAAO,eACP6N,IAAK,SACL4M,UAAW,SAEXC,OAAO,SAAC1a,GAAgB,OAAO,EAAK6a,iBAAiB7a,KAEzD,CACIA,MAAO,eACP6N,IAAK,QACL4M,UAAW,QAEXC,OAAO,SAAC1a,GAAgB,OAAO,EAAK6a,iBAAiB7a,KAEzD,CACIA,MAAO,eACP6N,IAAK,WACL4M,UAAW,WACXC,OAAO,SAAC1a,GAAgB,OAAQ,qBAAKgB,MAAO,CAACK,MAAM,WAAnB,SAAgCrB,MAEpE,CACIA,MAAO,eACP6N,IAAK,MACL4M,UAAW,MACXC,OAAO,SAACI,GACJ,OAAQ,cAAC,KAAD,CACJC,QAAS,IAAID,EAAI,EAAKhb,MAAMua,OAC5BW,UAAU,EACVC,YAAY,iBACZC,WAAW,kB,EAmC3BL,iBAAiB,SAACM,GACd,IAAMC,EAAI,IAAIC,OAAO,EAAKvb,MAAM2J,QAAQ,KAClC6R,EAAMH,EAASI,QAAQH,EAAK,KAAK,EAAKtb,MAAM2J,QAAQ,MAAMnH,MAAM,KACtE,OAAQ,qBAAKtB,MAAO,CAACgH,QAAQ,QAArB,SAEAsT,EAAMnX,KAAI,SAACC,GACP,MAAa,MAAVA,EAAK,IAAkC,MAAtBA,EAAKA,EAAKpC,OAAO,GAAkB,cAAC,GAAD,IAC1C,qBAAKhB,MAAO,CAACK,MAAM,WAAnB,SAAgC+C,U,EAM7DkT,WAAW,SAACpB,GACRuD,GAAW,EAAK3Z,MAAM2J,QAAiB,KAARyM,EAAK,IAAQzT,MAAK,SAAAC,QAClB2O,IAAxB3O,EAAIG,KAAKgP,OAAO/H,MAClB,EAAK0R,YAAY9Y,EAAIG,KAAKgP,OAAO/H,MAAMoM,GAClCxP,MAAM,8D,iDA9CpB,SAAY7D,EAASqT,GACjB,IAD6B,EACvBuF,EAAK,GACP/L,EAAI,EACJrH,EAAgB,KAAR6N,EAAK,GACbmE,EAAO,EAJkB,eAKbxX,GALa,IAK7B,IAAI,EAAJ,qBACA,CAAC,IADO8P,EACR,QACI,KAAGjD,EAAIrH,GAAQnE,KAAKpE,MAAMqa,QAiBpB,MAfFsB,EAAKlZ,KAAK,CACNqG,MAAK,EACL8S,UAAS,EACT1b,MAAM2S,EAAK1I,KACXwH,OAAOkB,EAAKE,QAAQ,GAAG5I,KACvBmO,MAAMzF,EAAKyF,MAAMnO,KACjBe,SAASsN,GAAY3F,EAAK3H,UAC1B8P,IAAInI,EAAKgJ,KACT9X,GAAG8O,EAAK9O,GACR6L,IAAIA,EAAIrH,EACRwF,IAAI8E,EAAK9O,KAEV8O,EAAKgJ,KAAKtB,IAAQA,EAAO1H,EAAKgJ,MACjCjM,GAAK,GAtBgB,8BA0B7BxL,KAAK/C,SAAS,CAACiZ,OAAOqB,EAAKpB,OAAOA,M,+BAwBtC,WAAqB,IAAD,OAChBnW,KAAK/C,UAAS,iBAAK,CAACsI,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAAQC,YAAY,EAAKvH,MAAM4X,MAAMC,OAAOtQ,gBAC5F,WACI+P,GAAW,EAAK3Z,MAAM2J,QAAQ,GAAGhH,MAAK,SAAAC,GACtC,EAAKvB,SAAS,CAACgZ,OAAOzX,EAAIG,KAAKgP,OAAO+J,YACtC,EAAKJ,YAAY9Y,EAAIG,KAAKgP,OAAO/H,MAAM,W,gCAMnD,SAAmB+L,EAA0BjF,EAA0BkF,GAAiB,IFzHjEjS,EEyHgE,OAChFK,KAAKpE,MAAM2J,UAAUvF,KAAK/B,MAAM4X,MAAMC,OAAOvQ,SAE5CvF,KAAK/C,UAAS,iBAAK,CAACsI,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAAQC,YAAY,EAAKvH,MAAM4X,MAAMC,OAAOtQ,gBAC5F,WACI+P,GAAW,EAAK3Z,MAAM2J,QAAQ,GAAGhH,MAAK,SAAAC,GACtC,EAAKvB,SAAS,CAACgZ,OAAOzX,EAAIG,KAAKgP,OAAO+J,UAAUlS,YAAY9B,MAC5D,EAAK4T,YAAY9Y,EAAIG,KAAKgP,OAAO/H,MAAM,SAOhD5F,KAAKpE,MAAMya,gBFvIK1W,EEyIJK,KAAKpE,MAAMwa,eFxIvBrb,EAAQ,CACXC,IAAI,gBAAgB2E,EACpB1E,OAAO,SEsImCsD,MAAK,SAAAC,GACvC,EAAKP,MAAM8J,eAAe/J,KAAK,OAAOQ,EAAIG,KAAKA,KAAK,GAAG3D,IAAI,EAAKY,MAAMwa,eAClE,EAAKxa,MAAM2J,QAAQ,EAAK3J,MAAM4J,gBAGtCxF,KAAK/C,SAAS,CAACoZ,cAAa,O,oBAIpC,WAAU,IAAD,OACL,OACI,gCACI,uBAAMvZ,MAAO,CAACgH,QAAQ,OAAOiK,SAAS,OAAO7M,WAAW,SAASgO,QAAQ,OAAzE,yBACOlP,KAAKpE,MAAMqa,OADlB,wBAGA,qBAAKnZ,MAAO,CAAC8C,MAAM,QAAnB,SACI,cAAC,KAAD,CACI0W,QAAStW,KAAKsW,UACdqB,WAAY3X,KAAKpE,MAAMsa,OACvB0B,WAAY,CAACtH,gBAAgB,IAAIL,MAAMjQ,KAAKpE,MAAMqa,OAAOpV,SAAS,SAACmR,GAAQ,EAAKoB,WAAWpB,KAC3FrS,GAAG,wBACHkY,MAAO,SAACC,GACwB,MAAQ,CACJ9a,QAAQ,WACJvC,IAAMqR,IAAI,4DAA4DgM,EAAOnY,IAAIpB,MAC7E,SAAAC,GACI,EAAKvB,SAAS,CAACuI,YAAYsS,EAAOtM,IAC9B6K,cAAa,EACbD,eAAe0B,EAAOnY,KAC1B,EAAKF,iBAET,kBAAI+C,MAAM,0DAKtDuV,aAAc,SAACD,GAAU,OAAQA,EAAOtM,MAAM,EAAK5P,MAAM4J,YAAa,cAAc,e,GAxLtFnI,IAAMgE,WAgMbC,eAAW0U,ICpNpBgC,I,mNACFpc,MAAY,CACR2J,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAChCyM,KAAK,EACLiE,OAAO,EACPgC,QAAQ,I,EAGZ/G,QAAQ,WACJ,EAAKjU,UAAS,iBAAK,CAACgb,QAAQ,OAAK,WAC7BpG,GAAW,EAAKjW,MAAM2J,QAA4B,IAAnB,EAAK3J,MAAMoW,KAAK,IAAOzT,MAAK,SAAAC,GACvD,IAAM0Y,EAAI,IAAIC,OAAO,EAAKvb,MAAM2J,QAAQ,KACxC,EAAKtI,SAAS,CAACgZ,OAAOzX,EAAIG,KAAKgP,OAAOuK,cAFsB,qBAG1C1Z,EAAIG,KAAKgP,OAAOgB,SAH0B,IAG5D,IAAI,EAAJ,qBACA,CAAC,IADOlK,EACR,QACI,EAAK7I,MAAMqc,QAAQ5Z,KAAK,CACpBsB,GAAG8E,EAAO9E,GACVoG,KAAKtB,EAAOsB,KAAKsR,QAAQH,EAAI,KAAK,EAAKtb,MAAM2J,QAAQ,MAAMnH,MAAM,KACjEsT,UAAuBvE,IAAlB1I,EAAOiK,MAAM,GAAejK,EAAOiK,MAAM,GAAG,GACjDlR,UAAUiH,EAAOqB,UATmC,8BAY5D,EAAKrG,qB,EAKjB2T,WAAW,SAACpB,GACR,EAAK/U,UAAS,iBAAK,CAAC+U,KAAKA,MAAO,WAAK,EAAKd,c,uDAG9C,WACIlR,KAAKkR,Y,oBAGT,WACI,OACI,sBAAMpU,MAAO,CAAC8C,MAAM,QAApB,UACI,uBAAM9C,MAAO,CAACgH,QAAQ,OAAOiK,SAAS,OAAO7M,WAAW,SAASgO,QAAQ,OAAzE,yBACOlP,KAAKpE,MAAMqa,OADlB,wBAIIjW,KAAKpE,MAAMqc,QAAQhY,KAAI,SAACC,EAAKsL,GAAN,OACnB,sBAAKlL,UAAWkL,EAAI,IAAI,EAAE,2BAA2B,0BAArD,UACI,sBAAK1O,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,UAAvC,UACI,qBACIlO,IAAKI,EAAK1C,UACVV,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOpB,UAAU,QAAQe,aAAa,MAAMgQ,YAAY,OACpFtE,IAAI,KAGJpM,EAAK6F,KAAK9F,KAAI,SAAAkY,GACV,MAAY,MAATA,EAAI,IAAgC,MAApBA,EAAIA,EAAIra,OAAO,GAC1B,qBAAKhB,MAAO,CAACK,MAAM,kBAAnB,SAAuCgb,EAAI1G,MAAM,EAAE0G,EAAIra,OAAO,KACzD,8BAAMqa,OAG1BjY,EAAKwR,KAAK5T,OAAQ,sBAAKhB,MAAO,CAACK,MAAM,mBAAnB,cAAyC+C,EAAKwR,KAA9C,OAA2D,QAElF,qBAAK5U,MAAO,CAACK,MAAM,kBAAnB,SAAsC,cAAC6D,EAAA,EAAD,YAIlD,qBAAKlE,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,SAASgC,OAAO,iBAAxE,SACI,cAAC,KAAD,CAAYH,MAAOjQ,KAAKpE,MAAMqa,OAAQmC,SAAU,GAAIvX,SAAUb,KAAKoT,sB,GAhEjE/V,IAAMgE,YAuEbC,eAAW0W,ICrEpBK,I,mNACFzc,MAAY,CACR2J,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAChCyM,KAAK,EACLiE,OAAO,EACPqC,OAAO,I,EAGXpH,QAAQ,WACJsE,GAAU,EAAK5Z,MAAM2J,QAA4B,IAAnB,EAAK3J,MAAMoW,KAAK,IAAOzT,MAAK,SAAAC,GACtD,IAAM0Y,EAAI,IAAIC,OAAO,EAAKvb,MAAM2J,QAAQ,KACxC,EAAKtI,SAAS,CAACgZ,OAAOzX,EAAIG,KAAKgP,OAAO4K,aAKtC,IAJA,IAGIrE,EAHEvV,EAAKH,EAAIG,KAAKgP,OAAO2K,OACvBnR,EAAOxI,EAAKb,QAAQ,GAAI,EAAuB,IAAnB,EAAKlC,MAAMoW,KAAK,GAC5C3K,EAAIF,EAAM,GAEPA,GAAOE,GAAOF,EAAMxI,EAAKb,QAE5BoW,EAAMvV,EAAKwI,GACX,EAAKvL,MAAM0c,OAAOja,KAAK,CACnBsB,GAAGuU,EAAMvU,GACToG,KAAKmO,EAAMnO,KAAKsR,QAAQH,EAAI,KAAK,EAAKtb,MAAM2J,QAAQ,MAAMnH,MAAM,KAChEsT,UAAsBvE,IAAjB+G,EAAMxF,MAAM,GAAewF,EAAMxF,MAAM,GAAG,GAC/C8J,SAAStE,EAAMpO,OACfrB,OAAOyP,EAAMU,OAAO7O,KAAKsR,QAAQH,EAAI,KAAK,EAAKtb,MAAM2J,QAAQ,MAAMnH,MAAM,KACzEqa,gBAAmCtL,IAAxB+G,EAAMU,OAAOlG,MAAM,GAAewF,EAAMU,OAAOlG,MAAM,GAAG,KAEvEvH,GAAO,EAEX,EAAK1H,kB,EAIb2T,WAAW,SAACpB,GACR,EAAK/U,UAAS,iBAAK,CAAC+U,KAAKA,EAAKsG,OAAO,OAAK,WAAK,EAAKpH,c,EAGxDwH,eAAe,SAAC/Y,GACZ,EAAK1B,MAAMV,QAAQc,KAAK,UAAUsB,I,uDAItC,WACIK,KAAKkR,Y,oBAGT,WAAU,IAAD,OACL,OACI,sBAAKpU,MAAO,CAAC8C,MAAM,QAAnB,UACI,uBAAM9C,MAAO,CAACgH,QAAQ,OAAOiK,SAAS,OAAO7M,WAAW,SAASgO,QAAQ,OAAzE,yBACOlP,KAAKpE,MAAMqa,OADlB,wBAIIjW,KAAKpE,MAAM0c,OAAOrY,KAAI,SAACC,EAAKsL,GAAN,OAClB,sBACIlL,UAAWkL,EAAI,IAAI,EAAE,0BAA0B,yBAC/CxO,QAAS,WAAK,EAAK0b,eAAexY,EAAKP,KAF3C,UAII,sBAAK7C,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,SAASpO,MAAM,OAAtD,UACI,qBACIE,IAAKI,EAAKsY,SACV1b,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOpB,UAAU,QAAQe,aAAa,MAAMgQ,YAAY,OACpFtE,IAAI,KAGJpM,EAAK6F,KAAK9F,KAAI,SAAAkY,GACV,MAAY,MAATA,EAAI,IAAgC,MAApBA,EAAIA,EAAIra,OAAO,GAC1B,qBAAKhB,MAAO,CAACK,MAAM,kBAAnB,SAAuCgb,EAAI1G,MAAM,EAAE0G,EAAIra,OAAO,KACzD,8BAAMqa,OAG1BjY,EAAKwR,KAAK5T,OAAQ,sBAAKhB,MAAO,CAACK,MAAM,mBAAnB,cAAyC+C,EAAKwR,KAA9C,OAA2D,QAElF,sBAAK5U,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,OAAOkK,WAAW,UAAnD,UAEQ9N,EAAKuE,OAAOxE,KAAI,SAAAkY,GACZ,MAAY,MAATA,EAAI,IAAgC,MAApBA,EAAIA,EAAIra,OAAO,GAC1B,qBAAKhB,MAAO,CAACK,MAAM,kBAAnB,SAAuCgb,EAAI1G,MAAM,EAAE0G,EAAIra,OAAO,KACzD,8BAAMqa,OAG1BjY,EAAKuY,WAAW3a,OAAQ,sBAAKhB,MAAO,CAACK,MAAM,mBAAnB,cAAyC+C,EAAKuY,WAA9C,OAAiE,cAK1G,qBAAK3b,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,SAASgC,OAAO,iBAAxE,SACI,cAAC,KAAD,CAAYH,MAAOjQ,KAAKpE,MAAMqa,OAAQmC,SAAU,GAAIvX,SAAUb,KAAKoT,sB,GAvFlE/V,IAAMgE,YA8FZC,eAAW+W,IC/FpBM,G,4MACF/c,MAAY,CACR2J,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAChCyM,KAAK,EACLiE,OAAO,EACP2C,OAAO,I,EAGX1H,QAAQ,WACJ,EAAKjU,UAAS,iBAAK,CAAC2b,OAAO,OAAK,WAC5BnD,GAAU,EAAK7Z,MAAM2J,QAA4B,IAAnB,EAAK3J,MAAMoW,KAAK,IAAOzT,MAAK,SAAAC,GACtD,IAAM0Y,EAAI,IAAIC,OAAO,EAAKvb,MAAM2J,QAAQ,KACxC,EAAKtI,SAAS,CAACgZ,OAAOzX,EAAIG,KAAKgP,OAAOkL,aAFqB,qBAG1Cra,EAAIG,KAAKgP,OAAOiL,QAH0B,IAG3D,IAAI,EAAJ,qBACA,CAAC,IADOE,EACR,QACI,EAAKld,MAAMgd,OAAOva,KAAK,CACnB0H,KAAK+S,EAAMhd,MACXid,QAAQD,EAAMhd,MAAMub,QAAQH,EAAI,KAAK,EAAKtb,MAAM2J,QAAQ,MAAMnH,MAAM,KACpEgP,UAAU0L,EAAME,SAChBlS,SAAS,EAAKsN,YAAY0E,EAAMG,YAChClJ,QAAQuD,OAAOwF,EAAM/I,QAAQ,GAAGtS,UAChC+a,SAASM,EAAMN,YAXoC,8BAc3D,EAAK/Y,qB,EAKjB2U,YAAY,SAAChO,GACTA,EAAKG,KAAKC,MAAMJ,EAAK,KACrB,IAAI8S,EAAK3S,KAAKC,MAAMJ,EAAK,MACrBE,EAAIC,KAAKC,OAAOJ,EAAK,KAAK8S,GAAM,IAChCxS,EAAIN,EAAK,KAAK8S,EAAK,GAAG5S,EAC1B,OAAOgN,OAAO4F,GAAMlF,SAAS,EAAE,KAAK,IAAIV,OAAOhN,GAAK0N,SAAS,EAAE,KAAK,IAAIV,OAAO5M,GAAKsN,SAAS,EAAE,M,EAGnGZ,WAAW,SAACpB,GACR,EAAK/U,UAAS,iBAAK,CAAC+U,KAAKA,MAAO,WAAK,EAAKd,c,uDAG9C,WACIlR,KAAKkR,Y,oBAGT,WACI,OACI,sBAAKpU,MAAO,CAAC8C,MAAM,QAAnB,UACI,uBAAM9C,MAAO,CAACgH,QAAQ,OAAOiK,SAAS,OAAO7M,WAAW,SAASgO,QAAQ,OAAzE,yBACOlP,KAAKpE,MAAMqa,OADlB,wBAGA,qBAAKnZ,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOmK,SAAS,OAAOD,WAAW,UAApE,SAEQhO,KAAKpE,MAAMgd,OAAO3Y,KAAI,SAAAC,GAAI,OACtB,sBAAKpD,MAAO,CAAC8C,MAAM,MAAMsP,QAAQ,OAAO7G,SAAS,YAAjD,UACI,qBACIvI,IAAKI,EAAKsY,SACV1b,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,QAAQpB,UAAU,QAAQe,aAAa,MAAMoM,aAAa,OACtFV,IAAI,KAER,cAAC,IAAD,CAASxQ,MAAOoE,EAAK6F,KAArB,SACI,qBAAKjJ,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,SAASI,eAAe,aAAa9F,OAAO,WAAnF,SAEYpI,EAAK6Y,QAAQ9Y,KAAI,SAAAkY,GACb,MAAY,MAATA,EAAI,IAAgC,MAApBA,EAAIA,EAAIra,OAAO,GAEvB,qBAAKhB,MAAO,CAACK,MAAM,iBAAiBwL,WAAW,SAASC,UAAU,WAAWC,SAAS,SAASC,aAAa,YAA5G,SACMqP,EAAI1G,MAAM,EAAG0G,EAAIra,OAAO,KAG5B,qBAAKhB,MAAO,CAAC6L,WAAW,SAASC,UAAU,WAAWC,SAAS,SAASC,aAAa,YAArF,SAAmGqP,WAKpI,sBAAKrb,MAAO,CAACoQ,UAAU,QAAQ/P,MAAM,mBAArC,eACO,SAAS+C,EAAK6P,WAErB,sBAAKjT,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,SAAS3F,SAAS,WAAWE,IAAI,OAAO2C,MAAM,OAAO/N,MAAM,SAAlG,UACI,cAACiM,GAAA,EAAD,IAEI7C,KAAKC,MAAMtG,EAAKkN,UAAU,KAAO,EAC7BkG,OAAO/M,KAAKC,MAAMtG,EAAKkN,UAAU,MAAQ,SACzClN,EAAKkN,aAGjB,qBAAKtQ,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,SAAS3F,SAAS,WAAWE,IAAI,QAAQ2C,MAAM,OAAO/N,MAAM,SAAnG,SACK+C,EAAK4G,mBAM1B,qBAAKhK,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,SAASgC,OAAO,iBAAxE,SACI,cAAC,KAAD,CAAYH,MAAOjQ,KAAKpE,MAAMqa,OAAQmC,SAAU,GAAIvX,SAAUb,KAAKoT,sB,GA9FlE/V,IAAMgE,WAqGZC,eAAWqX,ICnGpBQ,I,mNACFvd,MAAY,CACR2J,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAChCyM,KAAK,EACLiE,OAAO,EACPmD,UAAU,I,EAGdlI,QAAQ,WACJ,EAAKjU,UAAS,iBAAK,CAACmc,UAAU,OAAK,WAC/BjK,GAAa,EAAKvT,MAAM2J,QAA4B,IAAnB,EAAK3J,MAAMoW,KAAK,IAAOzT,MAAK,SAAAC,GACzD,IAAM0Y,EAAI,IAAIC,OAAO,EAAKvb,MAAM2J,QAAQ,KACxC,EAAKtI,SAAS,CAACgZ,OAAOzX,EAAIG,KAAKgP,OAAO0L,gBACtC5a,QAAQC,IAAIF,GAHkD,qBAI1CA,EAAIG,KAAKgP,OAAOkC,WAJ0B,IAI9D,IAAI,EAAJ,qBACA,CAAC,IADOyJ,EACR,QACI,EAAK1d,MAAMwd,UAAU/a,KAAK,CACtBsB,GAAG2Z,EAAS3Z,GACZoG,KAAKuT,EAASvT,KAAKsR,QAAQH,EAAI,KAAK,EAAKtb,MAAM2J,QAAQ,MAAMnH,MAAM,KACnE+B,KAAKmZ,EAASC,WACdxJ,QAAQuJ,EAASvJ,QAAQvQ,SACzB4N,UAAUkM,EAASlM,UACnBoL,SAASc,EAASxJ,eAZoC,8BAe9D,EAAKrQ,qB,EAKjB2T,WAAW,SAACpB,GACR,EAAK/U,UAAS,iBAAK,CAAC+U,KAAKA,MAAO,WAAK,EAAKd,c,EAG9CsI,kBAAkB,SAAC7Z,GACf,EAAK1B,MAAMV,QAAQc,KAAK,cAAcsB,I,uDAG1C,WACIK,KAAKkR,Y,oBAGT,WAAU,IAAD,OACL,OACI,sBAAKpU,MAAO,CAAC8C,MAAM,QAAnB,UACI,uBAAM9C,MAAO,CAACgH,QAAQ,OAAOiK,SAAS,OAAO7M,WAAW,SAASgO,QAAQ,OAAzE,yBACOlP,KAAKpE,MAAMqa,OADlB,wBAIIjW,KAAKpE,MAAMwd,UAAUnZ,KAAI,SAACC,EAAKsL,GAAN,OACrB,sBACIlL,UAAWkL,EAAI,IAAI,EAAE,6BAA6B,4BAClDxO,QAAS,WAAK,EAAKwc,kBAAkBtZ,EAAKP,KAF9C,UAII,qBAAKG,IAAKI,EAAKsY,SAAU1b,MAAO,CAAC8C,MAAM,OAAOC,UAAU,QAAQe,aAAa,MAAMgQ,YAAY,SAC/F,qBAAK9T,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,OAAOkK,WAAW,UAAnD,SAEQ9N,EAAK6F,KAAK9F,KAAI,SAAAkY,GACV,MAAY,MAATA,EAAI,IAAgC,MAApBA,EAAIA,EAAIra,OAAO,GAC1B,qBAAKhB,MAAO,CAACK,MAAM,kBAAnB,SAAuCgb,EAAI1G,MAAM,EAAE0G,EAAIra,OAAO,KACzD,8BAAMqa,SAI/B,sBAAKrb,MAAO,CAACK,MAAM,kBAAkByC,MAAM,OAA3C,UACKM,EAAKC,KADV,YAGA,sBAAKrD,MAAO,CAACK,MAAM,kBAAkByC,MAAM,MAAMsN,UAAU,SAA3D,eACO,QAAQhN,EAAK6P,WAEpB,sBAAKjT,MAAO,CAACK,MAAM,kBAAkByC,MAAM,MAAMkE,QAAQ,OAAOkK,WAAW,UAA3E,UACI,cAAC5E,GAAA,EAAD,IACC7C,KAAKC,MAAMtG,EAAKkN,UAAU,KAAO,EAAEkG,OAAO/M,KAAKC,MAAMtG,EAAKkN,UAAU,MAAQ,SAAIlN,EAAKkN,mBAKtG,qBAAKtQ,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,SAASgC,OAAO,iBAAxE,SACI,cAAC,KAAD,CAAYH,MAAOjQ,KAAKpE,MAAMqa,OAAQmC,SAAU,GAAIvX,SAAUb,KAAKoT,sB,GA9E/D/V,IAAMgE,YAqFfC,eAAW6X,ICjFpBM,I,mNACF7d,MAAY,CACR2J,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAChCyM,KAAK,EACLiE,OAAO,EACPyD,OAAO,GACPvD,OAAO,EACPwD,QAAQ,I,EAGZzI,QAAQ,WACJ,EAAKjU,UAAS,iBAAK,CAACyc,OAAO,GAAGC,QAAQ,OAAK,WACvCjE,GAAU,EAAK9Z,MAAM2J,QAA4B,IAAnB,EAAK3J,MAAMoW,KAAK,IAAOzT,MAAK,SAAAC,GACtDC,QAAQC,IAAIF,GACZ,EAAKvB,SAAS,CAACgZ,OAAOzX,EAAIG,KAAKgP,OAAO+J,YACtC,IAAIlM,EAAwB,IAAnB,EAAK5P,MAAMoW,KAAK,GAAM,EAC/B,GAAGxT,EAAIG,KAAKgP,OAAO/H,MACnB,CAAC,IAAD,iBACoBpH,EAAIG,KAAKgP,OAAO/H,OADpC,IACI,IAAI,EAAJ,qBACA,CAAC,IADO6I,EACR,QACI,EAAK7S,MAAM8d,OAAOrb,KAAK,CACnBmN,IAAIA,EACJoO,OAAOnL,EAAK9O,GACZka,SAASpL,EAAK1I,KACd+T,SAAS,EAAKC,YAAYtL,EAAKiL,OAAOM,MAAM,GAAGC,MAAMxL,EAAKiL,OAAOM,MAAM,GAAGE,OAAOzL,EAAKiL,OAAOS,KAC7FC,SAAS3L,EAAKiL,OAAOS,IAAI/b,MAAM,MAC/BqG,OAAOgK,EAAKE,QAAQ,GAAG5I,KACvBmO,MAAMzF,EAAKyF,MAAMnO,KACjBe,SAAS,EAAKsN,YAAY3F,EAAK3H,UAC/B8P,IAAInI,EAAKgJ,KACTkC,SAAQ,IAETlL,EAAKgJ,KAAK,EAAK7b,MAAMua,QACvB,EAAKlZ,SAAS,CAACkZ,OAAO1H,EAAKgJ,OAC5BjM,GAAK,GAjBb,8BAmBI,EAAK/L,sB,EAkCrB2T,WAAW,SAACpB,GACLA,EAAK,EAAI,EAAK/U,UAAS,iBAAK,CAAC+U,KAAKA,MAAO,WAAK,EAAKd,aAChD1O,MAAM,mC,iDA9BhB,SAAY2E,EAAaE,EAAW8S,GAChC,IAAME,EAAMlT,EAAM,GAAG,EAAG,MAAMgT,EAAI1I,MAAMtK,EAAM,EAAEA,GAAOgT,EAAI1I,MAAM,EAAEtK,GAC7DmT,EAAMjT,EAAI,GAAG8S,EAAIrc,OAAO,EAAGqc,EAAI1I,MAAMpK,EAAIA,EAAI,GAAG,MAAM8S,EAAI1I,MAAMpK,GACtE,MAAO,CAACgT,EAAKF,EAAI1I,MAAMtK,EAAME,GAAKiT,K,yBAGtC,SAAYlU,GACRA,EAAKG,KAAKC,MAAMJ,EAAK,KACrB,IAAME,EAAIC,KAAKC,MAAMJ,EAAK,IACpBM,EAAIN,EAAS,GAAJE,EACf,OAAOgN,OAAOhN,GAAK0N,SAAS,EAAE,KAAK,IAAIV,OAAO5M,GAAKsN,SAAS,EAAE,O,+BAGlE,WACIhU,KAAKkR,Y,+BAGT,SAAkB1F,GACd,IAAM+O,EAAIva,KAAKpE,MAAM8d,OAAOlO,GAC5B+O,EAAIZ,SAASY,EAAIZ,QACjB3Z,KAAKP,gB,uBAGT,SAAU+L,GACNgP,UAAUC,UAAUC,UAAU1a,KAAKpE,MAAM8d,OAAOlO,GAAK4O,SAASO,OAAOtD,QAAQ,KAAK,OAC7E9Y,MAAK,WAAKiE,MAAM,uC,oBAQzB,WAAU,IAAD,OACL,OACI,sBAAK1F,MAAO,CAAC8C,MAAM,QAAnB,UACI,uBAAM9C,MAAO,CAACgH,QAAQ,OAAOiK,SAAS,OAAO7M,WAAW,SAASgO,QAAQ,OAAzE,yBACOlP,KAAKpE,MAAMqa,OADlB,wBAGA,sBAAK3V,UAAU,yBAAf,UACI,qBAAKxD,MAAO,CAAC8C,MAAM,SACnB,qBAAK9C,MAAO,CAAC8C,MAAO,MAAMsN,UAAU,SAApC,sCACA,qBAAKpQ,MAAO,CAAC8C,MAAO,MAAMsN,UAAU,SAApC,0BACA,qBAAKpQ,MAAO,CAAC8C,MAAO,MAAMsN,UAAU,SAApC,0BACA,qBAAKpQ,MAAO,CAAC8C,MAAO,OAApB,0BACA,qBAAK9C,MAAO,CAAC8C,MAAO,MAApB,6BAGAI,KAAKpE,MAAM8d,OAAOzZ,KAAI,SAACC,EAAKsL,GAAN,OAClB,sBAAKlL,UAAWkL,EAAI,IAAI,EAAE,0BAA0B,yBAApD,UACI,sBAAK1O,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,OAAOsK,eAAe,eAAgBjR,MAAM,mBAA7E,UACK+C,EAAKsL,IACN,8BAAK,cAAC9I,EAAA,EAAD,MACL,8BAAK,cAACgU,GAAA,EAAD,SAET,sBAAK5Z,MAAO,CAAC8C,MAAM,OAAnB,UACI,qBAAK9C,MAAO,CAACoQ,UAAU,SAAvB,SAAkChN,EAAK2Z,WACvC,sBAAK/c,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,UAAvC,UACI,qBAAKlR,MAAO,CAACK,MAAM,mBAAnB,SAAwC+C,EAAK4Z,SAAS,KACtD,qBAAKhd,MAAO,CAACK,MAAM,kBAAnB,SAAuC+C,EAAK4Z,SAAS,KACrD,qBAAKhd,MAAO,CAACK,MAAM,mBAAnB,SAAwC+C,EAAK4Z,SAAS,QAGtD5Z,EAAKyZ,QACDzZ,EAAKka,SAASna,KAAI,SAAAkY,GAAG,OAAG,qBAAKrb,MAAO,CAACoQ,UAAU,SAAvB,SAAkCiL,OACzD,KAET,qBAAKrb,MAAO,CAACgH,QAAQ,QAASxD,UAAU,YAAxC,SAAqDJ,EAAKka,cAE9D,qBAAKtd,MAAO,CAAC8C,MAAM,MAAMsN,UAAU,QAAQ/P,MAAM,mBAAjD,SAAsE+C,EAAKuE,SAC3E,qBAAK3H,MAAO,CAAC8C,MAAM,MAAMsN,UAAU,QAAQ/P,MAAM,mBAAjD,SAAsE+C,EAAKgU,QAC3E,sBAAKpX,MAAO,CAAC8C,MAAM,OAAnB,UACI,qBAAK9C,MAAO,CAACK,MAAM,mBAAnB,SAAwC+C,EAAK4G,WAC7C,qBAAKxG,UAAU,yBAAyBtD,QAAS,WAAK,EAAK4d,kBAAkBpP,IAA7E,SACKtL,EAAKyZ,QAAQ,2BAAO,6BAEzB,qBAAKrZ,UAAU,yBAAyBtD,QAAS,WAAK,EAAK6d,UAAUrP,IAArE,yCAEJ,qBAAK1O,MAAO,CAAC8C,MAAM,MAAnB,SACI,cAAC,KAAD,CACIiX,QAAStQ,KAAK8G,KAAK,IAAInN,EAAK0W,IAAI,EAAKhb,MAAMua,QAC3CW,UAAU,EACVC,YAAY,iBACZC,WAAW,wBAlC4D9W,EAAK0Z,WAwChG,qBAAK9c,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,SAASgC,OAAO,iBAAxE,SACI,cAAC,KAAD,CAAYH,MAAOjQ,KAAKpE,MAAMqa,OAAQmC,SAAU,GAAIvX,SAAUb,KAAKoT,sB,GApIlE/V,IAAMgE,YA2IZC,eAAWmY,I,6BChJpBqB,G,4MACFlf,MAAY,CACR2J,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAChCyM,KAAK,EACLiE,OAAO,EACP8E,MAAM,I,EAGV7J,QAAQ,WACJ,EAAKjU,UAAS,iBAAK,CAAC8d,MAAM,OAAK,WAC3BpF,GAAS,EAAK/Z,MAAM2J,QAA4B,IAAnB,EAAK3J,MAAMoW,KAAK,IAAOzT,MAAK,SAAAC,GACrD,IAAM0Y,EAAI,IAAIC,OAAO,EAAKvb,MAAM2J,QAAQ,KACjB,IAApB,EAAK3J,MAAMqa,QAAc,EAAKra,MAAMqa,SAASzX,EAAIG,KAAKgP,OAAOqN,kBAC/D,EAAK/d,SAAS,CAACgZ,OAAOzX,EAAIG,KAAKgP,OAAOqN,mBACvCvc,QAAQC,IAAIF,GAJ8C,qBAK1CA,EAAIG,KAAKgP,OAAOsN,cAL0B,IAK1D,IAAI,EAAJ,qBACA,CAAC,IADOC,EACR,QACI,EAAKtf,MAAMmf,MAAM1c,KAAK,CAClBsB,GAAGub,EAAKC,OACRpV,KAAKmV,EAAK1b,SAAS6X,QAAQH,EAAI,KAAK,EAAKtb,MAAM2J,QAAQ,MAAMnH,MAAM,KACnEgd,OAAOF,EAAKE,OACZhM,IAAI8L,EAAK1M,YACThR,UAAU0d,EAAK1d,aAZmC,8BAe1DiB,QAAQC,IAAI,EAAK9C,MAAMmf,OACvB,EAAKtb,qB,EAKjB2T,WAAW,SAACpB,GACR,EAAK/U,UAAS,iBAAK,CAAC+U,KAAKA,MAAO,WAAK,EAAKd,c,uDAG9C,WACIlR,KAAKkR,Y,oBAGT,WACI,OACI,gCACI,uBAAMpU,MAAO,CAACgH,QAAQ,OAAOiK,SAAS,OAAO7M,WAAW,SAASgO,QAAQ,OAAzE,yBACOlP,KAAKpE,MAAMqa,OADlB,wBAIIjW,KAAKpE,MAAMmf,MAAM9a,KAAI,SAACC,EAAKsL,GAAN,OACjB,sBAAKlL,UAAWkL,EAAI,IAAI,EAAE,yBAAyB,wBAAnD,UACI,sBAAK1O,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,UAAvC,UACI,qBACIlO,IAAKI,EAAK1C,UACVV,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOpB,UAAU,QAAQe,aAAa,MAAMgQ,YAAY,OACpFtE,IAAI,KAGJpM,EAAK6F,KAAK9F,KAAI,SAAAkY,GACV,MAAY,MAATA,EAAI,IAAgC,MAApBA,EAAIA,EAAIra,OAAO,GAC1B,qBAAKhB,MAAO,CAACK,MAAM,kBAAnB,SAAuCgb,EAAI1G,MAAM,EAAE0G,EAAIra,OAAO,KACzD,8BAAMqa,OAGZ,IAAdjY,EAAKkb,OAAW,qBAAKte,MAAO,CAACK,MAAM,iBAAiB2Q,WAAW,OAA/C,SAAuD,cAACuN,GAAA,EAAD,MAAqB,KAC9E,IAAdnb,EAAKkb,OAAW,qBAAKte,MAAO,CAACK,MAAM,OAAO2Q,WAAW,OAArC,SAA6C,cAACwN,GAAA,EAAD,MAAuB,QAEzF,qBAAKxe,MAAO,CAACK,MAAM,mBAAnB,SAAwC+C,EAAKkP,YAIzD,qBAAKtS,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,SAASgC,OAAO,iBAAxE,SACI,cAAC,KAAD,CAAYH,MAAOjQ,KAAKpE,MAAMqa,OAAQmC,SAAU,GAAIvX,SAAUb,KAAKoT,sB,GArEnE/V,IAAMgE,WA4EXC,eAAWwZ,IC/EpBS,G,4JACF,WACI,OAAQ,cAAC,GAAD,CAASxT,eAAgBA,S,GAFV1K,IAAMgE,WAM/Bma,G,4MACF5f,MAAY,CACR2J,QAAQ,EAAKtH,MAAM4X,MAAMC,OAAOvQ,QAChCgV,IAAI,EAAKtc,MAAM4X,MAAMC,OAAOtQ,YAC5BiW,QAAQ,W,uDAGZ,WAAqB,IAAD,OAChBhgB,EAAc4D,YAAY,UAAS,SAACkG,EAAekW,GAC/C,EAAKxe,SAAS,CAACsI,QAAQA,EAASgV,IAAI7W,IAAU+X,QAAQA,S,oBAI9D,WAEI,OADAhd,QAAQC,IAAIsB,KAAK/B,MAAMC,SAASC,SAAS6B,KAAKpE,MAAM2J,SAEhD,sBAAK5F,GAAG,aAAa7C,MAAO,CAAC8C,MAAM,OAAQqP,UAAU,UAArD,UACI,cAAC,GAAD,CAAS1J,QAASvF,KAAKpE,MAAM2J,UAC7B,cAAC,KAAD,CAAOrG,KAAK,2BAA2BkW,UAAWmG,KAClD,cAAC,KAAD,CAAOrc,KAAK,2BAA2BkW,UAAW4C,KAClD,cAAC,KAAD,CAAO9Y,KAAK,0BAA0BkW,UAAWiD,KACjD,cAAC,KAAD,CAAOnZ,KAAK,0BAA0BkW,UAAWuD,KACjD,cAAC,KAAD,CAAOzZ,KAAK,8BAA8BkW,UAAW+D,KACrD,cAAC,KAAD,CAAOja,KAAK,0BAA0BkW,UAAWqE,KACjD,cAAC,KAAD,CAAOva,KAAK,yBAAyBkW,UAAW0F,KAE5C9a,KAAK/B,MAAMC,SAASC,WAAW,WAAW6B,KAAKpE,MAAM2J,QAAQ,IAAIvF,KAAKpE,MAAM2e,IACxE,cAAC,KAAD,CAAUlF,GAAI,WAAWrV,KAAKpE,MAAM6f,QAAQ,IAAIzb,KAAKpE,MAAM2J,UAAW,Y,GA3BrElI,IAAMgE,WAkChBC,gBAAWka,ICzDnB,SAASE,GAAS/b,GACrB,OAAO5E,EAAQ,CACXC,IAAI,aAAa2E,EACjB1E,OAAO,QAIR,SAAS0gB,GAAUhc,GACtB,OAAO5E,EACH,CACIC,IAAI,oBAAoB2E,EACxB1E,OAAO,QAKZ,SAAS2gB,GAAgBjc,GAC5B,OAAO5E,EACH,CACIC,IAAI,iBAAiB2E,EACrB1E,OAAO,QAKZ,SAASiJ,GAAYvE,EAAUwE,GAClC,OAAOpJ,EACH,CACIC,IAAI,8BAA8B2E,EAAG,WAAWwE,EAChDlJ,OAAO,Q,mDCSb4gB,G,4MACHjgB,MAAY,CACRkgB,MAAM,EAAK7d,MAAM4X,MAAMC,OAAOnW,GAC9B+Z,OAAO,CAAC,IACRqC,WAAW,CAAC,GACZvR,OAAO,EACPqP,SAAS,GACTmC,SAAS,GACTvX,OAAO,GACPgU,WAAW,GACX3S,OAAO,GACPmW,aAAa,GACbtJ,QAAQ,EACRuJ,YAAY,EACZC,SAAS,GACTC,UAAS,G,EAGb1G,UAAU,WACNgG,GAAS,EAAK9f,MAAMkgB,OAAOvd,MAAK,SAAAC,GAC5B,IAAMG,EAAKH,EAAIG,KAAK0d,IAAIC,MAAMle,MAAM,MACpCO,EAAK4d,MAF4B,qBAGhB5d,GAHgB,IAGjC,IAAI,EAAJ,qBACA,CAAC,IADO2d,EACR,QACI,EAAK1gB,MAAM8d,OAAOrb,KAAKie,EAAM7K,MAAM6K,EAAME,OAAO,KAAK,IACrD,EAAK5gB,MAAMmgB,WAAW1d,KAAK,EAAKoe,cAAcH,KANjB,8BAQjC,EAAK7c,kB,EAIbid,aAAa,WACTf,GAAU,EAAK/f,MAAMkgB,OAAOvd,MAAK,SAAAC,GAC7B,IAAMG,EAAKH,EAAIG,KAAKiH,MAAM,GAC1B,EAAK3I,SAAS,CACV4c,SAASlb,EAAKkH,GAAGE,KACjBiW,cAAyB7O,IAAfxO,EAAK+S,KAAK,GAAgB,GAAG/S,EAAK+S,KAAK,GACjDjN,OAAO9F,EAAKqH,GAAG,GAAGD,KAClB0S,WAAY9Z,EAAKqH,GAAG,GAAG0I,MAAM5Q,OAAQa,EAAKqH,GAAG,GAAG0I,MAAM,GAAG,GACzD5I,OAAOnH,EAAKkH,GAAGC,YAIvB8V,GAAgB,EAAKhgB,MAAMkgB,OAAOvd,MAAK,SAAAC,GACnC,IADwC,EACpCgN,EAAI,EADgC,eAExBhN,EAAIG,KAAKiH,OAFe,IAExC,IAAI,EAAJ,qBACA,CAAC,IADO6I,EACR,QACI,GAAS,IAANjD,EAAQ,MACX,EAAK5P,MAAMqgB,aAAa5d,KAAK,CACzBvC,MAAM2S,EAAK1I,MAAO0I,EAAKC,MAAM5Q,OAAS,IAAI2Q,EAAKC,MAAM,GAAG,IAAK,IAAI,IAAID,EAAKE,QAAQ,GAAG5I,KACrFD,OAAO2I,EAAKyF,MAAMpO,OAClB6W,QAAQlO,EAAK4F,OACb1U,GAAG8O,EAAK9O,KAEZ6L,GAAK,GAX+B,kCAe5CtH,GAAY,EAAKtI,MAAMkgB,MAAM,EAAKlgB,MAAM+W,QAAQ,GAAGpU,MAAK,SAAAC,GACpD,EAAKvB,SAAS,CAACif,YAAY1d,EAAIG,KAAKsR,QACpC,EAAK2M,eAAepe,O,EAwB3Bie,cAAc,SAACH,GACX,IAAMlW,EAAKkW,EAAM7K,MAAM,EAAE6K,EAAME,OAAO,MAAMpe,MAAM,KAClD,OAAOgI,EAAKnG,KAAI,SAACuM,EAAEC,GAAH,OAAQlG,KAAKsW,IAAI,GAAGzW,EAAKtI,OAAO,EAAE2O,GAAG1F,OAAOyF,MAAKsQ,QAAO,SAACjR,EAAEkR,GAAH,OAAQlR,EAAEkR,M,EAGtFH,eAAe,SAACpe,GACb,EAAKvB,SAAS,CAACkf,SAAS,KADD,qBAEH3d,EAAIG,KAAKwd,UAFN,IAEtB,IAAI,EAAJ,qBACA,CAAC,IADOa,EACR,QACI,EAAKphB,MAAMugB,SAAS9d,KAChB,CACI6c,KAAK8B,EAAQ9B,KAAK1b,SAClByd,OAAOD,EAAQ9B,KAAK1d,UACpBwf,QAAQA,EAAQE,QAChB9W,KAAK4W,EAAQG,QACbC,UAAUJ,EAAQK,WAClBC,UAAWN,EAAQO,UAAUzf,OAASkf,EAAQO,UAAU,GAAGrC,KAAK1b,SAAU,IAC1Ege,aAAcR,EAAQO,UAAUzf,OAASkf,EAAQO,UAAU,GAAGL,QAAS,OAZ7D,gC,EAkB1B9J,WAAW,SAACqK,GACTvZ,GAAY,EAAKtI,MAAMkgB,MAAqB,IAAd2B,EAAW,IAAOlf,MAAK,SAAAC,GACjD,EAAKoe,eAAepe,GACpBC,QAAQC,IAAI,EAAK9C,MAAMugB,SAASre,QAChC,EAAK2B,kB,EAIZwG,KAAK,SAACtG,GACFyE,GAAYzE,GAAIpB,MAAK,WACjB8F,GAAW1E,GAAIpB,MAAK,SAAAC,GAChB+P,GAAevQ,KAAK,OAAQ2B,EAAInB,EAAIG,KAAKA,KAAK,GAAG3D,IAAK,iBAEtD,EAAKiC,UAAS,iBAAK,CAAC6e,MAAMnc,EAAGyc,UAAS,EAAK1C,OAAO,GAAGuC,aAAa,GAAGE,SAAS,OAAK,WAAK,EAAK1c,uBAEnG,WAAK+C,MAAM,sC,uDA1DjB,WAAqB,IAAD,OACc,IAA3BxC,KAAKpE,MAAM8d,OAAO5b,QAAakC,KAAK0V,YACvC1V,KAAK0c,eACL1c,KAAK/B,MAAMgJ,oBAAoB5H,YAAY,eAAc,SAAC0F,GAEtD,IADA,IAAImO,EAAE,EACC,EAAKtX,MAAMmgB,WAAW7I,GAAGnO,GAAUmO,GAAG,EAC7C,EAAKjW,SAAS,CAACuN,OAAO0I,EAAE,S,gCAKhC,SAAmBvB,EAA0BjF,EAA0BkF,GACjE5R,KAAKpE,MAAMwgB,WAEVpc,KAAK0V,YACL1V,KAAK0c,eACL1c,KAAK/C,SAAS,CAACmf,UAAS,O,oBA8C/B,WAAU,IAAD,OACD5R,EAAOxK,KAAKpE,MAAM4O,OAClB6P,EAAKxP,MAAM,GAAG0B,KAAK,GAAGtM,KAAI,SAACuM,EAAEC,GAAK,OAAQjC,GAAQ,EAAEiC,IAAI,EAAG,EAAK7Q,MAAM8d,OAAOlP,GAAQ,EAAEiC,IAAI,MAC3FzK,EAAIhC,KAAKpE,MAAM8d,OAAOlP,GACtB8P,EAAKzP,MAAM,GAAG0B,KAAK,GAAGtM,KAAI,SAACuM,EAAEC,GAAK,OAAQjC,GAAQiC,EAAE,GAAG,EAAK7Q,MAAM8d,OAAO5b,OAAQ,EAAKlC,MAAM8d,OAAOlP,GAAQiC,EAAE,IAAI,MACrH,OACI,sBACI3P,MAAO,CAAC8C,MAAM,OAAOqP,UAAU,SAASnL,QAAQ,OAAOmK,SAAS,OAAOG,eAAe,UAD1F,UAII,sBAAKzO,GAAG,sBAAR,UACI,qBAAKA,GAAG,qBAAR,SACI,qBAAK7C,MAAO,CAAC8C,MAAM,QAAQqB,OAAO,QAAQL,aAAa,MAAML,gBAAgB,QACpEuD,QAAQ,OAAOsK,eAAe,SAASJ,WAAW,UAD3D,SAEI,qBACI1B,IAAI,GACJxM,IAAKE,KAAKpE,MAAMkK,OAChBhJ,MAAO,CAAC8C,MAAM,QAAQqB,OAAO,QAAQpB,UAAU,QAAQe,aAAa,aAIhF,gCACI,qBAAK9D,MAAO,CAACiR,SAAS,QAAtB,SACK/N,KAAKpE,MAAMogB,SAASle,OAAOkC,KAAKpE,MAAMie,SAAS,IAAI7Z,KAAKpE,MAAMogB,SAAS,IAAIhc,KAAKpE,MAAMie,WAE3F,qBAAK/c,MAAO,CAACiR,SAAS,OAAO5Q,MAAM,UAAU6P,aAAa,QAA1D,SACKhN,KAAKpE,MAAM6c,WAAW3a,OAAOkC,KAAKpE,MAAM6I,OAAO,IAAIzE,KAAKpE,MAAM6c,WAAWzY,KAAKpE,MAAM6I,SAEzF,sBAAK9E,GAAG,wBAAR,UACK0a,EAAKpa,KAAI,SAACC,EAAKuM,GAAN,OAAa,qBAAoBnM,UAAU,uBAA9B,SAAsDJ,GAA5C,OAAOuM,WACjCU,IAANnL,EAAgB,qBAAK1B,UAAU,qBAAf,SAAqC0B,IAAW,KAChEsY,EAAKra,KAAI,SAACC,EAAKuM,GAAN,OAAY,qBAAoBnM,UAAU,uBAA9B,SAAsDJ,GAA5C,OAAOuM,YAG/C,sBAAK3P,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,QAAQ6C,QAAQ,OAAO8K,cAAc,SAAUZ,WAAW,cAA3F,UACI,mFACA,qBAAKlR,MAAO,CAACoE,WAAW,SAAS4N,UAAU,QAA3C,gFAEI9O,KAAKpE,MAAMqgB,aAAahc,KAAI,SAAAC,GAAI,OAC5B,sBACIlD,QAAS,WAAK,EAAKiJ,KAAK/F,EAAKP,KAC7BW,UAAU,wBAFd,UAII,qBAAKR,IAAKI,EAAK4F,OAAQhJ,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOL,aAAa,MAAMf,UAAU,WACvF,qBAAK/C,MAAO,CAACgR,WAAW,MAAMZ,UAAU,QAAQtN,MAAM,QAAS+I,WAAW,SAASE,SAAS,SAASC,aAAa,WAAWF,UAAU,YAAvI,SACI,cAAC,IAAD,CAAS9M,MAAOoE,EAAKpE,MAArB,SACKoE,EAAKpE,sBAQlC,sBAAK6D,GAAG,qBAAqB7C,MAAO,CAAC8C,MAAM,OAA3C,UACI,sBAAK9C,MAAO,CAACoE,WAAW,SAAS6M,SAAS,OAAOjK,QAAQ,QAAzD,sCACU9D,KAAKpE,MAAMsgB,YADrB,OAGA,8BAEQlc,KAAKpE,MAAMugB,SAASlc,KAAI,SAACC,EAAKuM,GAAN,OACpB,sBAAK3P,MAAO,CAACsT,OAAO,OAAOtM,QAAQ,QAAnC,UACI,qBACIhE,IAAKI,EAAK+c,OACV3Q,IAAI,GACJxP,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOpB,UAAU,QAAQe,aAAa,MAAMwP,OAAO,UAEnF,sBAAKtT,MAAO,CAAC8C,MAAM,QAAnB,UACI,sBAAK9C,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,aAAcH,SAAS,OAC3EjB,aAAa,OADjB,UAEI,sBAAKlQ,MAAO,CAACK,MAAM,kBAAnB,UAAuC+C,EAAKgb,KAA5C,OACA,qBAAKpe,MAAO,CAACoQ,UAAU,SAAvB,SAAkChN,EAAK8c,aAGtB,MAAjB9c,EAAKod,UACD,sBAAKxgB,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAQsK,eAAe,aACrDH,SAAS,OAAO1N,gBAAgB,mBAAmBK,aAAa,MAChEsO,QAAQ,OAFZ,UAII,sBAAKpS,MAAO,CAACK,MAAM,kBAAnB,cAAwC+C,EAAKod,UAA7C,OACA,qBAAKxgB,MAAO,CAACoQ,UAAU,SAAvB,SAAkChN,EAAKsd,kBACpC,KAEf,sBAAK1gB,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,gBAAgBjR,MAAM,OAC1E2R,UAAU,OADd,UAEI,8BAAM5O,EAAKkG,OACX,sBAAKtJ,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,UAAvC,UACI,cAAC0P,GAAA,EAAD,IACCxd,EAAKkd,UAAU,EAAEld,EAAKkd,UAAU,KACjC,qBAAKtgB,MAAO,CAACK,MAAM,YAAY2Q,WAAW,MAAM8C,YAAY,OAA5D,eACA,cAAC+M,GAAA,EAAD,IACA,qBAAK7gB,MAAO,CAACK,MAAM,YAAY2Q,WAAW,MAAM8C,YAAY,OAA5D,eACA,cAACgN,GAAA,EAAD,UAGH,IAAJnR,EAAO,cAAC,KAAD,IAAW,mBAO3C,qBAAK3P,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,QAAjC,SACI,cAAC,KAAD,CACIH,MAAOjQ,KAAKpE,MAAMsgB,YAClB5L,gBAAiB,GACjBD,eAAgB,EAChBxP,SAAUb,KAAKoT,iBAnGlBpT,KAAK/B,MAAMC,SAASyL,S,GAtIhBtM,IAAMgE,WAiPhBC,eAAWua,I,uCCnQpBgC,G,4MACFjiB,MAAY,CACR+D,GAAG,EAAK1B,MAAM0B,GACdsN,OAAO,GACPnR,MAAM,GACNiU,QAAQ,GACR+N,WAAW,GACXC,WAAW,GACX3O,IAAI,GACJ4O,WAAW,EACX5Q,UAAU,EACV6Q,eAAe,EACfC,WAAW,EACX1P,YAAY,GACZ2P,uBAAuB9gB,IAAMC,YAC7B8gB,mBAAmB/gB,IAAMC,a,EAuB7B+gB,cAAc,SAACjY,GACX,IAAMkY,EAAK,IAAIC,KAAKnY,GACpB,OAAOkY,EAAKE,cAAc,SAAIF,EAAKG,WAAW,SAAIH,EAAKI,UAAU,U,EAGrEC,oBAAoB,WACD,EAAK/iB,MAAMuiB,uBACjBlc,QAAQnF,MAAMgH,QAAQ,OACpB,EAAKlI,MAAMwiB,mBACjBnc,QAAQnF,MAAMgH,QAAQ,S,EAG/B8a,wBAAwB,WACL,EAAKhjB,MAAMuiB,uBACjBlc,QAAQnF,MAAMgH,QAAQ,OACpB,EAAKlI,MAAMwiB,mBACjBnc,QAAQnF,MAAMgH,QAAQ,Q,uDApC/B,WAAqB,IAAD,OAChBE,GAAsBhE,KAAKpE,MAAM+D,IAAIpB,MAAK,SAAAC,GACtC,IAAMG,EAAKH,EAAIG,KAAK4S,SACpB9S,QAAQC,IAAIC,GACZ,EAAK1B,UAAS,iBAAK,CACfgQ,OAAOtO,EAAKmR,YACZhU,MAAM6C,EAAKoH,KACXgK,QAAQpR,EAAKoR,QAAQvQ,SACrBse,WAAWnf,EAAKoR,QAAQvS,UACxBugB,WAAW,EAAKM,cAAc1f,EAAKof,YACnC3O,IAAIzQ,EAAKkgB,KACTb,WAAWrf,EAAKmgB,SAAShhB,OACzBsP,UAAUzO,EAAKyO,UACf6Q,eAAetf,EAAKogB,gBACpBb,WAAWvf,EAAKuf,WAChB1P,iBAAgCrB,IAAnBxO,EAAK6P,aAA8C,OAAnB7P,EAAK6P,YAAoB7P,EAAK6P,YAAY,OACxF,WAAK,EAAK/O,sB,oBAuBrB,WAAU,IAAD,OACL,OACI,sBAAK3C,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOkK,WAAW,cAApD,UACI,qBAAKlO,IAAKE,KAAKpE,MAAMqR,OAAQnQ,MAAO,CAAC8C,MAAM,MAAMC,UAAU,QAAQe,aAAa,MAAMgQ,YAAY,UAClG,sBAAK9T,MAAO,CAAC8C,MAAM,OAAnB,UACI,sBAAKU,UAAU,wBAAf,UACI,qBAAKxD,MAAO,CAACoS,QAAQ,cAAe/R,MAAM,iBAAiByT,YAAY,MAC1D7T,OAAO,8BAA8B6D,aAAa,OAD/D,0BAIA,qBAAK9D,MAAO,CAACiR,SAAS,OAAO7M,WAAW,UAAxC,SAAoDlB,KAAKpE,MAAME,WAEnE,sBAAKwE,UAAU,wBAAf,UACI,qBAAKR,IAAKE,KAAKpE,MAAMkiB,WAAYhhB,MAAO,CAAC8C,MAAM,OAAOC,UAAU,QAAQe,aAAa,SACrF,qBAAK9D,MAAO,CAACK,MAAM,iBAAiBiT,OAAO,gBAA3C,SAA6DpQ,KAAKpE,MAAMmU,UACxE,sBAAKjT,MAAO,CAACK,MAAM,mBAAnB,UAAwC6C,KAAKpE,MAAMmiB,WAAnD,qBAEJ,sBAAKzd,UAAU,wBAAf,UACI,sBAAKA,UAAU,mCAAf,UACI,cAAC0e,GAAA,EAAD,IADJ,2BAGI,cAACzc,EAAA,EAAD,OAEJ,sBAAKjC,UAAU,2BAAf,UACI,cAAC2e,GAAA,EAAD,IADJ,gBAEQjf,KAAKpE,MAAMqiB,eAFnB,OAIA,sBAAK3d,UAAU,2BAAf,UACI,cAACqd,GAAA,EAAD,IADJ,gBAEQ3d,KAAKpE,MAAMsiB,WAFnB,OAIA,sBAAK5d,UAAU,2BAAf,UACI,cAACoW,GAAA,EAAD,IADJ,iCAKJ,sBAAKpW,UAAU,wBAAf,+BAEKN,KAAKpE,MAAMwT,IAAInP,KAAI,SAACC,EAAKsL,GAAN,OAChB,mCAEQA,IAAM,EAAK5P,MAAMwT,IAAItR,OAAO,EACxB,sBAAKhB,MAAO,CAACgH,QAAQ,QAArB,UAA8B,qBAAKhH,MAAO,CAACK,MAAM,kBAAnB,SAAuC+C,IAArE,OACA,qBAAKpD,MAAO,CAACK,MAAM,kBAAnB,SAAuC+C,YAK3D,sBAAKI,UAAU,wBAAf,UACI,sBAAKxD,MAAO,CAAC8T,YAAY,QAAzB,+BAAsC5Q,KAAKpE,MAAMoiB,cADrD,qBAEQzX,KAAKC,MAAMxG,KAAKpE,MAAMwR,UAAU,KAFxC,YAIA,sBAAK9M,UAAU,wBAAf,+BAGQN,KAAKpE,MAAM4S,YAAY1Q,QAAQ,IAC3B,mCAAGkC,KAAKpE,MAAM4S,cACd,sBAAK1R,MAAO,CAACgH,QAAQ,QAAS1C,IAAKpB,KAAKpE,MAAMuiB,uBAA9C,UACKne,KAAKpE,MAAM4S,YAAYiD,MAAM,EAAE,IAAI,MACpC,cAACtQ,EAAA,EAAD,CAAmBnE,QAASgD,KAAK2e,oBAAsB7hB,MAAO,CAACK,MAAM,0BAIrF,sBACImD,UAAU,wBACTxD,MAAO,CAACgH,QAAQ,OAAOoJ,UAAU,SACjC9L,IAAKpB,KAAKpE,MAAMwiB,mBAHrB,UAKKpe,KAAKpE,MAAM4S,YAAYpQ,MAAM,MAAM6B,KAAI,SAAAif,GAAS,OAAG,qBAAKpiB,MAAO,CAACoQ,UAAU,SAAvB,SAAkCgS,OACtF,cAACC,GAAA,EAAD,CAAiBniB,QAASgD,KAAK4e,wBAAyB9hB,MAAO,CAACK,MAAM,iC,GA9HzEE,IAAMgE,WAsIZwc,MCvITuB,I,mNACFxjB,MAAY,CACR+D,GAAG,EAAK1B,MAAM4X,MAAMC,OAAOnW,GAC3BiG,MAAM,GACNJ,iBAAkD2H,IAAtC,EAAKlP,MAAM4X,MAAMC,OAAOtQ,YAAwB,EAAKvH,MAAM4X,MAAMC,OAAOtQ,aAAa,EACjG6Z,KAAKhiB,IAAMC,a,EA6Bf8W,YAAY,SAAChO,GACTA,EAAKG,KAAKC,MAAMJ,EAAK,KACrB,IAAME,EAAIC,KAAKC,MAAMJ,EAAK,IACpBM,EAAIN,EAAS,GAAJE,EACf,OAAOgN,OAAOhN,GAAK0N,SAAS,EAAE,KAAK,IAAIV,OAAO5M,GAAKsN,SAAS,EAAE,M,EAGlEsL,UAAU,SAAC3f,EAAU4f,GACjBnb,GAAYzE,GAAIpB,MAAK,WACjB8F,GAAW1E,GAAIpB,MAAK,SAAAC,IAEiB,IAA1B,EAAK5C,MAAM4J,cAGC,EAAK5J,MAAMyjB,KAAKpd,QAAQoJ,SAAS,EAAKzP,MAAM4J,aAClD1I,MAAMyD,gBAAiB,EAAK3E,MAAM4J,YAAY,IAAI,EAAG,mBAAmB,SAEjF,EAAKvI,UAAS,iBAAK,CAACuI,YAAY+Z,EAAO,MAAI,WAE7B,EAAK3jB,MAAMyjB,KAAKpd,QAAQoJ,SAAS,EAAKzP,MAAM4J,aAClD1I,MAAMyD,gBAAgB,sBAG9Bif,GAAoBxhB,KAAK,OAAO2B,EAAInB,EAAIG,KAAKA,KAAK,GAAG3D,IAAI,EAAKY,MAAM+D,UAG9E,WAAK6C,MAAM,sC,uDApDjB,WAAqB,IzCpBE7C,EyCoBH,QzCpBGA,EyC2BRK,KAAKpE,MAAM+D,GzC1BnB5E,EAAQ,CACXC,IAAI,0BAA0B2E,EAC9B1E,OAAO,SyCwBmBsD,MAAK,SAAAC,GAC3B,IADgC,EAC5BgN,EAAI,EADwB,eAEhBhN,EAAIG,KAAKiH,OAFO,IAEhC,IAAI,EAAJ,qBACA,CAAC,IADO6I,EACR,QACI,EAAK7S,MAAMgK,MAAMvH,KAAK,CAClBsB,GAAG8O,EAAK9O,GACR6L,IAAIA,EACJ1P,MAAM2S,EAAK1I,KACX2L,UAAoBvE,IAAfsB,EAAKiD,KAAK,GAAejD,EAAKiD,KAAK,GAAG,GAC3CjN,OAAOgK,EAAKzI,GAAG,GAAGD,KAClBmO,MAAMzF,EAAK5I,GAAGE,KACde,SAAS,EAAKsN,YAAY3F,EAAKgR,MAEnCjU,GAAK,GAbuB,8BAehC,EAAK/L,mB,oBAiCb,WAAU,IAAD,OACL,OACI,sBAAK3C,MAAO,CAAC8C,MAAM,QAAnB,UACI,sBAAK9C,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOkK,WAAW,SAASoC,OAAO,iBAApE,UACI,qBAAKtT,MAAO,CAAC8C,MAAM,SACnB,qBAAK9C,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,0BACA,qBAAKhH,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,0BACA,qBAAKhH,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,0BACA,qBAAKhH,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,6BAEJ,qBAAKhH,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,iBAAkBhP,IAAKpB,KAAKpE,MAAMyjB,KAAnE,SAEQrf,KAAKpE,MAAMgK,MAAM3F,KAAI,SAACC,EAAKsL,GAAN,OACjB,sBACIlL,UAAWkL,EAAI,IAAI,EAAE,2BAA2B,0BAChDxO,QAAS,WAAK,EAAKsiB,UAAUpf,EAAKP,GAAGO,EAAKsL,MAF9C,UAII,qBAAK1O,MAAO,CAAC8C,MAAM,KAAKzC,MAAM,mBAA9B,SAAmD+C,EAAKsL,MACxD,sBAAK1O,MAAO,CAAC8C,MAAM,KAAKzC,MAAM,kBAAkB2G,QAAQ,OAC3CkK,WAAW,SAASI,eAAe,gBADhD,UAEI,cAAC1L,EAAA,EAAD,IACA,cAACgU,GAAA,EAAD,OAEJ,qBAAK5Z,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAjD,SACK5D,EAAKpE,QAEV,qBAAKgB,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAjD,SACK5D,EAAKuE,SAEV,qBAAK3H,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAjD,SACK5D,EAAKgU,QAEV,qBAAKpX,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAjD,SACK5D,EAAK4G,0B,GAhGtBzJ,IAAMgE,YA2GX+d,MC5GTM,G,4MACF9jB,MAAY,CACR+D,GAAG,EAAK1B,MAAM4X,MAAMC,OAAOnW,GAC3Bwc,SAAS,GACTD,YAAY,EACZvJ,QAAQ,G,EASZiK,eAAe,WACX1Y,GAAY,EAAKtI,MAAM+D,GAA0B,IAAtB,EAAK/D,MAAM+W,QAAQ,IAAOpU,MAAK,SAAAC,GAAM,IAAD,iBACxCA,EAAIG,KAAKwd,UAD+B,IAC3D,IAAI,EAAJ,qBACA,CAAC,IADOa,EACR,QACI,EAAKphB,MAAMugB,SAAS9d,KAAK,CACrB6c,KAAK8B,EAAQ9B,KAAK1b,SAClByd,OAAOD,EAAQ9B,KAAK1d,UACpBwf,QAAQA,EAAQE,QAChB9W,KAAK4W,EAAQG,QACbC,UAAUJ,EAAQI,UAClBE,UAAUN,EAAQO,UAAUzf,OAAOkf,EAAQO,UAAU,GAAGrC,KAAK1b,SAAS,IACtEge,aAAaR,EAAQO,UAAUzf,OAAOkf,EAAQO,UAAU,GAAGL,QAAQ,OAVhB,8BAa3D,EAAKzd,kB,EAIb2T,WAAW,SAACqK,GACR,EAAKxgB,UAAS,iBAAK,CAAC0V,QAAQ8K,EAAWtB,SAAS,OAAK,WAAK,EAAKS,qB,uDA1BnE,WAAqB,IAAD,OAChB5c,KAAK4c,iBACL5Y,GAAsBhE,KAAKpE,MAAM+D,IAAIpB,MAAK,SAAAC,GACtC,EAAKvB,SAAS,CAACif,YAAY1d,EAAIG,KAAK4S,SAASoO,oB,oBA0BrD,WACI,OACI,sBAAK7iB,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOmK,SAAS,QAAlD,UAEQjO,KAAKpE,MAAMugB,SAASlc,KAAI,SAACC,EAAKuM,GAAN,OACpB,sBAAK3P,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,OAAOtM,QAAQ,QAAhD,UACI,qBACIhE,IAAKI,EAAK+c,OACV3Q,IAAI,GACJxP,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOpB,UAAU,QAAQe,aAAa,MAAMwP,OAAO,UAEnF,sBAAKtT,MAAO,CAAC8C,MAAM,QAAnB,UACI,sBAAK9C,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,aAAcH,SAAS,OAC3EjB,aAAa,OADjB,UAEI,sBAAKlQ,MAAO,CAACK,MAAM,kBAAnB,UAAuC+C,EAAKgb,KAA5C,OACA,qBAAKpe,MAAO,CAACoQ,UAAU,SAAvB,SAAkChN,EAAK8c,aAGtB,MAAjB9c,EAAKod,UACD,sBAAKxgB,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAQsK,eAAe,aACrDH,SAAS,OAAO1N,gBAAgB,mBAAmBK,aAAa,MAChEsO,QAAQ,OAFZ,UAII,sBAAKpS,MAAO,CAACK,MAAM,kBAAnB,cAAwC+C,EAAKod,UAA7C,OACA,qBAAKxgB,MAAO,CAACoQ,UAAU,SAAvB,SAAkChN,EAAKsd,kBACpC,KAEf,sBAAK1gB,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,gBAAgBjR,MAAM,OAC1E2R,UAAU,OADd,UAEI,8BAAM5O,EAAKkG,OACX,sBAAKtJ,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,UAAvC,UACI,cAAC0P,GAAA,EAAD,IACCxd,EAAKkd,UAAU,EAAEld,EAAKkd,UAAU,KACjC,qBAAKtgB,MAAO,CAACK,MAAM,YAAY2Q,WAAW,MAAM8C,YAAY,OAA5D,eACA,cAAC+M,GAAA,EAAD,IACA,qBAAK7gB,MAAO,CAACK,MAAM,YAAY2Q,WAAW,MAAM8C,YAAY,OAA5D,eACA,cAACgN,GAAA,EAAD,UAGH,IAAJnR,EAAO,cAAC,KAAD,IAAW,cAKnC,qBAAK3P,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,QAAjC,SACI,cAAC,KAAD,CACIH,MAAOjQ,KAAKpE,MAAMsgB,YAClB5L,gBAAiB,GACjBD,eAAgB,EAChBxP,SAAUb,KAAKoT,sB,GArFhB/V,IAAMgE,WA6Fdqe,MClGTE,G,4MACFhkB,MAAY,CACR+D,GAAG,EAAK1B,MAAM4X,MAAMC,OAAOnW,GAC3BkgB,WAAW,I,uDAGf,WAAqB,IAAD,OAChB7b,GAAsBhE,KAAKpE,MAAM+D,IAAIpB,MAAK,SAAAC,GAAM,IAAD,iBACzBA,EAAIG,KAAK4S,SAASuO,aADO,IAC3C,IAAI,EAAJ,qBACA,CAAC,IADOC,EACR,QACI,EAAKnkB,MAAMikB,WAAWxhB,KAAK,CACvBsB,GAAGogB,EAAO5E,OACVpV,KAAKga,EAAOvgB,SACZgF,IAAIub,EAAOviB,UACXwiB,UAAUD,EAAOC,UACjB5E,OAAO2E,EAAO3E,UARqB,8BAW3C,EAAK3b,mB,oBAIb,WACI,OACI,qBAAK3C,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOkK,WAAW,SAASC,SAAS,QAAtE,SAEQjO,KAAKpE,MAAMikB,WAAW5f,KAAI,SAAAC,GAAI,OAC1B,sBAAKpD,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,OAAOkK,WAAW,SAASoC,OAAO,QAAnE,UACI,qBAAKtQ,IAAKI,EAAKsE,IAAK1H,MAAO,CAAC8C,MAAM,MAAMC,UAAU,QAAQe,aAAa,SACvE,sBAAK9D,MAAO,CAAC8C,MAAM,MAAMkO,WAAW,OAAOhK,QAAQ,OAAOkK,WAAW,SAASC,SAAS,QAAvF,UACI,sBAAKnR,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,QAAlC,UACK5D,EAAK6F,KACS,IAAd7F,EAAKkb,OAAW,qBAAKte,MAAO,CAACK,MAAM,kBAAnB,SAAsC,cAACke,GAAA,EAAD,MAAqB,KAC7D,IAAdnb,EAAKkb,OAAW,qBAAKte,MAAO,CAACK,MAAM,QAAnB,SAA4B,cAACme,GAAA,EAAD,MAAuB,QAExE,qBAAKxe,MAAO,CAACK,MAAM,kBAAkB+P,UAAU,SAA/C,SACKhN,EAAK8f,2B,GApCjB3iB,IAAMgE,WA+ChBue,MChDTK,G,4MACFrkB,MAAY,CACR8N,KAAK,CACD,CAACC,IAAI,IAAI7N,MAAM,2BAAO2F,MAAM,WAAK,EAAKA,MAAM,WAC5C,CAACkI,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKA,MAAM,cAC1C,CAACkI,IAAI,IAAI7N,MAAM,qBAAM2F,MAAM,WAAK,EAAKA,MAAM,iBAE/C9B,GAAG,EAAK1B,MAAM4X,MAAMC,OAAOnW,I,EAc/B8B,MAAM,SAACga,GACH,EAAKxd,MAAMV,QAAQc,KAAK,cAAcod,EAAQ,IAAI,EAAK7f,MAAM+D,K,wDAZjE,SAAmBgS,EAA0BjF,EAA0BkF,GAAiB,IAAD,OACrD,iBAA3B5R,KAAKpE,MAAM8N,KAAK,GAAG5N,OAElBkI,GAAsBhE,KAAKpE,MAAM+D,IAAIpB,MAAK,SAAAC,GAC3B,EAAK5C,MAAM8N,KACjB,GAAG5N,MAAM,gBAAM0C,EAAIG,KAAK4S,SAASoO,aAAa,IACnD,EAAKlgB,mB,oBAQjB,WACI,OACI,sBAAK3C,MAAO,CAAC8C,MAAM,OAAQqB,OAAO,OAAQoH,SAAS,WAAW4G,UAAU,SAASC,QAAQ,QAAzF,UACI,cAAC,GAAD,CAAQvP,GAAIK,KAAKpE,MAAM+D,KACvB,cAAC,GAAD,CAAS+J,KAAM1J,KAAKpE,MAAM8N,OAC1B,cAAC,IAAD,CAAOxK,KAAK,gCAAgCkW,UAAWgK,KACvD,cAAC,IAAD,CAAOlgB,KAAK,0BAA0BkW,UAAWsK,KACjD,cAAC,IAAD,CAAOxgB,KAAK,4BAA4BkW,UAAWwK,KAClD5f,KAAK/B,MAAMC,SAASC,WAAW,cAAc6B,KAAKpE,MAAM+D,GACrD,cAAC,IAAD,CAAU0V,GAAI,oBAAoBrV,KAAKpE,MAAM+D,KAAM,Y,GAjC5CtC,IAAMgE,WAuClBC,eAAW2e,ICnDnB,SAASvH,GAAe/Y,GAC3B,OAAO5E,EAAQ,CACXC,IAAI,aAAa2E,EACjB1E,OAAO,Q,ICiBTmkB,G,4MACFxjB,MAAY,CACR+D,GAAG,EAAK1B,MAAM4X,MAAMC,OAAOnW,GAC3BiG,MAAM,GACNJ,iBAAkD2H,IAAtC,EAAKlP,MAAM4X,MAAMC,OAAOtQ,YAAwB,EAAKvH,MAAM4X,MAAMC,OAAOtQ,aAAa,EACjG6Z,KAAKhiB,IAAMC,a,EAGf8W,YAAY,SAAChO,GACTA,EAAKG,KAAKC,MAAMJ,EAAK,KACrB,IAAME,EAAIC,KAAKC,MAAMJ,EAAK,IACpBM,EAAIN,EAAS,GAAJE,EACf,OAAOgN,OAAOhN,GAAK0N,SAAS,EAAE,KAAK,IAAIV,OAAO5M,GAAKsN,SAAS,EAAE,M,EAGlEsL,UAAU,SAAC3f,EAAU4f,GACjBnb,GAAYzE,GAAIpB,MAAK,WACjB8F,GAAW1E,GAAIpB,MAAK,SAAAC,IAEa,IAA1B,EAAK5C,MAAM4J,cAEC,EAAK5J,MAAMyjB,KAAKpd,QAAQoJ,SAAS,EAAKzP,MAAM4J,aAClD1I,MAAMyD,gBAAiB,EAAK3E,MAAM4J,YAAY,IAAI,EAAG,mBAAmB,SAEjF,EAAKvI,UAAS,iBAAK,CAACuI,YAAY+Z,EAAO,MAAI,WAC7B,EAAK3jB,MAAMyjB,KAAKpd,QAAQoJ,SAAS,EAAKzP,MAAM4J,aAClD1I,MAAMyD,gBAAgB,sBAI9B2f,GAAcliB,KAAK,OAAO2B,EAAInB,EAAIG,KAAKA,KAAK,GAAG3D,IAAI,EAAKY,MAAM+D,UAEpE,WAAK6C,MAAM,sC,uDAGjB,WAAqB,IAAD,OAChBkW,GAAe1Y,KAAKpE,MAAM+D,IAAIpB,MAAK,SAAAC,GAC/B,IADoC,EAChCgN,EAAI,EAD4B,eAEpBhN,EAAIG,KAAKiH,OAFW,IAEpC,IAAI,EAAJ,qBACA,CAAC,IADO6I,EACR,QACI,EAAK7S,MAAMgK,MAAMvH,KAAK,CAClBsB,GAAG8O,EAAK9O,GACR6L,IAAIA,EACJ1P,MAAM2S,EAAK1I,KACX2L,UAAoBvE,IAAfsB,EAAKiD,KAAK,GAAejD,EAAKiD,KAAK,GAAG,GAC3CjN,OAAOgK,EAAKzI,GAAG,GAAGD,KAClBmO,MAAMzF,EAAK5I,GAAGE,KACde,SAAS,EAAKsN,YAAY3F,EAAKgR,MAEnCjU,GAAK,GAb2B,8BAepC,EAAK/L,mB,oBAIb,WAAU,IAAD,OACL,OAEQ,sBAAK3C,MAAO,CAAC8C,MAAM,QAAnB,UACI,sBAAK9C,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOkK,WAAW,SAASoC,OAAO,iBAApE,UACI,qBAAKtT,MAAO,CAAC8C,MAAM,SACnB,qBAAK9C,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,0BACA,qBAAKhH,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,0BACA,qBAAKhH,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,0BACA,qBAAKhH,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,QAAjC,6BAEJ,qBAAKhH,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,iBAAkBhP,IAAKpB,KAAKpE,MAAMyjB,KAAnE,SAEQrf,KAAKpE,MAAMgK,MAAM3F,KAAI,SAACC,EAAKsL,GAAN,OACjB,sBACIlL,UAAWkL,EAAI,IAAI,EAAE,2BAA2B,0BAChDxO,QAAS,WAAK,EAAKsiB,UAAUpf,EAAKP,GAAGO,EAAKsL,MAF9C,UAII,qBAAK1O,MAAO,CAAC8C,MAAM,KAAKzC,MAAM,mBAA9B,SAAmD+C,EAAKsL,MACxD,sBAAK1O,MAAO,CAAC8C,MAAM,KAAKzC,MAAM,kBAAkB2G,QAAQ,OACpDkK,WAAW,SAASI,eAAe,gBADvC,UAEI,cAAC1L,EAAA,EAAD,IACA,cAACgU,GAAA,EAAD,OAEJ,qBAAK5Z,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAjD,SACK5D,EAAKpE,QAEV,qBAAKgB,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAjD,SACK5D,EAAKuE,SAEV,qBAAK3H,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAjD,SACK5D,EAAKgU,QAEV,qBAAKpX,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAjD,SACK5D,EAAK4G,0B,GAzF1BzJ,IAAMgE,WAqGX+d,MCvGTM,G,4MACF9jB,MAAY,CACR+D,GAAG,EAAK1B,MAAM4X,MAAMC,OAAOnW,GAC3Bwc,SAAS,GACTD,YAAY,EACZvJ,QAAQ,G,EAuBZS,WAAW,SAACqK,GACR,EAAKxgB,UAAS,iBAAK,CAAC0V,QAAQ8K,EAAWtB,SAAS,OAAK,WAAK,EAAKjL,c,6CArBnE,WAAU,IFnBmBvR,EAAUwE,EEmB9B,QFnBoBxE,EEoBRK,KAAKpE,MAAM+D,GFpBOwE,EEoBmB,IAAtBnE,KAAKpE,MAAM+W,QAAQ,GFnBhD5X,EAAQ,CACXC,IAAI,qBAAqB2E,EAAG,WAAWwE,EACvClJ,OAAO,SEiBmDsD,MAAK,SAAAC,GAC3DC,QAAQC,IAAIF,GACZ,EAAKvB,SAAS,CAACif,YAAY1d,EAAIG,KAAKsR,QAF4B,qBAG7CzR,EAAIG,KAAKwd,UAHoC,IAGhE,IAAI,EAAJ,qBACA,CAAC,IADOa,EACR,QACI,EAAKphB,MAAMugB,SAAS9d,KAAK,CACrB6c,KAAK8B,EAAQ9B,KAAK1b,SAClByd,OAAOD,EAAQ9B,KAAK1d,UACpBwf,QAAQA,EAAQE,QAChB9W,KAAK4W,EAAQG,QACbC,UAAUJ,EAAQI,UAClBE,eAAkCnQ,IAAvB6P,EAAQO,UAAU,GAAgBP,EAAQO,UAAU,GAAGrC,KAAK1b,SAAS,IAChFge,kBAAqCrQ,IAAvB6P,EAAQO,UAAU,GAAgBP,EAAQO,UAAU,GAAGL,QAAQ,OAZrB,8BAehE,EAAKzd,mB,+BAQb,WACIO,KAAKkR,Y,oBAGT,WACI,OACI,sBAAKpU,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOmK,SAAS,QAAlD,UAEQjO,KAAKpE,MAAMugB,SAASlc,KAAI,SAACC,EAAKuM,GAAN,OACpB,sBAAK3P,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,OAAOtM,QAAQ,QAAhD,UACI,qBACIhE,IAAKI,EAAK+c,OACV3Q,IAAI,GACJxP,MAAO,CAAC8C,MAAM,OAAOqB,OAAO,OAAOpB,UAAU,QAAQe,aAAa,MAAMwP,OAAO,UAEnF,sBAAKtT,MAAO,CAAC8C,MAAM,QAAnB,UACI,sBAAK9C,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,aAAcH,SAAS,OAC3EjB,aAAa,OADjB,UAEI,sBAAKlQ,MAAO,CAACK,MAAM,kBAAnB,UAAuC+C,EAAKgb,KAA5C,OACA,qBAAKpe,MAAO,CAACoQ,UAAU,SAAvB,SAAkChN,EAAK8c,aAGtB,MAAjB9c,EAAKod,UACD,sBAAKxgB,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAQsK,eAAe,aACrDH,SAAS,OAAO1N,gBAAgB,mBAAmBK,aAAa,MAChEsO,QAAQ,OAFZ,UAII,sBAAKpS,MAAO,CAACK,MAAM,kBAAnB,cAAwC+C,EAAKod,UAA7C,OACA,qBAAKxgB,MAAO,CAACoQ,UAAU,SAAvB,SAAkChN,EAAKsd,kBACpC,KAEf,sBAAK1gB,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,gBAAgBjR,MAAM,OAC1E2R,UAAU,OADd,UAEI,8BAAM5O,EAAKkG,OACX,sBAAKtJ,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,UAAvC,UACI,cAAC0P,GAAA,EAAD,IACCxd,EAAKkd,UAAU,EAAEld,EAAKkd,UAAU,KACjC,qBAAKtgB,MAAO,CAACK,MAAM,YAAY2Q,WAAW,MAAM8C,YAAY,OAA5D,eACA,cAAC+M,GAAA,EAAD,IACA,qBAAK7gB,MAAO,CAACK,MAAM,YAAY2Q,WAAW,MAAM8C,YAAY,OAA5D,eACA,cAACgN,GAAA,EAAD,UAGH,IAAJnR,EAAO,cAAC,KAAD,IAAW,cAKnC,qBAAK3P,MAAO,CAAC8C,MAAM,OAAOwQ,OAAO,QAAjC,SACI,cAAC,KAAD,CACIH,MAAOjQ,KAAKpE,MAAMsgB,YAClB5L,gBAAiB,GACjBD,eAAgB,EAChBxP,SAAUb,KAAKoT,sB,GArFhB/V,IAAMgE,WA6Fdqe,MC1GTS,G,4MACFvkB,MAAY,CACR+D,GAAG,EAAK1B,MAAM4X,MAAMC,OAAOnW,GAC3B6O,YAAY,I,uDAGhB,WAAqB,IAAD,OAChBkK,GAAe1Y,KAAKpE,MAAM+D,IAAIpB,MAAK,SAAAC,GAC/BC,QAAQC,IAAIF,GACZ,EAAKvB,SAAS,CAACuR,YAAYhQ,EAAIG,KAAKuV,MAAM1F,cAC1C,EAAK/O,mB,oBAIb,WACI,OACI,qBAAK3C,MAAO,CAAC8C,MAAM,OAAOsN,UAAU,SAApC,SACKlN,KAAKpE,MAAM4S,kB,GAjBDnR,IAAMgE,WAuBlB8e,MCfTtC,I,mNACFjiB,MAAY,CACR+D,GAAG,EAAK1B,MAAM0B,GACdsN,OAAO,GACPnR,MAAM,GACN2I,OAAO,GACPsZ,WAAW,GACXE,eAAe,EACfC,WAAW,G,EAiBfG,cAAc,SAACjY,GACX,IAAMkY,EAAK,IAAIC,KAAKnY,GACpB,OAAOkY,EAAKE,cAAc,SAAIF,EAAKG,WAAW,SAAIH,EAAKI,UAAU,U,uDAhBrE,WAAqB,IAAD,OAChBhG,GAAe1Y,KAAKpE,MAAM+D,IAAIpB,MAAK,SAAAC,GAC/B,IAAMG,EAAKH,EAAIG,KAAKuV,MACpB,EAAKjX,UAAS,iBAAK,CACfgQ,OAAOtO,EAAKmH,OACZhK,MAAM6C,EAAKoH,KACXtB,OAAO9F,EAAKiW,OAAO7O,KACnBgY,WAAW,EAAKM,cAAc1f,EAAKyhB,aACnCnC,eAAetf,EAAK4Y,KAAK8F,WACzBa,WAAWvf,EAAK4Y,KAAK2G,eACtB,WAAK,EAAKze,sB,oBASrB,WACI,OACI,sBAAK3C,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOkK,WAAW,cAApD,UACI,qBAAKlO,IAAKE,KAAKpE,MAAMqR,OAAQnQ,MAAO,CAAC8C,MAAM,MAAMC,UAAU,QAAQe,aAAa,MAAMgQ,YAAY,QAAStE,IAAI,KAC/G,sBAAKxP,MAAO,CAAC8C,MAAM,OAAnB,UACI,sBAAKU,UAAU,qBAAf,UACI,qBAAKxD,MAAO,CAACoS,QAAQ,cAAe/R,MAAM,iBAAiByT,YAAY,MACnE7T,OAAO,8BAA8B6D,aAAa,OADtD,0BAIA,qBAAK9D,MAAO,CAACiR,SAAS,OAAO7M,WAAW,UAAxC,SAAoDlB,KAAKpE,MAAME,WAEnE,sBAAKwE,UAAU,wBAAf,UACI,sBAAKA,UAAU,mCAAf,UACI,cAAC0e,GAAA,EAAD,IADJ,2BAGI,cAACzc,EAAA,EAAD,OAEJ,sBAAKjC,UAAU,2BAAf,UACI,cAAC2e,GAAA,EAAD,IADJ,gBAEQjf,KAAKpE,MAAMqiB,eAFnB,OAIA,sBAAK3d,UAAU,2BAAf,UACI,cAACqd,GAAA,EAAD,IADJ,gBAEQ3d,KAAKpE,MAAMsiB,WAFnB,OAIA,sBAAK5d,UAAU,2BAAf,UACI,cAACoW,GAAA,EAAD,IADJ,iCAKJ,sBAAKpW,UAAU,qBAAf,+BAEI,qBAAKxD,MAAO,CAACK,MAAM,iBAAiBiT,OAAO,gBAA3C,SAA6DpQ,KAAKpE,MAAM6I,YAE5E,sBAAKnE,UAAU,qBAAf,2CAEI,qBAAKxD,MAAO,CAACK,MAAM,iBAAiBiT,OAAO,gBAA3C,SAA6DpQ,KAAKpE,MAAMmiB,0B,GAnE3E1gB,IAAMgE,YA2EZwc,MC3ETwC,G,4MACFzkB,MAAY,CACR8N,KAAK,CACD,CAACC,IAAI,IAAI7N,MAAM,2BAAO2F,MAAM,WAAK,EAAKA,MAAM,WAC5C,CAACkI,IAAI,IAAI7N,MAAM,eAAK2F,MAAM,WAAK,EAAKA,MAAM,cAC1C,CAACkI,IAAI,IAAI7N,MAAM,2BAAO2F,MAAM,WAAK,EAAKA,MAAM,kBAEhD9B,GAAG,EAAK1B,MAAM4X,MAAMC,OAAOnW,I,EAkB/B8B,MAAM,SAACga,GACH,EAAKxd,MAAMV,QAAQc,KAAK,UAAUod,EAAQ,IAAI,EAAK7f,MAAM+D,K,wDAhB7D,SAAmBgS,EAA0BjF,EAA0BkF,GAAiB,IAAD,OACrD,iBAA3B5R,KAAKpE,MAAM8N,KAAK,GAAG5N,OAElB4c,GAAe1Y,KAAKpE,MAAM+D,IAAIpB,MAAK,SAAAC,GACpB,EAAK5C,MAAM8N,KACjB,GAAG5N,MAAM,gBAAM0C,EAAIG,KAAKuV,MAAMqD,KAAKoI,aAAa,IACrD,EAAKlgB,mB,+BAKjB,c,oBAQA,WACI,OACI,sBAAK3C,MAAO,CAAC8C,MAAM,OAAQqB,OAAO,OAAQoH,SAAS,WAAW4G,UAAU,SAASC,QAAQ,QAAzF,UACI,cAAC,GAAD,CAAQvP,GAAIK,KAAKpE,MAAM+D,KACvB,cAAC,GAAD,CAAS+J,KAAM1J,KAAKpE,MAAM8N,OAC1B,cAAC,IAAD,CAAOxK,KAAK,4BAA4BkW,UAAWgK,KACnD,cAAC,IAAD,CAAOlgB,KAAK,sBAAsBkW,UAAWsK,KAC7C,cAAC,IAAD,CAAOxgB,KAAK,yBAAyBkW,UAAWkL,KAC/CtgB,KAAK/B,MAAMC,SAASC,WAAW,UAAU6B,KAAKpE,MAAM+D,GACjD,cAAC,IAAD,CAAU0V,GAAI,gBAAgBrV,KAAKpE,MAAM+D,KAAM,Y,GAtC3CtC,IAAMgE,WA4CfC,gBAAW+e,I,6BC3DX,I,OAAA,IAA0B,gCCA1B,OAA0B,kCCA1B,OAA0B,kCCwBnCE,G,4MACF3kB,MAAY,CACRd,MAAM,GACNK,MAAM,GACNE,SAAS,GACTmlB,SAAQ,EACRC,SAAQ,EACRC,WAAU,EACVC,cAActjB,IAAMC,YACpBsjB,cAAcvjB,IAAMC,YACpBujB,aAAaxjB,IAAMC,a,EAGvBwjB,aAAa,WACTjmB,EAAS,EAAKe,MAAMd,OAAOyD,MAAK,SAAAC,GACT,MAAhBA,EAAIG,KAAKC,MAER,EAAK3B,UAAS,iBAAK,CAACyjB,WAAU,MAClB,WAAKK,YAAW,WAAK,EAAK9jB,SAAS,CAACyjB,WAAU,MAAS,QACnEle,MAAM,gGAEJA,MAAM,0E,EAIpBwe,aAAa,SAACxiB,GACVM,OAAOC,aAAakiB,QAAQ,KAAKziB,EAAIG,KAAKuiB,QAAQvhB,IAClDb,OAAOC,aAAakiB,QAAQ,QAAQziB,EAAIG,KAAKwiB,OAC7CriB,OAAOC,aAAakiB,QAAQ,SAASG,mBAAmB5iB,EAAIG,KAAK0iB,U,EAGrEC,OAAO,WACA5hB,IAAS8C,MAAM,4HAUf,EAAK5G,MAAMd,MAAMgD,OAAO,IAAI0E,MAAM,0DACjC,EAAK5G,MAAM6kB,SAASje,MAAM,0DAC3B,EAAK5G,MAAM4kB,SAEmB,IAA1B,EAAK5kB,MAAMT,MAAM2C,QAAY0E,MAAM,wCACT,KAA1B,EAAK5G,MAAMd,MAAMgD,QAAe,EAAKlC,MAAMT,MAAM2C,OAAO,GAAK,EAAKlC,MAAM6kB,SAEvEvlB,EAAa,EAAKU,MAAMd,MAAM,EAAKc,MAAMT,OAAOoD,MAAK,SAAAC,GAC9B,MAAhBA,EAAIG,KAAKC,MAERH,QAAQC,IAAIF,GACZK,GAAWb,KAAK,SAChB,EAAKC,MAAMV,QAAQc,KAAK,UAEtBmE,MAAM,uDACd,WAAKA,MAAM,yDAKe,IAA7B,EAAK5G,MAAMP,SAASyC,QAAY0E,MAAM,kCACZ,KAA1B,EAAK5G,MAAMd,MAAMgD,QAAe,EAAKlC,MAAMP,SAASyC,OAAO,GAAK,EAAKlC,MAAM6kB,SAE1ErlB,EAAgB,EAAKQ,MAAMd,MAAM,EAAKc,MAAMP,UAAUkD,MAAK,SAAAC,GACvDC,QAAQC,IAAIF,GACO,MAAhBA,EAAIG,KAAKC,MAER,EAAKoiB,aAAaxiB,GAClBK,GAAWb,KAAK,SAChB,EAAKC,MAAMV,QAAQc,KAAK,UAEtBmE,MAAM,uDACd,WAAKA,MAAM,yD,4CAKzB,WAAU,IAAD,OACL,OACI,sBAAK1F,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOsK,eAAe,SAASJ,WAAW,UAA5E,UACI,qBAAKlO,IAAKyhB,GAAI3hB,MAAM,OAAOqB,OAAO,OAAOnE,MAAO,CAAC0kB,OAAO,OAAOnZ,SAAS,WAAWG,KAAK,EAAED,IAAI,KAC9F,sBAAKzL,MAAO,CAAC8C,MAAM,MAAMsP,QAAQ,OAAO3O,gBAAgB,kBAAkBK,aAAa,QAAvF,UACI,sBAAK9D,MAAO,CAACgH,QAAQ,OAAOsK,eAAe,iBAA3C,UACI,sBAAKtR,MAAO,CAAC8C,MAAM,MAAMkE,QAAQ,OAAOkK,WAAW,UAAnD,UACI,qBAAKlO,IAAK/D,GAAMe,MAAO,CAAC8C,MAAM,MAAMC,UAAU,WAC9C,qBAAKC,IAAK2hB,GAAO3kB,MAAO,CAAC8C,MAAM,MAAMC,UAAU,cAEnD,qBAAKF,GAAG,YAAY3C,QAAS,WAAK,EAAKiB,MAAMV,QAAQc,KAAK,UAA1D,SACI,cAAC,IAAD,CAASvC,MAAM,2BAAf,SACI,cAACY,EAAA,EAAD,WAIZ,sBAAKI,MAAO,CAACsT,OAAO,gBAAgBtM,QAAQ,OAAOkK,WAAW,UAA9D,UACI,cAAC,IAAD,CACIxN,YAAY,6CACZC,OAAQ,cAACO,EAAA,EAAD,IACRH,SAAU,SAAC0C,GAAS,EAAKtG,SAAS,CAACnC,MAAMyI,EAAM3F,OAAOC,SACtDA,MAAOmC,KAAKpE,MAAMd,QAEtB,qBAAKsG,IAAKpB,KAAKpE,MAAM+kB,cAArB,SACI,cAAC,IAAD,CAAS7kB,MAAM,uCAAf,SACI,cAAC,IAAD,CACIC,KAAM,cAACW,EAAA,EAAD,IACNM,QAAS,WAAK,EAAKC,SAAS,CAACnC,MAAM,MACnC4mB,SAAoC,IAA1B1hB,KAAKpE,MAAMd,MAAMgD,gBAK3C,8BAEQkC,KAAKpE,MAAM4kB,QACP,sBAAK1jB,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,SAASI,eAAe,iBAA/D,UACI,sBAAKtR,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,SAASpO,MAAM,OAAtD,UACI,cAAC,IAAM+hB,SAAP,CACInhB,YAAY,uCACZohB,WAAY,SAAAC,GAAO,OAAKA,EAAU,cAACC,GAAA,EAAD,IAAiB,cAACC,GAAA,EAAD,KACnDlhB,SAAU,SAAClD,GAAK,EAAKV,SAAS,CAAC9B,MAAMwC,EAAEC,OAAOC,SAC9CA,MAAOmC,KAAKpE,MAAMT,QAEtB,qBAAKiG,IAAKpB,KAAKpE,MAAMglB,cAArB,SACI,cAAC,IAAD,CAAS9kB,MAAM,iCAAf,SACI,cAAC,IAAD,CACIC,KAAM,cAACW,EAAA,EAAD,IACNM,QAAS,WAAK,EAAKC,SAAS,CAAC9B,MAAM,MACnCumB,SAAoC,IAA1B1hB,KAAKpE,MAAMT,MAAM2C,gBAMtCkC,KAAKpE,MAAM8kB,UAER,cAAC,IAAD,CAAQgB,UAAU,EAAlB,kDADA,cAAC,IAAD,CAAQ1kB,QAASgD,KAAK8gB,aAAtB,+CAKZ,sBAAKhkB,MAAO,CAACgH,QAAQ,OAAOkK,WAAW,UAAvC,UACI,cAAC,IAAM2T,SAAP,CACInhB,YAAY,iCACZohB,WAAY,SAAAC,GAAO,OAAKA,EAAU,cAACC,GAAA,EAAD,IAAiB,cAACC,GAAA,EAAD,KACnDlhB,SAAU,SAAClD,GAAK,EAAKV,SAAS,CAAC5B,SAASsC,EAAEC,OAAOC,SACjDA,MAAOmC,KAAKpE,MAAMP,WAEtB,qBAAK+F,IAAKpB,KAAKpE,MAAMilB,aAArB,SACI,cAAC,IAAD,CAAS/kB,MAAM,2BAAf,SACI,cAAC,IAAD,CACIC,KAAM,cAACW,EAAA,EAAD,IACNM,QAAS,WAAK,EAAKC,SAAS,CAAC5B,SAAS,MACtCqmB,SAAuC,IAA7B1hB,KAAKpE,MAAMP,SAASyC,kBAO1D,sBAAKhB,MAAO,CAACsT,OAAO,gBAAgBtM,QAAQ,OAAOsK,eAAe,gBAAgBJ,WAAW,UAA7F,UAEQhO,KAAKpE,MAAM4kB,QACP,qBACIxjB,QAAS,WAAK,EAAKC,SAAS,CAACujB,SAAQ,KACrC1jB,MAAO,CAACoQ,UAAU,QAAQa,SAAS,QAAQ5Q,MAAM,mBAAmBmL,OAAO,WAF/E,sCAMA,qBACItL,QAAS,WAAK,EAAKC,SAAS,CAACujB,SAAQ,KACrC1jB,MAAO,CAACoQ,UAAU,QAAQa,SAAS,QAAQ5Q,MAAM,mBAAmBmL,OAAO,WAF/E,4CAOR,cAAC,KAAD,CAAUzH,SAAU,WAAK,EAAK5D,SAAS,CAACwjB,SAAS,EAAK7kB,MAAM6kB,WAA5D,SACI,qBAAK3jB,MAAO,CAACiR,SAAS,QAAQ5Q,MAAM,oBAApC,mEAGR,qBACIH,QAASgD,KAAKshB,OACd3hB,GAAG,QAFP,kD,GAnLAtC,IAAMgE,WA+LXC,gBAAWif,ICnMpByB,I,mNACFpmB,MAAY,CACRgK,MAAM,GACNJ,aAAa,EACb6Z,KAAKhiB,IAAMC,a,EA6Bf8W,YAAY,SAAChO,GACTA,EAAKG,KAAKC,MAAMJ,EAAK,KACrB,IAAME,EAAIC,KAAKC,MAAMJ,EAAK,IACpBM,EAAIN,EAAS,GAAJE,EACf,OAAOgN,OAAOhN,GAAK0N,SAAS,EAAE,KAAK,IAAIV,OAAO5M,GAAKsN,SAAS,EAAE,M,EAGlEsL,UAAU,SAAC3f,EAAU6L,GACjBpH,GAAYzE,GAAIpB,MAAK,WACjB8F,GAAW1E,GAAIpB,MAAK,SAAAC,IAEa,IAA1B,EAAK5C,MAAM4J,cAEC,EAAK5J,MAAMyjB,KAAKpd,QAAQoJ,SAAS,EAAKzP,MAAM4J,aAClD1I,MAAMyD,gBAAiB,EAAK3E,MAAM4J,YAAY,IAAI,EAAG,mBAAmB,SAEjF,EAAKvI,UAAS,iBAAK,CAACuI,YAAYgG,MAAM,WACxB,EAAK5P,MAAMyjB,KAAKpd,QAAQoJ,SAAS,EAAKzP,MAAM4J,aAClD1I,MAAMyD,gBAAgB,sBAG9B4H,GAAYnK,KAAK,OAAO2B,EAAGnB,EAAIG,KAAKA,KAAK,GAAG3D,WAElD,WAAKwH,MAAM,sC,uDAjDjB,WAAqB,I5D+BOhH,E4D/BR,OACuB,OAApCsD,OAAOC,aAAaO,QAAQ,Q5D8BP9D,E4D5BJsD,OAAOC,aAAaO,QAAQ,M5D6B7CvE,EAAQ,CACXC,IAAI,oBAAoBQ,EAAI,UAC5BP,OAAO,S4D/BgDsD,MAAK,SAAAC,GAEpD,IAAIiQ,EADJhQ,QAAQC,IAAI,eAAeF,GAE3B,IAHyD,EAGrDgN,EAAI,EAHiD,eAIzChN,EAAIG,KAAKsjB,SAJgC,IAIzD,IAAI,EAAJ,qBACA,CACIxT,EADJ,QACcA,KACV,EAAK7S,MAAMgK,MAAMvH,KAAK,CAClBsB,GAAG8O,EAAK9O,GACR6L,IAAIA,EACJzF,KAAK0I,EAAK1I,KACVtB,OAAOgK,EAAKzI,GAAG,GAAGD,KAClBmO,MAAMzF,EAAK5I,GAAGE,KACde,SAAS,EAAKsN,YAAY3F,EAAKgR,MAEnCjU,GAAK,GAfgD,8BAiBzD/M,QAAQC,IAAI,EAAK9C,MAAMgK,OACvB,EAAKnG,mB,oBA+BjB,WAAU,IAAD,OACL,OACI,sBAAK3C,MAAO,CAAC8C,MAAM,OAAQqB,OAAO,OAAQoH,SAAS,WAAW4G,UAAU,SAASC,QAAQ,QAAzF,UACI,qBAAKpS,MAAO,CAACiR,SAAS,OAAQ7M,WAAW,SAAUtB,MAAM,OAAQkE,QAAQ,OAAOkJ,aAAa,QAA7F,sCAGA,sBAAKlQ,MAAO,CAAC8C,MAAM,OAAOkE,QAAQ,OAAOkK,WAAW,UAApD,UACI,qBAAKlR,MAAO,CAAC8C,MAAM,KAAKsN,UAAU,QAAQY,WAAW,MAAM3Q,MAAM,aACjE,qBAAKL,MAAO,CAAC8C,MAAM,MAAMsN,UAAU,QAAQ/P,MAAM,WAAjD,sCACA,qBAAKL,MAAO,CAAC8C,MAAM,MAAMsN,UAAU,QAAQ/P,MAAM,WAAjD,0BACA,qBAAKL,MAAO,CAAC8C,MAAM,MAAMsN,UAAU,QAAQ/P,MAAM,WAAjD,0BACA,qBAAKL,MAAO,CAAC8C,MAAM,KAAKsN,UAAU,QAAQ/P,MAAM,WAAhD,6BAEJ,qBAAKiE,IAAKpB,KAAKpE,MAAMyjB,KAAMviB,MAAO,CAAC8C,MAAM,QAAzC,SAEQI,KAAKpE,MAAMgK,MAAM3F,KAAI,SAACC,EAAKsL,GAAN,OACjB,sBACIlL,UAAWkL,EAAI,IAAI,EAAE,8BAA8B,6BACnDxO,QAAS,WAAK,EAAKsiB,UAAUpf,EAAKP,GAAG6L,IAFzC,UAII,qBAAK1O,MAAO,CAAC8C,MAAM,KAAKzC,MAAM,UAAU2G,QAAQ,OAAOgK,WAAW,OAAlE,SACK5N,EAAKsL,MAEV,cAAC,IAAD,CAAS1P,MAAOoE,EAAK6F,KAArB,SACI,qBAAKjJ,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAUxD,UAAU,OAArE,SACKJ,EAAK6F,SAGd,cAAC,IAAD,CAASjK,MAAOoE,EAAKuE,OAArB,SACI,qBAAK3H,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAUxD,UAAU,OAArE,SACKJ,EAAKuE,WAGd,cAAC,IAAD,CAAS3I,MAAOoE,EAAKgU,MAArB,SACI,qBAAKpX,MAAO,CAAC8C,MAAM,MAAMzC,MAAM,UAAU2G,QAAQ,QAAUxD,UAAU,OAArE,SACKJ,EAAKgU,UAGd,qBAAKpX,MAAO,CAAC8C,MAAM,KAAKzC,MAAM,UAAU2G,QAAQ,QAAhD,SACK5D,EAAK4G,0B,GAlGZzJ,IAAMgE,YA6GrB2gB,MCjHTja,I,OAAe,IAAIrM,KACnBwmB,GAAe,IAAIxmB,IACnB8jB,GAAoB,IAAI9jB,IACxB6S,GAAe,IAAI7S,IACnBwkB,GAAc,IAAIxkB,IAClBmD,GAAW,IAAInD,IACfyM,GAAY,IAAIzM,IAEhBymB,G,4JACF,WACI,OACI,qCACI,cAAC,EAAD,IACA,qBAAKxiB,GAAG,UAAR,SACI,cAAC,GAAD,a,GANDtC,IAAMgE,WAYnB+gB,G,4JACF,WACI,OACI,qCACI,cAAC,EAAD,IACA,qBAAKziB,GAAG,UAAR,SACI,cAAC,GAAD,CAAYoI,eAAgBA,c,GAN3B1K,IAAMgE,WAYrBghB,G,4JACF,WACI,OACI,cAAC,GAAD,CAAapb,oBAAqBib,S,GAHzB7kB,IAAMgE,WAOrBihB,G,4JACF,WACI,OACI,qCACI,cAAC,EAAD,IACA,qBAAK3iB,GAAG,UAAR,SACI,cAAC,GAAD,CAAcqI,kBAAmBwX,c,GAN9BniB,IAAMgE,WAYvBkhB,G,4JACF,WACI,OACI,qCACI,cAAC,EAAD,IACA,qBAAK5iB,GAAG,UAAR,SACI,cAAC,GAAD,a,GANAtC,IAAMgE,WAYpBmhB,G,4JACF,WACI,OACI,qCACI,cAAC,EAAD,IACA,qBAAK7iB,GAAG,UAAR,SACI,cAAC,GAAD,a,GANMtC,IAAMgE,WAY5B3B,GAA6C,OAApCZ,OAAOC,aAAaO,QAAQ,MAEnCmjB,G,uKACF,WACI5jB,GAAWQ,YAAY,SAAQ,WAAKK,IAAQ,KAC5Cb,GAAWQ,YAAY,UAAS,WAAKK,IAAQ,O,oBAGjD,WACI,OACI,cAAC,KAAD,UACI,sBAAKC,GAAG,OAAR,UAEI,qBAAKA,GAAG,MAAR,SACI,cAAC,EAAD,MAEJ,qBAAKA,GAAG,SAAR,SACI,eAAC,KAAD,WACI,cAAC,KAAD,CAAOT,KAAK,QAAQkW,UAAW+M,KAC/B,cAAC,KAAD,CAAOjjB,KAAK,iCAAiCkW,UAAWgN,KACxD,cAAC,KAAD,CAAOljB,KAAK,uBAAuBkW,UAAWiN,KAC9C,cAAC,KAAD,CAAOnjB,KAAK,iBAAiBkW,UAAWkN,KACxC,cAAC,KAAD,CAAOpjB,KAAK,aAAakW,UAAWmN,KACpC,cAAC,KAAD,CAAOrjB,KAAK,SAASkW,UAAWmL,KAChC,cAAC,KAAD,CAAOrhB,KAAK,gBAAgBkW,UAAWoN,KACvC,cAAC,KAAD,CAAUnN,GAAG,eAGrB,qBAAK1V,GAAG,SAAR,SACI,cAAC,GAAD,CACYoI,eAAgBA,GAChBd,oBAAqBib,GACrBla,kBAAmBwX,GACnBvX,oBAAqBsG,GACrBrG,mBAAoBgY,GACpB/X,YAAaA,gB,GAjC1B9K,IAAMgE,WA2CdC,gBAAWmhB,ICzHXC,OAVf,WACE,OACI,cAAC,KAAD,UACI,qBAAKpiB,UAAU,MAAf,SACI,cAAC,GAAD,SCKCqiB,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBtkB,MAAK,YAAkD,IAA/CukB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAAS3M,OACP,cAAC,IAAM4M,WAAP,UACE,cAAC,GAAD,MAEFpgB,SAAS6E,eAAe,SAM1B8a,O","file":"static/js/main.baa3afba.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst Axios=axios.create({\r\n    baseURL:\"https://wangyi-cloud-music-api.vercel.app\",\r\n    timeout:5000\r\n})\r\n\r\nexport default Axios","import request from \"./request\";\r\n\r\nexport function getValid(phone:string){\r\n    return request({\r\n        url:\"/captcha/sent?phone=\"+phone,\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function loginByValid(phone:string,valid:string){\r\n    return request({\r\n        url:\"/captcha/verify?phone=\"+phone+\"&captcha=\"+valid,\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function loginByPassword(phone:string,password:string){\r\n    return request({\r\n        url:\"/login/cellphone?phone=\"+phone+\"&password=\"+password,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function logout(){\r\n    return request({\r\n        url:\"/logout\",\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function isLogin(){\r\n    return request({\r\n        url:\"/login/status\",\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function getAccountInfo(){\r\n    return request({\r\n        url:\"/user/account\",\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function getUserInfo(uid:string|null){\r\n    return request({\r\n        url:'/user/detail?uid='+uid,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getUserSongs(uid:string|null,cookie:string|null){\r\n    return request({\r\n        url:\"/user/playlist?uid=\"+uid+\"&cookie\"+cookie,\r\n        method:'get'\r\n    })\r\n}\r\n\r\nexport function getUserSongList(uid:string|null){\r\n    return request({\r\n        url:\"/user/record?uid=\"+uid+\"&type=0\",\r\n        method:'get'\r\n    })\r\n}\r\n","export default __webpack_public_path__ + \"static/media/wyy.33b5f59d.svg\";","import React from \"react\";\r\nimport icon from \"../../../../assets/icon.png\"\r\nimport 'antd/dist/antd.css'\r\nimport {Button, Tooltip, Input, Avatar} from \"antd\";\r\nimport { LeftOutlined , RightOutlined, SearchOutlined, AudioOutlined, UserOutlined, SkinOutlined, SettingOutlined,\r\n    MailOutlined, MinusOutlined, BorderOutlined, FullscreenExitOutlined, CloseOutlined, CaretDownOutlined} from '@ant-design/icons';\r\nimport  \"./NavBar.css\"\r\nimport {withRouter} from \"react-router\";\r\nimport EventEmitter from \"events\";\r\nimport {isLogin} from \"../../MainPage/MainPage\";\r\nimport {loginEvent} from \"../../MainPage/MainPage\";\r\nimport {logout} from \"../../../../apis/LoginPage\";\r\nimport wyy from \"../../../../assets/wyy.svg\"\r\nimport {getAccountInfo,getUserInfo} from \"../../../../apis/LoginPage\";\r\n\r\nconst updateKeyword=new EventEmitter()\r\ninterface Button{\r\n    title:string,\r\n    icon:any\r\n}\r\ninterface State{\r\n    buttonGroup1:Button[],\r\n    buttonGroup2:Button[],\r\n    buttonGroup3:Button[],\r\n    searchValue:string,\r\n    clear:boolean,\r\n    clearButtonActive:any,\r\n    clearButtonDeactive:any,\r\n    login:any,\r\n    history:any,\r\n    avatarUrl:string,\r\n    userName:\"\"\r\n}\r\n\r\nclass NavBar extends React.Component<any, any>{\r\n    state:State={\r\n        buttonGroup1:[{title:\"后退\",icon:LeftOutlined},{title:\"前进\",icon:RightOutlined}],\r\n        buttonGroup2:[{title:\"1\",icon:<SkinOutlined/>},{title:\"2\",icon:<SettingOutlined/>},{title:\"3\",icon:<MailOutlined/>}],\r\n        buttonGroup3:[{title:\"mini模式\",icon:<FullscreenExitOutlined/>},{title:\"最小化\",icon:<MinusOutlined/>},\r\n                      {title:\"最大化\",icon:<BorderOutlined/>},{title:\"关闭\",icon:<CloseOutlined/>}],\r\n        searchValue:\"\",\r\n        clear:false,\r\n        clearButtonActive:(<Button icon={<CloseOutlined/>} style={{border:\"none\"}}\r\n                                   onClick={()=>{this.setState({searchValue:'',clear:false})}}/>),\r\n        clearButtonDeactive:(<Button icon={<CloseOutlined/>} style={{color:\"white\",border:\"none\"}}/>),\r\n        login:React.createRef(),\r\n        history:null,\r\n        avatarUrl:\"\",\r\n        userName:\"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        //this.state.login.current.focus()\r\n        loginEvent.addListener(\"login\",()=>{\r\n            if(window.localStorage.getItem(\"id\")!==null)\r\n            {\r\n                getUserInfo(window.localStorage.getItem(\"id\")).then(res=>{\r\n                    this.setState({avatarUrl:res.data.profile.avatarUrl,userName:res.data.profile.nickname})\r\n                    this.forceUpdate()\r\n                })\r\n            }\r\n        })\r\n        if(isLogin && window.localStorage.getItem(\"id\")!==null)\r\n        {\r\n            getUserInfo(window.localStorage.getItem(\"id\")).then(res=>{\r\n                this.setState({avatarUrl:res.data.profile.avatarUrl,userName:res.data.profile.nickname})\r\n            })\r\n        }\r\n    }\r\n\r\n    changeSearch=(e:any)=>{\r\n        this.setState({searchValue:e.target.value})\r\n        if(e.target.value.length)\r\n        {this.setState({clear:true})}\r\n        else\r\n        {this.setState({clear:false})}\r\n    }\r\n\r\n    getSearch=()=>{\r\n        updateKeyword.emit(\"update\",this.state.searchValue,this.props.location.pathname.split(\"/\")[2])\r\n        this.props.history.push(\"/search/\"+this.state.searchValue+\"/Infinity\")\r\n    }\r\n\r\n    clear=()=>{\r\n        this.setState({searchValue:\"\"})\r\n    }\r\n\r\n    login=()=>{\r\n        //const node=this.state.login\r\n        //跳出登录页面\r\n        this.props.history.push(\"/login\")\r\n    }\r\n\r\n    logout_=()=>{\r\n        logout().then(res=>{\r\n            console.log(res);\r\n            if(res.data.code===200)\r\n            {\r\n                loginEvent.emit(\"logout\")\r\n                window.localStorage.removeItem(\"id\")\r\n                window.localStorage.removeItem(\"cookie\")\r\n                window.localStorage.removeItem(\"token\")\r\n                this.setState({avatarUrl:\"\",userName:\"\"})\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        })\r\n    }\r\n\r\n    prev=()=>{\r\n        const path=this.props.location.pathname.split(\"/\")\r\n        path.shift()\r\n        const page=path[0]\r\n        const subPage=path[1]\r\n        const key=path[2]\r\n        const searchDict=['singles','singers','albums','videos','song-lists','lyrics','users']\r\n        //if((page===\"song-list\" || page===\"album\") && this.state.searchValue.length){this.props.history.push(\"/search/\"+this.state.searchValue+\"/Infinity\")}\r\n        //else if(page===\"search\" && key===this.state.searchValue){this.props.history.push(\"/search/\"+this.state.searchValue+\"/Infinity\")}\r\n        //else {this.props.history.push(\"/user\")}\r\n        this.props.history.push(\"/user\")\r\n        //this.props.history.goBack()\r\n    }\r\n\r\n    next=()=>{}\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"navRoot\">\r\n                <div id=\"navLeft\">\r\n                    <img style={{width:\"180px\",objectFit:\"cover\"}} src={wyy}/>\r\n                </div>\r\n                <div id=\"navCenter\">\r\n                    {\r\n                        this.state.buttonGroup1.map((item)=>\r\n                            (<Tooltip title={item.title} key={item.title}>\r\n                                <Button size=\"small\" type=\"primary\" shape=\"circle\" icon={<item.icon/>}  className=\"navItem\"\r\n                                         style={{backgroundColor:'rgba(0,0,0,0.1)',border:\"none\",color:\"azure\"}}\r\n                                        onClick={item.title===\"后退\"?this.prev:this.next}\r\n                                />\r\n                            </Tooltip>)\r\n                        )\r\n                    }\r\n                    <div id=\"navTextInput\">\r\n                        <Input  placeholder=\"搜索\"\r\n                                value={this.state.searchValue}\r\n                                prefix={<Button icon={<SearchOutlined/>} style={{border:\"none\"}}/>}\r\n                                suffix={this.state.clear?(this.state.clearButtonActive):(this.state.clearButtonDeactive)}\r\n                                style={{border:\"none\",borderRadius:\"16px\",color:\"black\"}}\r\n                                onChange={this.changeSearch}\r\n                                onPressEnter={this.getSearch}\r\n                        />\r\n                    </div>\r\n                    <Tooltip title=\"听歌识曲\">\r\n                        <Button size=\"small\" type=\"primary\" shape=\"circle\" icon={<AudioOutlined/>}  className=\"navItem\"\r\n                                style={{backgroundColor:'rgba(0,0,0,0.1)',border:\"none\",color:\"azure\"}}/>\r\n                    </Tooltip>\r\n                </div>\r\n                <div id=\"navRight\">\r\n                    {\r\n                        this.state.avatarUrl===\"\"?\r\n                            <Avatar icon={<UserOutlined />}  className=\"navItem\"/>:\r\n                            <img\r\n                                src={this.state.avatarUrl}\r\n                                style={{width:\"50px\",height:\"50px\",objectFit:\"cover\",borderRadius:\"50%\"}}\r\n                                className=\"navItem\"\r\n                            />\r\n                    }\r\n                    {\r\n                        this.state.userName===\"\"?\r\n                            null:\r\n                            <div className=\"navItem\" style={{color:\"white\",fontWeight:\"bolder\"}}>{this.state.userName}</div>\r\n                    }\r\n                    {\r\n                        isLogin?\r\n                            <Button size=\"small\" className=\"navItem\" icon={<CaretDownOutlined/>}\r\n                                    style={{backgroundColor:'rgb(201,38,32)',border:\"none\",color:\"azure\"}}\r\n                                    onClick={this.logout_}\r\n                            >\r\n                                退出\r\n                            </Button>:\r\n                            <Button size=\"small\" className=\"navItem\" icon={<CaretDownOutlined/>} ref={this.state.login}\r\n                                    style={{backgroundColor:'rgb(201,38,32)',border:\"none\",color:\"azure\"}} onClick={this.login}>\r\n                                未登录\r\n                            </Button>\r\n                    }\r\n                    <Button size=\"small\"  className=\"navItem\"\r\n                            style={{backgroundColor:'rgb(201,38,32)',border:\"none\",color:\"azure\"}}>\r\n                        开通VIP\r\n                    </Button>\r\n                    {\r\n                        this.state.buttonGroup2.map((item)=>\r\n                            (<Button size=\"small\" type=\"primary\" shape=\"circle\" icon={item.icon}  className=\"navItem\"\r\n                                     key={item.title} style={{ backgroundColor:'rgb(201,38,32)',border:\"none\",color:\"azure\"}}/>)\r\n                        )\r\n                    }\r\n                    <span className=\"navItem span\">|</span>\r\n                    {\r\n                        this.state.buttonGroup3.map((item)=>\r\n                            (<Tooltip title={item.title} key={item.title}>\r\n                                <Button size=\"small\" type=\"primary\" shape=\"circle\" icon={item.icon}  className=\"navItem test\"\r\n                                         style={{ backgroundColor:'rgb(201,38,32)',border:\"none\",color:\"azure\"}}/>\r\n                            </Tooltip>)\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(NavBar)\r\nexport {updateKeyword}","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport {VerticalAlignBottomOutlined,FieldTimeOutlined,CaretDownOutlined,\r\n    PlusOutlined,HeartOutlined,FireOutlined} from '@ant-design/icons'\r\nimport {Button,Tooltip} from \"antd\";\r\n\r\nconst style=require(\"./SideBar.css\")\r\n\r\ninterface IButton{\r\n    title:string,\r\n    class:string,\r\n    href: string\r\n    id:number\r\n}\r\ninterface State{\r\n    buttonGroup:IButton[]\r\n    refs:any\r\n    clicked:number\r\n    isLogin:boolean\r\n    isShowSongsList:boolean\r\n    //songsListIcon:any\r\n}\r\nclass SideBar extends React.Component<any, any>{\r\n    private click: (cur:number) => void;\r\n    constructor(props:any) {\r\n        super(props);\r\n        this.click = (cur) => {\r\n            let clicked = this.state.refs.current.childNodes[this.state.clicked]\r\n            clicked.className = (this.state.clicked>=7)?\"ableSpecial\":\"able\"\r\n            let newClicked = this.state.refs.current.childNodes[cur]\r\n            newClicked.className = (cur>=7)?\"clickedSpecial\":\"clicked\"\r\n            this.setState({clicked:cur})\r\n        }\r\n    }\r\n\r\n    state:State={\r\n        buttonGroup:[\r\n            {title:\"发现音乐\",class:\"clicked\",href:\"\",id:0},\r\n            {title:\"播客\",class:\"able\",href:\"\",id:1},\r\n            {title:\"视频\",class:\"able\",href:\"\",id:2},\r\n            {title:\"朋友\",class:\"able\",href:\"\",id:3},\r\n            {title:\"直播\",class:\"able\",href:\"\",id:4},\r\n            {title:\"私人FM\",class:\"able\",href:\"\",id:5},\r\n        ],\r\n        refs:React.createRef(),\r\n        clicked:0,\r\n        isLogin:false,\r\n        isShowSongsList:true,\r\n        //songsListIcon:React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.state.refs.current.focus()\r\n        //this.state.songsListIcon.current.focus()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='sideRoot' ref={this.state.refs}>\r\n                <style ref={style} scoped/>\r\n                {\r\n                    this.state.buttonGroup.map((item)=>(\r\n                        <div className={item.class} key={item.id} onClick={()=>{this.click(item.id)}}>\r\n                            {item.title}\r\n                        </div>\r\n                    ))\r\n                }\r\n\r\n                {\r\n                    this.state.isLogin?\r\n                    <div className=\"able\" onClick={()=>{this.click(6)}}>我的音乐</div>:\r\n                    <div className=\"disabled\">我的音乐</div>\r\n                }\r\n\r\n                <div className=\"ableSpecial\" onClick={()=>{this.click(7)}}>\r\n                    <VerticalAlignBottomOutlined className=\"sideIcon\"/>\r\n                    <div>本地与下载</div>\r\n                </div>\r\n                <div className=\"ableSpecial\" onClick={()=>{this.click(8)}}>\r\n                    <FieldTimeOutlined className=\"sideIcon\"/>\r\n                    <div>最近播放</div>\r\n                </div>\r\n                <div className={this.state.isLogin?\"ableSpecial\":\"disabled\"}  id=\"songsList\"\r\n                     onClick={()=>{this.setState({isShowSongsList:!this.state.isShowSongsList})}}>\r\n                    <div>创建的歌单</div>\r\n                    <CaretDownOutlined />\r\n                    <PlusOutlined id=\"songsListIcon\" onClick={(e)=>{alert(\"gd\");e.stopPropagation()}}/>\r\n                </div>\r\n                {\r\n                    this.state.isShowSongsList?\r\n                        (\r\n                            <div className=\"ableSpecial\" onClick={()=>{this.click(10)}} id=\"sideLike\">\r\n                                <HeartOutlined className=\"sideIcon\"/>\r\n                                <div>我喜欢的音乐</div>\r\n                                <Tooltip title=\"开启心动模式\">\r\n                                    <Button size=\"small\" icon={<FireOutlined/>} id=\"sideLikeIcon\" shape=\"circle\"/>\r\n                                </Tooltip>\r\n                            </div>\r\n                        )\r\n                        :\r\n                        null\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SideBar","import React from \"react\";\r\n\r\nconst style=require('./VolumeBar.css')\r\n\r\ninterface State{\r\n    volumeBar:any\r\n    volumeSensing:any,\r\n    mouseDown:boolean\r\n}\r\nclass VolumeBar extends React.Component<any, any>{\r\n    state:State={\r\n        volumeBar:React.createRef(),\r\n        volumeSensing:React.createRef(),\r\n        mouseDown:false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.state.volumeBar.current.focus()\r\n        this.state.volumeSensing.current.focus()\r\n        const bar=this.state.volumeBar\r\n        this.props.event.addListener(\"setVolumeZero\",()=>{bar.current.style.height=0;})\r\n        this.props.event.addListener(\"setVolumeHalf\",()=>{bar.current.style.height='50%'})\r\n        this.props.event.setMaxListeners(Infinity)\r\n    }\r\n\r\n    click=(e:any)=>{\r\n        let cur=document.body.clientHeight-e.clientY-5-50\r\n        if(cur>=0 && cur<=90)\r\n        {\r\n            const ratio=cur/90\r\n            const bar=this.state.volumeBar\r\n            bar.current.style.height=100*ratio+\"%\"\r\n            this.props.player.current.volume=ratio\r\n        }\r\n        if(cur===0)\r\n        {this.props.event.emit(\"mute\")}\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"volumeSensing\"\r\n                 onClick={(e)=>{this.click(e)}}\r\n                 onMouseDown={()=>{this.setState({mouseDown:true})}}\r\n                 onMouseUp={()=>{this.setState({mouseDown:false})}}\r\n                 onMouseMove={(e)=>{if(this.state.mouseDown){this.click(e)}}}\r\n                 ref={this.state.volumeSensing}\r\n                 style={{display:this.props.show?\"flex\":\"none\"}}\r\n            >\r\n                <style ref={style} scoped/>\r\n                <div id=\"volumeBG\" >\r\n                    <div  id=\"volumeThumb\"/>\r\n                    <div id=\"volumeBar\" ref={this.state.volumeBar}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default VolumeBar","import request from \"./request\";\r\n\r\nexport function getSongListDetailInfo(id:number){\r\n    return request({\r\n        url:\"/playlist/detail?id=\"+id,\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function getSongIDs(id:number){\r\n    return request({\r\n        url:\"/playlist/track/all?id=\"+id,\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function getSong(id:number){\r\n    return request({\r\n        url:\"/song/detail?ids=\"+id,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getComments(id:number,offset:number){\r\n    return request({\r\n        url:\"/comment/playlist?limit=10&id=\"+id+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function isSongValid(id:number){\r\n    return request({\r\n        url:\"/check/music?id=\"+id,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getSongUrl(id:number){\r\n    return request({\r\n        url:\"/song/url?id=\"+id,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\n","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport EventEmitter from \"events\";\r\nimport VolumeBar from \"./VolumeBar/VolumeBar\";\r\nimport {Image,Tooltip} from \"antd\";\r\nimport {HeartOutlined,HeartTwoTone,MenuUnfoldOutlined,StepBackwardOutlined,PlayCircleOutlined,StepForwardOutlined,\r\n        MenuOutlined,PauseOutlined,SoundOutlined,AudioMutedOutlined,UpOutlined,DownOutlined} from '@ant-design/icons'\r\nimport {withRouter} from \"react-router\";\r\nimport {getSong} from \"../../../../apis/songListDetailPage\";\r\nimport {isLogin} from \"../../MainPage/MainPage\";\r\n\r\nconst imgDefault=\"data:image/png;base64,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\"\r\nconst Event=new EventEmitter()\r\nconst style=require(\"./PlayBar.css\")\r\n\r\ninterface State{\r\n    cur:SongInfo\r\n    like:boolean\r\n    player:any,\r\n    isPlaying:boolean,\r\n    isPause:boolean,\r\n    progressBG:any,\r\n    progressBar:any,\r\n    curTime:string,\r\n    endTime:string,\r\n    mouseDown:boolean,\r\n    isMute:boolean,\r\n    isShowVolume:boolean,\r\n    input:any,\r\n    musicUrl:string,\r\n    musicID:number,\r\n    isShowingDetail:boolean,\r\n    keyword:string,\r\n    selectedRow:number,\r\n    songListID:number,\r\n    albumID:number\r\n}\r\ninterface SongInfo{\r\n    img:string,\r\n    title:string,\r\n    singer:string,\r\n}\r\nclass PlayBar extends React.Component<any, any>{\r\n    state:State={\r\n        cur:{\r\n            img:\"../../../../assets/icon.png\",\r\n            title:\"title\",\r\n            singer:\"singer\"\r\n        },\r\n        like:false,\r\n        player:React.createRef(),\r\n        isPlaying:false,\r\n        isPause:false,\r\n        progressBG:React.createRef(),\r\n        progressBar:React.createRef(),\r\n        curTime:\"00:00\",\r\n        endTime:\"00:00\",\r\n        mouseDown:false,\r\n        isMute:false,\r\n        isShowVolume:false,\r\n        input:React.createRef(),\r\n        musicUrl:\"\",\r\n        //musicUrl:'http://m701.music.126.net/20211209230650/154ee87f8eee38133f3a81c79c6564ae/jdymusic/obj/wo3DlMOGwrbDjj7DisKw/9865019573/86ce/dc40/9037/afbde497140b6aa141281dc2686bc750.mp3',\r\n        musicID:Infinity,\r\n        isShowingDetail:false,\r\n        keyword:\"\",\r\n        selectedRow:Infinity,\r\n        songListID:Infinity,\r\n        albumID:Infinity\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.state.player.current.focus()\r\n        this.state.progressBar.current.focus()\r\n        this.state.progressBG.current.focus()\r\n        const audio=document.getElementById(\"audio\")\r\n        if(audio)\r\n        {audio.addEventListener(\"timeupdate\",this.updateProgress)}\r\n        Event.addListener(\"mute\",()=>{this.setState({isMute:true})})\r\n        this.props.playMusicEvent.addListener(\"play\", (url:string,id:number,keyword:string,selectedRow:number)=>\r\n            {\r\n                this.setState(()=>({musicUrl:url,musicID:id,keyword:keyword,selectedRow:selectedRow,isPause:false,endTime:\"00:00\",isPlaying:true}),()=>{\r\n                    this.getSongInfo()\r\n                    this.play()\r\n                })\r\n            })\r\n        this.props.playSongListEvent.addListener(\"play\",(id:number, url:string, songListID:number)=>{\r\n            this.setState(()=>({musicUrl:url, musicID:id, keyword:\"$\", selectedRow:Infinity, isPause:false, songListID:songListID,endTime:\"00:00\",isPlaying:true}),\r\n                ()=>{\r\n                this.getSongInfo()\r\n                this.play()\r\n            })\r\n        })\r\n        this.props.playSingleSongEvent.addListener(\"play\",(id:number,url:string, path:string)=>{\r\n            this.setState(()=>({musicUrl:url, musicID:id, keyword:path, selectedRow:Infinity, isPause:false,endTime:\"00:00\",isPlaying:true}),()=>{\r\n                this.getSongInfo()\r\n                this.play()\r\n            })\r\n        })\r\n        this.props.playAlbumSongEvent.addListener(\"play\",(id:number, url:string, albumID:number)=>{\r\n            this.setState(()=>({musicUrl:url, musicID:id, keyword:\"$$\", selectedRow:Infinity, isPause:false, albumID:albumID,endTime:\"00:00\",isPlaying:true}),()=>{\r\n                this.getSongInfo()\r\n                this.play()\r\n            })\r\n        })\r\n        this.props.replayEvent.addListener(\"play\",(id:number, url:string)=>{\r\n            this.setState(()=>({musicUrl:url, musicID:id, keyword:\"$replay\", selectedRow:Infinity, isPause:false,endTime:\"00:00\",isPlaying:true}),()=>{\r\n                this.getSongInfo()\r\n                this.play()\r\n            })\r\n        })\r\n    }\r\n\r\n    getSongInfo=()=>{\r\n        getSong(this.state.musicID).then(res=>{\r\n            const data=res.data.songs[0]\r\n            this.setState({cur:{img:data.al.picUrl,title:data.name,singer:data.ar[0].name}})\r\n        })\r\n    }\r\n\r\n    play=()=>{\r\n        //window.localStorage.setItem(\"song\",URL.createObjectURL(this.state.input.current.files[0]))\r\n        const player:any=this.state.player\r\n        if(!this.state.isPause)\r\n        {player.current.src=this.state.musicUrl}\r\n        this.setState(()=>({isPlaying:true,isPause:false}),()=>{player.current.play()})\r\n    }\r\n\r\n    pause=()=>{\r\n        const player:any=this.state.player\r\n        player.current.pause()\r\n        this.setState({isPlaying:false,isPause:true})\r\n    }\r\n\r\n    setTime=(time:number,setCur:boolean)=>{\r\n        let min=Math.floor(time/60)\r\n        let minStr=(min<10)?\"0\"+min:min\r\n        let sec=Math.floor(time-min*60)\r\n        let secStr=(sec<10)?\"0\"+sec:sec\r\n        if(setCur){this.setState({curTime:minStr+\":\"+secStr})}\r\n        else {this.setState({endTime:minStr+\":\"+secStr})}\r\n    }\r\n\r\n    updateProgress=()=>{\r\n        const player=this.state.player\r\n        const bar=this.state.progressBar\r\n        let cur=player.current.currentTime\r\n        bar.current.style.width=(100*cur/player.current.duration)+\"%\"\r\n        this.setTime(cur,true)\r\n        if(this.state.endTime===\"00:00\" && !Number.isNaN(player.current.duration))\r\n        {this.setTime(player.current.duration,false)}\r\n        if(this.state.curTime===this.state.endTime && this.state.curTime!==\"00:00\")\r\n        {this.setState(()=>({isPlaying:false}),()=>{})}\r\n\r\n        this.props.playWithLyricsEvent.emit(\"updateLyric\",cur)\r\n\r\n        //console.log(this.state.isPlaying,this.state.isPause);\r\n    }\r\n\r\n    clickProgress=(e:any)=>{\r\n        let start=this.state.progressBG.current.offsetLeft\r\n        let end=this.state.progressBG.current.offsetWidth+start\r\n        let cur=e.clientX\r\n        if(cur>=start && cur<=end)\r\n        {\r\n            const bar=this.state.progressBar\r\n            const player=this.state.player\r\n            let ratio=((cur-start)/(end-start))\r\n            bar.current.width=(100*ratio)+\"%\"\r\n            let curTime=player.current.duration*ratio\r\n            player.current.currentTime=curTime\r\n            this.setTime(curTime,true)\r\n            if(cur===end)\r\n            {this.setState({isPlaying:false})}\r\n        }\r\n    }\r\n\r\n    setMute=(mute:boolean)=>{\r\n        const player=this.state.player\r\n        if(mute)\r\n        {\r\n            player.current.volume=0\r\n            this.setState({isMute:true})\r\n            Event.emit(\"setVolumeZero\")\r\n        }\r\n        else\r\n        {\r\n            player.current.volume=0.5\r\n            this.setState({isMute:false})\r\n            Event.emit(\"setVolumeHalf\")\r\n        }\r\n    }\r\n\r\n    showDetail=()=>{\r\n        if(!this.state.isShowingDetail)\r\n        {\r\n            this.props.history.push(\"/detail/\"+this.state.musicID+\"/\"+this.state.keyword)\r\n            this.setState({isShowingDetail:true})\r\n        }\r\n        else\r\n        {\r\n            let keyword=this.state.keyword\r\n            this.setState({isShowingDetail:false})\r\n            if(keyword===\"$\") this.props.history.push(\"/song-list/\"+this.state.songListID)\r\n            else if(keyword===\"$$\")\r\n            {\r\n                //console.log(\"$$\",this.state.albumID);\r\n                this.props.history.push(\"/album/\"+this.state.albumID)\r\n            }\r\n            else if(keyword===\"$rank\")this.props.history.push(\"/user/rank\")\r\n            else if(keyword===\"$new-song\")this.props.history.push(\"/user/new-song\")\r\n            else if(keyword===\"$user\" || keyword===\"$another-song\")this.props.history.push(\"/user\")\r\n            else if(keyword===\"$replay\")this.props.history.push(\"/play-history\")\r\n            else {this.props.history.push(\"/search/\"+this.state.keyword+\"/\"+this.state.selectedRow)}\r\n        }\r\n    }\r\n\r\n    getUserSongs=()=>{\r\n        if(isLogin && window.localStorage.getItem(\"id\")!==null)\r\n        {this.props.history.push(\"/play-history\")}\r\n        else {this.props.history.push(\"/login\")}\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"playRoot\">\r\n                <style ref={style} scoped/>\r\n                <div id='songInfo'>\r\n                    {\r\n                        this.state.musicID===Infinity?\r\n                            <Image\r\n                                src={this.state.cur.img}\r\n                                width=\"50px\" height=\"50px\"\r\n                                fallback={imgDefault}\r\n                                onClick={this.showDetail}\r\n                            />:\r\n                            <div style={{position:\"relative\"}}>\r\n                                <Tooltip title={this.state.isShowingDetail?\"收起详情页\":\"展开详情页\"}>\r\n                                    <img\r\n                                        src={this.state.cur.img}\r\n                                        style={{width:\"50px\",height:\"50px\",objectFit:\"cover\",borderRadius:\"3px\",cursor:'pointer'}}\r\n                                        onClick={this.showDetail}\r\n                                    />\r\n                                </Tooltip>\r\n                                {\r\n                                    this.state.isShowingDetail?\r\n                                        <div style={{position:\"absolute\",top:\"6px\",left:\"18px\",color:'white'}}>\r\n                                            <div>\r\n                                                <DownOutlined/>\r\n                                            </div>\r\n                                            <div>\r\n                                                <DownOutlined/>\r\n                                            </div>\r\n                                        </div>:\r\n                                        <div style={{position:\"absolute\",top:\"6px\",left:\"18px\",color:'white'}}>\r\n                                            <div>\r\n                                                <UpOutlined/>\r\n                                            </div>\r\n                                            <div>\r\n                                                <UpOutlined/>\r\n                                            </div>\r\n                                        </div>\r\n                                }\r\n                            </div>\r\n                    }\r\n                    <div id=\"titleAndLikeAndSinger\">\r\n                        <div id=\"titleAndLike\">\r\n                            <Tooltip title={this.state.cur.title}>\r\n                                <div style={{whiteSpace:\"nowrap\",wordBreak:\"keep-all\",overflow:\"hidden\",textOverflow:\"ellipsis\",cursor:\"pointer\"}}>\r\n                                    {this.state.cur.title}\r\n                                </div>\r\n                            </Tooltip>\r\n                            {\r\n                                this.state.like?\r\n                                    <HeartTwoTone twoToneColor=\"red\" onClick={()=>{this.setState({like:!this.state.like})}}/>:\r\n                                    <HeartOutlined onClick={()=>{this.setState({like:!this.state.like})}}/>\r\n                            }\r\n                        </div>\r\n                        <Tooltip title={this.state.cur.singer}>\r\n                            <div style={{whiteSpace:\"nowrap\",wordBreak:\"keep-all\",overflow:\"hidden\",textOverflow:\"ellipsis\",cursor:\"pointer\"}}>\r\n                                {this.state.cur.singer}\r\n                            </div>\r\n                        </Tooltip>\r\n                    </div>\r\n                </div>\r\n                <div id=\"play\">\r\n                    <div id=\"playButtons\">\r\n                        <MenuUnfoldOutlined className=\"playItem\"/>\r\n                        <StepBackwardOutlined  className=\"playItem\"/>\r\n                        {\r\n                            this.state.isPlaying?\r\n                                <Tooltip title=\"暂停\">\r\n                                    <PauseOutlined onClick={this.pause}/>\r\n                                </Tooltip> :\r\n                                <Tooltip title=\"播放\">\r\n                                    <PlayCircleOutlined  onClick={()=>this.play()} className=\"playItem\"/>\r\n                                </Tooltip>\r\n                        }\r\n                        <StepForwardOutlined  className=\"playItem\"/>\r\n                        <Tooltip title=\"打开歌词\">\r\n                            <MenuOutlined  className=\"playItem\"/>\r\n                        </Tooltip>\r\n                    </div>\r\n                    <div id=\"playProgress\">\r\n                        <audio ref={this.state.player} id=\"audio\"/>\r\n                        <div id=\"playSensing\"\r\n                             onClick={(e)=>{this.clickProgress(e)}}\r\n                             onMouseDown={()=>{this.setState({mouseDown:true})}}\r\n                             onMouseMove={(e)=>{if(this.state.mouseDown){this.clickProgress(e)}}}\r\n                             onMouseUp={()=>{this.setState({mouseDown:false})}}\r\n                        >\r\n                            {this.state.curTime}\r\n                            <div id=\"playBG\" ref={this.state.progressBG}>\r\n                                <div id=\"playBar\" ref={this.state.progressBar}/>\r\n                                <div id=\"playThumb\"/>\r\n                            </div>\r\n                            {this.state.endTime}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    id=\"volume\"\r\n                    onClick={()=> {this.setState({isShowVolume:!this.state.isShowVolume})}}\r\n                >\r\n                    {\r\n                        this.state.isMute?\r\n                            <Tooltip title=\"恢复音量\">\r\n                                <AudioMutedOutlined\r\n                                    onClick={(e)=>{this.setMute(false);e.stopPropagation()}}\r\n                                />\r\n                            </Tooltip>\r\n                            :\r\n                            <Tooltip title=\"静音\">\r\n                                <SoundOutlined\r\n                                    onClick={(e)=>{this.setMute(true);e.stopPropagation()}}\r\n                                />\r\n                            </Tooltip>\r\n                    }\r\n                </div>\r\n                {\r\n                    this.state.isShowVolume?\r\n                    <VolumeBar player={this.state.player} event={Event} show={true}/>:\r\n                    <VolumeBar player={this.state.player} event={Event} show={false}/>\r\n                }\r\n                <div id=\"playSongsList\" onClick={this.getUserSongs}>\r\n                    <Tooltip title=\"最近播放\">\r\n                        <MenuUnfoldOutlined />\r\n                    </Tooltip>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(PlayBar)\r\n","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport {Menu} from \"antd\";\r\n\r\ninterface MenuItem{\r\n    key:string,\r\n    title:string,\r\n    click:Function\r\n}\r\ninterface State{\r\n    current:string,\r\n    menu:any\r\n}\r\nclass NavMenu extends React.Component<any, any>{\r\n    state:State={\r\n        current:this.props.menu[0].key,\r\n        menu:React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        console.log(this.state.menu);\r\n    }\r\n\r\n    render() {\r\n        const { current } = this.state;\r\n        return (\r\n            <div id=\"navMenuRoot\">\r\n                <Menu\r\n                    onClick={(e)=>{this.setState({current:e.key})}}\r\n                    selectedKeys={[current]}\r\n                    mode=\"horizontal\"\r\n                    ref={this.state.menu}\r\n                >\r\n                    {\r\n                        this.props.menu.map((item:MenuItem)=>(\r\n                            <Menu.Item key={item.key}>\r\n                                <a onClick={()=>{item.click()}}>{item.title}</a>\r\n                            </Menu.Item>\r\n                        ))\r\n                    }\r\n                </Menu>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport {NavMenu};\r\nexport type { MenuItem };\r\n\r\n","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport {NavMenu,MenuItem} from \"../../../common/NavMenu/NavMenu\";\r\nimport {withRouter} from \"react-router\";\r\n\r\ninterface State{\r\n    menuItem:MenuItem[],\r\n    curren:string\r\n}\r\nclass MenuBar extends React.Component<any, any>{\r\n    state:State={\r\n        menuItem:[\r\n            {key:\"1\",title:\"个性推荐\",click:()=>{this.props.history.push(\"/\")}},//click跳转路由\r\n            {key:\"2\",title:\"专属定制\",click:()=>{this.props.history.push(\"/user/personal\")}},\r\n            {key:\"3\",title:\"歌单\",click:()=>{this.props.history.push(\"/user/songs\")}},\r\n            {key:\"4\",title:\"排行榜\",click:()=>{this.props.history.push(\"/user/rank\")}},\r\n            {key:\"5\",title:\"歌手\",click:()=>{this.props.history.push(\"/user/singer\")}},\r\n            {key:\"6\",title:\"最新音乐\",click:()=>{this.props.history.push(\"/user/new\")}},\r\n        ],\r\n        curren:\"1\"\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NavMenu menu={this.state.menuItem} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MenuBar)","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport './CarouselFigure.css'\r\nimport {CaretLeftOutlined,CaretRightOutlined} from '@ant-design/icons'\r\nimport {getBanner} from \"../../../../../../apis/recommendPage\";\r\nimport axios from \"axios\";\r\n\r\nimport { Carousel } from 'antd';\r\n\r\ninterface State{\r\n    imgNums:number,\r\n    carouselL:any,\r\n    carouselC:any,\r\n    carouselR: any,\r\n    carouselButtons:any,\r\n    curIdx:number,\r\n    isSwitchShow:boolean,\r\n    switchLeft:any,\r\n    switchRight:any,\r\n    backLeft:any[],\r\n    backCenter:any[],\r\n    backRight:any[],\r\n    timer:any\r\n}\r\n\r\nclass CarouselFigure extends React.Component<any, any>{\r\n    state:State={\r\n        imgNums:10,\r\n        carouselL:React.createRef(),\r\n        carouselC:React.createRef(),\r\n        carouselR:React.createRef(),\r\n        carouselButtons:React.createRef(),\r\n        curIdx:0,\r\n        isSwitchShow:false,\r\n        switchLeft:React.createRef(),\r\n        switchRight:React.createRef(),\r\n        backLeft:Array(10),\r\n        backCenter:Array(10),\r\n        backRight:Array(10),\r\n        timer:null\r\n    }\r\n\r\n    componentDidMount() {\r\n        //定时切换\r\n        const buttons=this.state.carouselButtons\r\n        buttons.current.children[this.state.curIdx].style.backgroundColor=\"rgb(201,38,32)\"\r\n        const timer=setInterval(()=>{\r\n            this.switchRight()\r\n        },3000)\r\n        this.setState({timer:timer})\r\n\r\n        const left=this.state.switchLeft\r\n        const right=this.state.switchRight\r\n        this.setState(()=>({isSwitchShow:false}),\r\n            ()=>{\r\n                left.current.style.display=\"none\"\r\n                right.current.style.display=\"none\"\r\n            })\r\n\r\n        getBanner().then(res=> {\r\n            this.setState({imgNums:res.data.banners.length});\r\n            let idx=0\r\n            for(let banner of res.data.banners)\r\n            {\r\n                this.getImgDataUrl(banner.imageUrl,idx)\r\n                idx+=1\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.clearInterval(this.state.timer)\r\n    }\r\n\r\n    async getImgDataUrl(url:string,idx:number){\r\n        const res=await axios.get(url,{responseType:\"blob\"})\r\n        const dataUrl=URL.createObjectURL(res.data)\r\n        if(idx===this.state.imgNums-2)\r\n        {\r\n            this.state.backLeft[idx]=dataUrl\r\n            this.state.backCenter[idx+1]=dataUrl\r\n            this.state.backRight[0]=dataUrl\r\n        }\r\n        else if(idx===this.state.imgNums-1)\r\n        {\r\n            this.state.backLeft[idx]=dataUrl\r\n            this.state.backCenter[0]=dataUrl\r\n            this.state.backRight[1]=dataUrl\r\n        }\r\n        else\r\n        {\r\n            this.state.backLeft[idx]=dataUrl\r\n            this.state.backCenter[idx+1]=dataUrl\r\n            this.state.backRight[idx+2]=dataUrl\r\n        }\r\n    }\r\n\r\n    showSwitch=()=>{\r\n        if(!this.state.isSwitchShow)\r\n        {\r\n            const left=this.state.switchLeft\r\n            const right=this.state.switchRight\r\n            this.setState(()=>({isSwitchShow:true}),\r\n                ()=>{\r\n                    left.current.style.display=\"flex\"\r\n                    right.current.style.display=\"flex\"\r\n                })\r\n        }\r\n    }\r\n\r\n    hideSwitch=()=>{\r\n        if(this.state.isSwitchShow)\r\n        {\r\n            const left=this.state.switchLeft\r\n            const right=this.state.switchRight\r\n            this.setState(()=>({isSwitchShow:false}),\r\n                ()=>{\r\n                    left.current.style.display=\"none\"\r\n                    right.current.style.display=\"none\"\r\n                })\r\n        }\r\n    }\r\n\r\n    switchLeft=()=>{\r\n        const buttons=this.state.carouselButtons\r\n        buttons.current.children[this.state.curIdx].style.backgroundColor=\"white\"\r\n        this.setState(()=>({curIdx:this.state.curIdx>0?this.state.curIdx-1:9}),\r\n            ()=>{\r\n                buttons.current.children[this.state.curIdx].style.backgroundColor=\"rgb(201,38,32)\"\r\n                this.state.carouselL.current.prev()\r\n                this.state.carouselC.current.prev()\r\n                this.state.carouselR.current.prev()\r\n            })\r\n    }\r\n\r\n    switchRight=()=>{\r\n        const buttons=this.state.carouselButtons\r\n        buttons.current.children[this.state.curIdx].style.backgroundColor=\"white\"\r\n        this.setState(()=>({curIdx:this.state.curIdx<(this.state.imgNums-1)?this.state.curIdx+1:0}),\r\n            ()=>{\r\n                buttons.current.children[this.state.curIdx].style.backgroundColor=\"rgb(201,38,32)\"\r\n                this.state.carouselL.current.next()\r\n                this.state.carouselC.current.next()\r\n                this.state.carouselR.current.next()\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const buttons=this.state.carouselButtons\r\n        return (\r\n            <div\r\n                onMouseOver={this.showSwitch}\r\n                onMouseOut={this.hideSwitch}\r\n                id=\"carouselRoot\"\r\n            >\r\n                <div id=\"carouselLeft\">\r\n                    <Carousel dots={false} ref={this.state.carouselL}>\r\n                        {\r\n                            this.state.backLeft.map((item)=>(\r\n                                <div style={{position:\"relative\"}}>\r\n                                    <img src={item} alt=\"\" style={{width:\"100%\",objectFit:\"cover\"}}/>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </Carousel>\r\n                </div>\r\n                <div id=\"carouselCenter\">\r\n                    <Carousel dots={false} ref={this.state.carouselC}>\r\n                        {\r\n                            this.state.backCenter.map((item)=>(\r\n                                <div><img src={item} alt=\"\" style={{width:\"100%\",objectFit:\"cover\"}}/></div>\r\n                            ))\r\n                        }\r\n                    </Carousel>\r\n                </div>\r\n                <div id=\"carouselRight\">\r\n                    <Carousel dots={false} ref={this.state.carouselR}>\r\n                        {\r\n                            this.state.backRight.map((item)=>(\r\n                                <div><img src={item} alt=\"\" style={{width:\"100%\",objectFit:\"cover\"}}/></div>\r\n                            ))\r\n                        }\r\n                    </Carousel>\r\n                </div>\r\n                <div id=\"carouselButtons\" ref={this.state.carouselButtons}>\r\n                    {\r\n                        Array(this.state.imgNums).fill(0).map((v,k)=>(\r\n                            <div className=\"carouselButton\"\r\n                                 key={k}\r\n                                 onClick={()=>{\r\n                                     buttons.current.children[this.state.curIdx].style.backgroundColor=\"white\"\r\n                                     this.setState((prevState:any,prevProp:any)=>({curIdx:k}),\r\n                                         ()=>{\r\n                                             buttons.current.children[this.state.curIdx].style.backgroundColor=\"rgb(201,38,32)\"\r\n                                             this.state.carouselL.current.goTo(k)\r\n                                             this.state.carouselC.current.goTo(k)\r\n                                             this.state.carouselR.current.goTo(k)\r\n                                     }\r\n                                     )\r\n                                 }}\r\n                            />\r\n                        ))\r\n                    }\r\n                </div>\r\n                <div id=\"carouselSwitchLeft\" ref={this.state.switchLeft} onClick={this.switchLeft}>{<CaretLeftOutlined/>}</div>\r\n                <div id=\"carouselSwitchRight\" ref={this.state.switchRight} onClick={this.switchRight}>{<CaretRightOutlined/>}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CarouselFigure","import request from \"./request\";\r\n\r\nexport function getBanner(){\r\n    return request({\r\n        url:\"/banner\",\r\n        method:\"get\",\r\n\r\n    })\r\n}\r\n\r\nexport function getRecommendSongsList(){\r\n    return request(\r\n        {\r\n            url:\"/personalized?limit=10\",\r\n            method:\"get\"\r\n        }\r\n)}\r\n\r\nexport function getPersonalBroadcast(){\r\n    return request(\r\n        {\r\n            url:'/personalized/privatecontent',\r\n            method:\"get\"\r\n        }\r\n    )\r\n}\r\n\r\nexport function getMV(){\r\n    return request(\r\n        {\r\n            url:\"/personalized?limit=4\",\r\n            method:\"get\"\r\n        }\r\n    )\r\n}\r\n\r\nexport function getNewMusic(){\r\n    return request(\r\n        {\r\n            url:\"/personalized/newsong?limit=12\",\r\n            method:\"get\"\r\n        }\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport {PlayCircleOutlined,UserOutlined} from '@ant-design/icons'\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass ShowFramI extends React.Component<any, any>{\r\n    click=(id:number)=>{\r\n        this.props.history.push(\"/song-list/\"+id)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.className} key={this.props.item.id} onClick={()=>{this.click(this.props.item.id)}} style={{marginBottom:\"20px\"}}>\r\n                <img style={{width:\"100%\",objectFit:\"cover\",top:0,borderRadius:\"5px\",cursor:\"pointer\"}} src={this.props.item.imgUrl}/>\r\n                <div style={{textAlign:\"start\"}}>\r\n                    {this.props.item.title}\r\n                </div>\r\n                <div style={{position:\"absolute\",top:'5px',right:\"5px\",color:\"white\"}}>\r\n                    {(this.props.item.playCount!==undefined)?(Math.ceil(this.props.item.playCount/10000)+\"万\"):null}\r\n                    {(this.props.item.playCount!==undefined)?<PlayCircleOutlined/> :null}\r\n                </div>\r\n                <div style={{position:\"absolute\",bottom:'86px',left:\"25px\",color:\"white\"}}>\r\n                    {(this.props.item.author!==undefined)?<UserOutlined/>:null}\r\n                    {(this.props.item.author!==undefined)?(this.props.item.author):null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ShowFramI)","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport './RecommendSongsList.css'\r\nimport {RightOutlined,PlayCircleOutlined} from '@ant-design/icons'\r\nimport {getRecommendSongsList} from \"../../../../../../apis/recommendPage\";\r\nimport ShowFramI from \"../../../../common/ShowFramI/ShowFramI\";\r\n\r\ninterface Song{\r\n    imgUrl:string,\r\n    playCount:number,\r\n    title:string,\r\n    id:number,\r\n}\r\ninterface Style{\r\n    songsInfo:Song[],\r\n    dataUrl:any[],\r\n    isRequest:boolean\r\n}\r\nclass RecommendSongsList extends React.Component<any, any>{\r\n    state:Style={\r\n        songsInfo:[],\r\n        dataUrl:[],\r\n        isRequest:false\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(!this.state.isRequest)\r\n        {\r\n            getRecommendSongsList().then(res=>{\r\n                for(let item of res.data.result)\r\n                {\r\n                    this.state.songsInfo.push({\r\n                        imgUrl:item.picUrl,\r\n                        playCount:item.playCount,\r\n                        title:item.name,\r\n                        id:item.id,\r\n                    })\r\n                }\r\n                return new Promise((resolve)=>{resolve(\"\")})\r\n            }).then(res=>{this.forceUpdate();this.setState({isRequest:true})})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //const songs=this.state.songs\r\n        return (\r\n            <div id=\"recommendSongsListRoot\">\r\n                <span style={{width:\"90%\",marginLeft:\"10%\",fontSize:\"20px\",fontWeight:\"bolder\",display:\"flex\",alignItems:\"center\"}}>\r\n                    推荐歌单<RightOutlined/>\r\n                </span>\r\n                <div style={{width:\"80%\",marginLeft:\"10%\",display:\"flex\",flexWrap:\"wrap\"}}>\r\n                    {\r\n                        this.state.songsInfo.map((item)=>(\r\n                            <ShowFramI className=\"recommendSongContainer\" item={item} titlePos=\"200px\" key={item.id}/>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RecommendSongsList","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport './Broadcast.css'\r\nimport ShowFramI from \"../../../../common/ShowFramI/ShowFramI\";\r\nimport {RightOutlined} from \"@ant-design/icons\";\r\nimport {getPersonalBroadcast} from \"../../../../../../apis/recommendPage\";\r\n\r\ninterface Song{\r\n    imgUrl:string,\r\n    title:string,\r\n    id:number,\r\n}\r\ninterface Style{\r\n    songsInfo:Song[],\r\n    isRequest:boolean\r\n}\r\nclass Broadcast extends React.Component<any, any>{\r\n    state:Style={\r\n        songsInfo:[],\r\n        isRequest:false\r\n    }\r\n    componentDidMount() {\r\n        if(!this.state.isRequest)\r\n        {\r\n            getPersonalBroadcast().then(res=>{\r\n                for(let item of res.data.result)\r\n                {\r\n                    this.state.songsInfo.push({\r\n                        imgUrl:item.picUrl,\r\n                        title:item.name,\r\n                        id:item.id\r\n                    })\r\n                }\r\n                return new Promise((resolve)=>{resolve(\"\")})\r\n            }).then(res=>{this.forceUpdate();this.setState({isRequest:true})})\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div id=\"BroadcastRoot\">\r\n                <span style={{width:\"90%\",marginLeft:\"10%\",fontSize:\"20px\",fontWeight:\"bolder\",display:\"flex\",alignItems:\"center\"}}>\r\n                    独家放送<RightOutlined/>\r\n                </span>\r\n                <div style={{width:\"80%\",marginLeft:\"10%\",display:\"flex\",flexWrap:\"wrap\",justifyContent:\"space-evenly\"}}>\r\n                    {\r\n                        this.state.songsInfo.map(item=>(\r\n                            <ShowFramI className=\"broadcastContainer\" item={item} titlePos=\"130px\" key={item.id}/>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Broadcast","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport './MV.css'\r\nimport ShowFramI from \"../../../../common/ShowFramI/ShowFramI\";\r\nimport {RightOutlined} from \"@ant-design/icons\";\r\nimport {getMV} from \"../../../../../../apis/recommendPage\";\r\n\r\ninterface Song{\r\n    imgUrl:string,\r\n    title:string,\r\n    id:number,\r\n}\r\ninterface Style{\r\n    songsInfo:Song[],\r\n    isRequest:boolean\r\n}\r\nclass MV extends React.Component<any, any>{\r\n    state:Style={\r\n        songsInfo:[],\r\n        isRequest:false\r\n    }\r\n    componentDidMount() {\r\n        if(!this.state.isRequest)\r\n        {\r\n            getMV().then(res=>{\r\n                for(let item of res.data.result)\r\n                {\r\n                    this.state.songsInfo.push({\r\n                        imgUrl:item.picUrl,\r\n                        title:item.name,\r\n                        id:item.id\r\n                    })\r\n                }\r\n                return new Promise((resolve)=>{resolve(\"\")})\r\n            }).then(res=>{this.forceUpdate();this.setState({isRequest:true})})\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div id=\"MVRoot\">\r\n                <span style={{width:\"90%\",marginLeft:\"10%\",fontSize:\"20px\",fontWeight:\"bolder\",display:\"flex\",alignItems:\"center\"}}>\r\n                    推荐MV<RightOutlined/>\r\n                </span>\r\n                <div style={{width:\"80%\",marginLeft:\"10%\",display:\"flex\",flexWrap:\"wrap\",justifyContent:\"space-evenly\"}}>\r\n                    {\r\n                        this.state.songsInfo.map(item=>(\r\n                            <ShowFramI className=\"mvContainer\" item={item} titlePos=\"250px\" key={item.id}/>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MV","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport './NewMusic.css'\r\nimport {RightOutlined,PlayCircleOutlined} from \"@ant-design/icons\";\r\nimport {Tooltip} from \"antd\";\r\nimport {getNewMusic} from \"../../../../../../apis/recommendPage\";\r\nimport {getSongUrl, isSongValid} from \"../../../../../../apis/songListDetailPage\";\r\nimport {playSingleSong} from \"../../../MainPage\";\r\n\r\ninterface Song{\r\n    imgUrl:string,\r\n    title:string,\r\n    description:string,\r\n    id:number,\r\n    author:string\r\n}\r\ninterface Style{\r\n    songsInfo:Song[],\r\n    isRequest:boolean\r\n}\r\nclass NewMusic extends React.Component<any, any>{\r\n    state:Style={\r\n        songsInfo:[],\r\n        isRequest:false\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(!this.state.isRequest)\r\n        {\r\n            getNewMusic().then(res=>{\r\n                for(let item of res.data.result)\r\n                {\r\n                    this.state.songsInfo.push({\r\n                        imgUrl:item.picUrl,\r\n                        title:item.name,\r\n                        description:item.song.alias[0]!==undefined?item.song.alias[0]:\"\",\r\n                        id:item.id,\r\n                        author:item.song.artists[0].name\r\n                    })\r\n                }\r\n                return new Promise((resolve)=>{resolve(\"\")})\r\n            }).then(res=>{this.forceUpdate();this.setState({isRequest:true})})\r\n        }\r\n    }\r\n\r\n    play=(id:number)=>{\r\n        isSongValid(id).then(()=>{\r\n            getSongUrl(id).then(res=>{\r\n                playSingleSong.emit(\"play\", id, res.data.data[0].url, \"$user\")\r\n            })\r\n        },()=>{alert(\"没有播放源\")})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"newMusicRoot\">\r\n                <span style={{width:\"90%\",marginLeft:\"10%\",fontSize:\"20px\",fontWeight:\"bolder\",display:\"flex\",alignItems:\"center\"}}>\r\n                    最新音乐<RightOutlined/>\r\n                </span>\r\n                <div style={{width:\"80%\",marginLeft:\"10%\",display:\"flex\",flexWrap:\"wrap\",justifyContent:\"space-evenly\"}}>\r\n                    {\r\n                        this.state.songsInfo.map(item=>(\r\n                            <div className=\"newMusicContainer\" key={item.id} style={{position:\"relative\"}}>\r\n                                <div>\r\n                                    <Tooltip title=\"点击播放\">\r\n                                        <img\r\n                                            src={item.imgUrl}\r\n                                            style={{height:\"50px\",objectFit:\"cover\",borderRadius:\"2px\",cursor:\"pointer\"}}\r\n                                            alt=\"\"\r\n                                            onClick={()=>{this.play(item.id)}}\r\n                                        />\r\n                                    </Tooltip>\r\n                                </div>\r\n                                <Tooltip title={item.title+(item.description.length?(\"(\"+item.description+\")\"):\"\")}>\r\n                                    <div\r\n                                        style={{display:\"flex\",flexDirection:\"column\", justifyContent:\"space-between\",\r\n                                            alignItems:\"flex-start\",cursor:\"pointer\"}}\r\n                                    >\r\n                                        <div style={{height:\"50%\",display:\"flex\",flexWrap:\"nowrap\",overflow:\"hidden\"}}>\r\n                                            <div style={{height:\"100%\"}}>{item.title}</div>\r\n                                            {\r\n                                                item.description.length?\r\n                                                    <div style={{color:\"lightgrey\"}}>{\"(\"+item.description+\")\"}</div>:\r\n                                                    null\r\n                                            }\r\n                                        </div>\r\n                                        <div style={{color:\"grey\"}}>{item.author}</div>\r\n                                    </div>\r\n                                </Tooltip>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewMusic","import React from \"react\";\r\nimport CarouselFigure from \"./CarouselFigure/CarouselFigure\";\r\nimport RecommendSongsList from \"./RecommendSongsList/RecommendSongsList\";\r\nimport Broadcast from \"./SpetialBroadcast/Broadcast\";\r\nimport MV from './MV/MV'\r\nimport NewMusic from \"./NewMusic/NewMusic\";\r\n\r\n\r\nclass RecommendPage extends React.Component<any, any>{\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{position:\"relative\",height:\"80vh\",marginTop:\"5px\",display:\"flex\",flexWrap:\"wrap\",overflow:\"scroll\"}}>\r\n                <CarouselFigure/>\r\n                <RecommendSongsList/>\r\n                <Broadcast/>\r\n                <NewMusic/>\r\n                <MV/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RecommendPage","import React from \"react\";\r\nimport {getSongsList} from \"../../../../../apis/personalPage\";\r\nimport ShowFramI from \"../../../common/ShowFramI/ShowFramI\";\r\nimport './PersonalPage.css'\r\n\r\ninterface Item{\r\n    id:number,\r\n    imgUrl:string,\r\n    title:string,\r\n    playCount:number\r\n}\r\ninterface State{\r\n    songsList:Item[]\r\n}\r\nclass PersonalPage extends React.Component<any, any>{\r\n    state:State={\r\n        songsList:[]\r\n    }\r\n    componentDidMount() {\r\n        getSongsList().then(res=>{\r\n            console.log(res);\r\n            for(let item of res.data.result)\r\n            {\r\n                this.state.songsList.push({\r\n                    id:item.id,\r\n                    imgUrl:item.picUrl,\r\n                    title:item.name,\r\n                    playCount:item.playCount\r\n                })\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\", height:\"80vh\", display:\"flex\",flexWrap:\"wrap\",position:\"relative\",overflowY:\"scroll\"}}>\r\n                <div style={{fontSize:\"20px\", fontWeight:\"bolder\", width:\"100%\", display:\"flex\",padding:\"20px\"}}>\r\n                    你的雷达歌单\r\n                </div>\r\n                {\r\n                    this.state.songsList.map(item=>(\r\n                        <div className=\"personalPageSongListItem\">\r\n                            <ShowFramI\r\n                                item={item}\r\n                                titlePos=\"220px\"\r\n                            />\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PersonalPage","import request from \"./request\";\r\n\r\nexport function getSongsList(){\r\n    return request({\r\n        url:'/personalized?limit=100',\r\n        method:\"get\",\r\n    })\r\n}","import request from \"./request\";\r\n\r\nexport function getSongLists(tag:string,offset:number){\r\n    if(offset===Infinity)\r\n    {\r\n        return request({\r\n            url:\"/top/playlist/highquality?limit=50&cat=\"+tag,\r\n            method:\"get\"\r\n        })\r\n    }\r\n    else\r\n    {\r\n        return request({\r\n            url:\"/top/playlist/highquality?limit=50&before=\"+offset+\"&cat=\"+tag,\r\n            method:\"get\"\r\n        })\r\n    }\r\n}","import React from \"react\";\r\nimport {getSongLists} from \"../../../../../apis/songListPage\";\r\nimport ShowFramI from \"../../../common/ShowFramI/ShowFramI\";\r\nimport './SongslistPage.css'\r\nimport {Pagination} from \"antd\";\r\nimport {RightOutlined} from \"@ant-design/icons\";\r\n\r\ninterface Item{\r\n    playCount:number,\r\n    imgUrl:string,\r\n    author:string,\r\n    title:string,\r\n    id:number,\r\n    updateTime:number\r\n}\r\ninterface State{\r\n    curSongListsNum:number\r\n    curTag:string,\r\n    curOffset:number,\r\n    curSongLists:Item[],\r\n    mainConsole:string[],\r\n    mainConsoleRef:any\r\n}\r\nclass SongslistPage extends React.Component<any, any>{\r\n    state:State={\r\n        curSongListsNum:0,\r\n        curTag:\"全部\",\r\n        curOffset:Infinity,\r\n        curSongLists:[],\r\n        mainConsole:[\"华语\",\"流行\",\"摇滚\",\"民谣\",\"电子\",\"另类/独立\",\"轻音乐\",\"综艺\",\"影视原声\",\"ACG\"],\r\n        mainConsoleRef:React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCurInfo()\r\n    }\r\n\r\n    getCurInfo=()=> {\r\n        this.setState(() => ({curSongLists: []}), () => {\r\n            getSongLists(this.state.curTag, this.state.curOffset).then(res => {\r\n                for (let item of res.data.playlists) {\r\n                    this.state.curSongLists.push({\r\n                        playCount: item.playCount,\r\n                        imgUrl: item.coverImgUrl,\r\n                        author: item.creator.nickname,\r\n                        title: item.name,\r\n                        id: item.id,\r\n                        updateTime: item.updateTime\r\n                    })\r\n                }\r\n                this.setState({curOffset: this.state.curSongLists[this.state.curSongLists.length-1].updateTime,\r\n                    curSongListsNum: res.data.total})\r\n                //console.log(this.state.curOffset,this.state.curSongListsNum);\r\n                this.forceUpdate()\r\n            })\r\n        })\r\n    }\r\n\r\n    chooseTag=(idx:number)=>{\r\n        for(let button of this.state.mainConsoleRef.current.children) {button.id=\"\"}\r\n        const node=this.state.mainConsoleRef.current.children[idx]\r\n        node.id=\"songListsPageTagButtonSelected\"\r\n        this.setState(()=>({curTag:this.state.mainConsole[idx],curOffset:Infinity}),()=>{\r\n            this.getCurInfo()\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\", height:\"80vh\", display:\"flex\",flexWrap:\"wrap\",position:\"relative\",overflowY:\"scroll\"}}>\r\n                <div style={{fontSize:\"20px\", fontWeight:\"bolder\", width:\"100%\", display:\"flex\",padding:\"20px\"}}>\r\n                    精品歌单\r\n                </div>\r\n                <div id=\"songListsPageConsole\">\r\n                    <div style={{border:\"gray solid 1px\",borderRadius:\"10px\",padding:'3px 8px 3px 8px'}}>\r\n                        {this.state.curTag}\r\n                        <RightOutlined/>\r\n                    </div>\r\n                    <div style={{display:\"flex\",justifyContent:\"space-evenly\",alignContent:\"center\"}} ref={this.state.mainConsoleRef}>\r\n                        {this.state.mainConsole.map((item,idx)=>(\r\n                            <div className=\"songListsPageTagButton\" onClick={()=>{this.chooseTag(idx)}}>{item}</div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.curSongLists.map(item=>(\r\n                            <div className=\"songsListPageSongListItem\">\r\n                                <ShowFramI\r\n                                    item={item}\r\n                                    titlePos=\"220px\"\r\n                                />\r\n                            </div>\r\n                        ))\r\n                }\r\n                <div style={{width:\"100%\",margin:'20px 0 50px 0',display:\"flex\",justifyContent:\"center\"}}>\r\n                    <Pagination\r\n                                defaultCurrent={1}\r\n                                defaultPageSize={50}\r\n                                total={this.state.curSongListsNum}\r\n                                onChange={()=>{this.getCurInfo()}}\r\n                    />\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SongslistPage","import request from \"./request\";\r\n\r\nexport function getOfficialRanks(){\r\n    return request({\r\n        url:\"/toplist/detail\",\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function getRankInfo(id:number){\r\n    return request({\r\n        url:\"/playlist/detail?id=\"+id,\r\n        method:\"get\"\r\n    })\r\n}","import React from \"react\";\r\nimport {RightOutlined} from \"@ant-design/icons\";\r\nimport './OfficialRankList.css'\r\nimport {withRouter} from \"react-router\";\r\nimport {playSingleSong} from \"../../../MainPage\";\r\nimport {isSongValid,getSongUrl} from \"../../../../../../apis/songListDetailPage\";\r\n\r\ninterface Song{\r\n    title:string,\r\n    alias:string,\r\n    singer:string,\r\n    id:number\r\n}\r\nclass OfficialRankList extends React.Component<any, any>{\r\n    click=(id:number)=>{\r\n        this.props.history.push(\"/song-list/\"+id)\r\n    }\r\n\r\n    play=(id:number)=>{\r\n        isSongValid(id).then(()=>{\r\n            getSongUrl(id).then(res=>{\r\n                playSingleSong.emit(\"play\", id, res.data.data[0].url, \"$rank\")\r\n            })\r\n        },()=>{alert(\"没有播放源\")})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\",display:\"flex\",flexWrap:\"wrap\",alignItems:\"center\",justifyContent:\"space-between\"}}>\r\n                <div style={{width:\"13%\",cursor:\"pointer\"}}>\r\n                    <img\r\n                        style={{width:\"100%\",objectFit:\"cover\",borderRadius:\"3px\"}}\r\n                        src={this.props.rank.cover}\r\n                        onClick={()=>{this.click(this.props.rank.id)}}\r\n                        alt=\"\"\r\n                    />\r\n                    <div onClick={()=>{this.click(this.props.rank.id)}}>\r\n                        查看全部<RightOutlined/>\r\n                    </div>\r\n                </div>\r\n                <div style={{width:\"80%\"}}>\r\n                    {this.props.rank.songs.map((item:Song,idx:number)=>(\r\n                        <div\r\n                            className={(idx%2===0)?\"officialRankListItemEven\":\"officialRankListItemOdd\"}\r\n                            onClick={()=>{this.play(item.id)}}\r\n                        >\r\n                            <div style={{display:\"flex\",alignContent:\"center\"}}>\r\n                                {\r\n                                    idx<3?\r\n                                    <div style={{color:'rgb(201,38,32)',fontWeight:\"bolder\",marginRight:\"8px\"}}>\r\n                                        {idx+1}-\r\n                                    </div>:\r\n                                    <div style={{marginRight:\"8px\"}}>{idx+1}-</div>\r\n                                }\r\n                                <div>{item.title}</div>\r\n                                {item.alias.length?<div style={{color:\"grey\"}}>({item.alias})</div>:null}\r\n                            </div>\r\n                            <div style={{color:\"grey\"}}>{item.singer}</div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(OfficialRankList)","import React from \"react\";\r\nimport {getOfficialRanks,getRankInfo} from \"../../../../../apis/rankPage\";\r\nimport OfficialRankList from \"./OfficialRankList/OfficialRankList\";\r\nimport ShowFramI from \"../../../common/ShowFramI/ShowFramI\";\r\nimport './RankPage.css'\r\n\r\ninterface Song{\r\n    title:string,\r\n    alias:string,\r\n    singer:string,\r\n    id:number\r\n}\r\ninterface Official{\r\n    name:string,\r\n    id:number,\r\n    cover:string,\r\n    songs:Song[]\r\n}\r\ninterface Global{\r\n    title:string,\r\n    id:number,\r\n    imgUrl:string,\r\n    description:string,\r\n    playCount:number\r\n}\r\n\r\ninterface State{\r\n    officialRankID:number[],\r\n    globalRankID:number[],\r\n    officialRank:Official[],\r\n    globalRank:Global[]\r\n}\r\nclass RankPage extends React.Component<any, any>{\r\n    state:State={\r\n        officialRankID:[],\r\n        globalRankID:[],\r\n        officialRank:[],\r\n        globalRank:[]\r\n    }\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\r\n        if(this.state.officialRank.length===0 || this.state.globalRank.length===0)\r\n        {\r\n            console.log('更新')\r\n            this.getInfo()\r\n        }\r\n    }\r\n\r\n    getInfo=()=>{\r\n        getOfficialRanks().then(res=>{\r\n            let cur\r\n            for(let rank of res.data.list)\r\n            {\r\n                cur=rank.name\r\n                if(cur===\"飙升榜\" || cur===\"新歌榜\" || cur===\"原创榜\" || cur===\"热歌榜\")\r\n                {this.state.officialRankID.push(rank.id)}\r\n                else\r\n                {this.state.globalRankID.push(rank.id)}\r\n            }\r\n        }).then(()=>{\r\n            //console.log(this.state.rankID);\r\n            Promise.all(this.state.officialRankID.map(id=>(this.getOfficialRank(id))))\r\n                .then(()=>{\r\n                    Promise.all(this.state.globalRankID.map(id=>(this.getGlobalRank(id))))\r\n                        .then(()=> {this.forceUpdate()})\r\n                })\r\n        },()=>{console.log('超时');this.forceUpdate()})\r\n    }\r\n\r\n    getOfficialRank=(id:number)=>{\r\n        return getRankInfo(id).then(res=>{\r\n            this.state.officialRank.push({\r\n                name:res.data.playlist.name,\r\n                id:res.data.playlist.id,\r\n                cover:res.data.playlist.coverImgUrl,\r\n                songs:res.data.playlist.tracks.slice(0,5).map((item:any)=>({\r\n                    title:item.name,\r\n                    alias:(item.alia[0]!==undefined)?item.alia[0]:\"\",\r\n                    singer:item.ar[0].name,\r\n                    id:item.id//不确定是item.id还是item.al.id\r\n                }))\r\n            })\r\n        })\r\n    }\r\n\r\n    getGlobalRank=(id:number)=>{\r\n        return getRankInfo(id).then(res=>{\r\n            const data=res.data.playlist\r\n            this.state.globalRank.push({\r\n                title:data.name,\r\n                id:data.id,\r\n                imgUrl:data.coverImgUrl,\r\n                description:data.description,\r\n                playCount:data.playCount\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{width:\"100%\", height:\"80vh\", display:\"flex\",flexWrap:\"wrap\",\r\n                    justifyContent:\"center\",position:\"relative\",overflowY:\"scroll\",padding:'20px'}}>\r\n\r\n                <div  style={{fontSize:\"20px\", fontWeight:\"bolder\", width:\"100%\", display:\"flex\"}}>官方榜</div>\r\n\r\n                {this.state.officialRank.map(item=>(\r\n                    <div style={{width:\"100%\",margin:\"20px 0 20px 0\"}}>\r\n                        <OfficialRankList rank={item}/>\r\n                    </div>\r\n                ))}\r\n\r\n                <div  style={{fontSize:\"20px\", fontWeight:\"bolder\", width:\"100%\", display:\"flex\"}}>全球榜</div>\r\n\r\n                <div style={{width:\"100%\", display:\"flex\", flexWrap:\"wrap\"}}>\r\n                    {this.state.globalRank.map(item=>(\r\n                        <div className=\"rankListPageSongListItem\">\r\n                            <ShowFramI\r\n                                item={item}\r\n                                titlePos=\"220px\"\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RankPage","import request from \"./request\";\r\n\r\nexport function getSingers(type:number,area:number,initial:string|number,page:number){\r\n    return request({\r\n        url:\"/artist/list?type=\"+type+\"&area=\"+area+\"&initial=\"+initial+\"&offset=\"+(page-1)*30,\r\n        method:\"get\",\r\n    })\r\n}","import React from \"react\";\r\nimport {getSingers} from \"../../../../../apis/singerPage\";\r\nimport './singerPage.css'\r\nimport {Pagination} from \"antd\";\r\n\r\ninterface Button{\r\n    name:string,\r\n    value:string|number\r\n}\r\ninterface Singer{\r\n    name:string,\r\n    id:number,\r\n    imgUrl:string\r\n}\r\ninterface State{\r\n    areaButtons:Button[]\r\n    typeButtons:Button[],\r\n    initialButtons:Button[],\r\n    curArea:number,\r\n    curType:number,\r\n    curInitial:number|string,\r\n    areaButtonsRef:any,\r\n    typeButtonsRef:any,\r\n    initialButtonsRef:any,\r\n    curPage:number,\r\n    isPageIncrease:boolean,\r\n    curSingers:Singer[],\r\n    curTotal:number\r\n}\r\nclass SingerPage extends React.Component<any, any>{\r\n    state:State={\r\n        areaButtons:[{name:\"全部\",value:-1},{name:\"华语\",value:7},{name:\"欧美\",value:96},\r\n                     {name:\"日本\",value:8},{name:\"韩国\",value:16},{name:\"其他\",value:0}],\r\n        typeButtons:[{name:\"全部\",value:-1},{name:\"男歌手\",value:1},{name:\"女歌手\",value:2}, {name:\"乐队歌手\",value:3}],\r\n        initialButtons:[{name:\"热门\",value:-1},{name:\"#\",value:0}],\r\n        curArea:-1,\r\n        curType:-1,\r\n        curInitial:-1,\r\n        areaButtonsRef:React.createRef(),\r\n        typeButtonsRef:React.createRef(),\r\n        initialButtonsRef:React.createRef(),\r\n        curPage:1,\r\n        isPageIncrease:true,\r\n        curSingers:[],\r\n        curTotal:30\r\n    }\r\n\r\n    componentDidMount() {\r\n        for(let i=65; i<=90; i++)\r\n        {this.state.initialButtons.push({name:String.fromCharCode(i), value:String.fromCharCode(i+32)})}\r\n        this.getSingersList()\r\n    }\r\n\r\n    getSingersList=()=>{\r\n        getSingers(this.state.curType,this.state.curArea,this.state.curInitial,this.state.curPage).then(res=>{\r\n            console.log(res);\r\n            this.setState(()=>({curSingers:[],\r\n                    curTotal:(res.data.more && this.state.isPageIncrease)?this.state.curTotal+30:this.state.curTotal}),\r\n                ()=>{\r\n                for(let singer of res.data.artists)\r\n                {\r\n                    this.state.curSingers.push({\r\n                        name:singer.name,\r\n                        id:singer.id,\r\n                        imgUrl:singer.picUrl\r\n                    })\r\n                }\r\n                this.forceUpdate()\r\n            })\r\n        })\r\n    }\r\n\r\n    clickArea=(item:Button,idx:number)=>{\r\n        this.setState(()=>({curArea:item.value,curPage:1,curTotal:30,isPageIncrease:true}),()=>{\r\n            let button\r\n            //console.log(this.state.areaButtonsRef);\r\n            for(let i=0; i<this.state.areaButtonsRef.current.children.length; i++)\r\n            {\r\n                button=this.state.areaButtonsRef.current.children[i]\r\n                if(i===2*idx+1){button.id=\"singerPageSelectedAreaButton\"}\r\n                else {button.id=\"\"}\r\n            }\r\n            this.getSingersList()\r\n        })\r\n    }\r\n\r\n    click=(item:Button,idx:number,param:string)=>{\r\n        this.setState(()=>({[param]:item.value,curPage:1,curTotal:30,isPageIncrease:true}),()=>{\r\n            let button\r\n            let children\r\n            let id\r\n            if(param===\"curArea\")\r\n            {\r\n                children=this.state.areaButtonsRef.current.children\r\n                id=\"singerPageSelectedAreaButton\"\r\n            }\r\n            else if(param===\"curType\")\r\n            {\r\n                children=this.state.typeButtonsRef.current.children\r\n                id=\"singerPageSelectedTypeButton\"\r\n            }\r\n            else\r\n            {\r\n                children=this.state.initialButtonsRef.current.children\r\n                id=\"singerPageSelectedInitialButton\"\r\n            }\r\n            for(let i=0; i<children.length; i++)\r\n            {\r\n                button=children[i]\r\n                if(i===2*idx+1){button.id=id}\r\n                else {button.id=\"\"}\r\n            }\r\n            this.getSingersList()\r\n        })\r\n    }\r\n\r\n    switchPage=(page:number)=>{\r\n        const flag=(page>this.state.curPage)\r\n        this.setState(()=>({curPage:page,isPageIncrease:flag}),()=>{this.getSingersList()})\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"singerPageRoot\">\r\n                <div className=\"singerPageConsole\" ref={this.state.areaButtonsRef}>\r\n                    <div className=\"singerPageButtonTile\">语种:</div>\r\n                    {this.state.areaButtons.map((item,idx)=>(\r\n                        idx<this.state.areaButtons.length-1?\r\n                        <>\r\n                            <div\r\n                                className=\"singerPageButton\"\r\n                                id={item.value===this.state.curArea?\"singerPageSelectedAreaButton\":\"\"}\r\n                                onClick={()=>{this.click(item,idx,\"curArea\")}}\r\n                            >\r\n                                {item.name}\r\n                            </div>\r\n                            <div className=\"singerPageButton\" style={{color:\"lightgray\"}}>|</div>\r\n                        </>:\r\n                            <div className=\"singerPageButton\" onClick={()=>{this.click(item,idx,\"curArea\")}}>{item.name}</div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"singerPageConsole\" ref={this.state.typeButtonsRef}>\r\n                    <div className=\"singerPageButtonTile\">分类:</div>\r\n                    {this.state.typeButtons.map((item,idx)=>(\r\n                        idx<this.state.typeButtons.length-1?\r\n                            <>\r\n                                <div\r\n                                    className=\"singerPageButton\"\r\n                                    id={item.value===this.state.curType?\"singerPageSelectedTypeButton\":\"\"}\r\n                                    onClick={()=>{this.click(item,idx,\"curType\")}}\r\n                                >\r\n                                    {item.name}\r\n                                </div>\r\n                                <div className=\"singerPageButton\" style={{color:\"lightgray\"}}>|</div>\r\n                            </>:\r\n                            <div className=\"singerPageButton\" onClick={()=>{this.click(item,idx,\"curType\")}}>{item.name}</div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"singerPageConsole\" ref={this.state.initialButtonsRef}>\r\n                    <div className=\"singerPageButtonTile\">筛选:</div>\r\n                    {this.state.initialButtons.map((item,idx)=>(\r\n                        idx<this.state.initialButtons.length-1?\r\n                            <>\r\n                                <div\r\n                                    className=\"singerPageButtonInitial\"\r\n                                    id={item.value===this.state.curInitial?\"singerPageSelectedInitialButton\":\"\"}\r\n                                    onClick={()=>{this.click(item,idx,\"curInitial\")}}\r\n                                >\r\n                                    {item.name}\r\n                                </div>\r\n                                <div className=\"singerPageButtonInitial\" style={{color:\"lightgray\"}}>|</div>\r\n                            </>:\r\n                            <div className=\"singerPageButtonInitial\" onClick={()=>{this.click(item,idx,\"curInitial\")}}>\r\n                                {item.name}\r\n                            </div>\r\n                    ))}\r\n                </div>\r\n                {\r\n                    this.state.curSingers.map((item)=>(\r\n                        <div style={{width:'20%',padding:\"15px 15px 0 0\"}}>\r\n                            <img src={item.imgUrl} style={{width:\"100%\",objectFit:\"cover\",borderRadius:'3px'}}/>\r\n                            <div>{item.name}</div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div style={{width:\"100%\",margin:\"10px 0 20px 0\"}}>\r\n                    <Pagination\r\n                        defaultCurrent={1}\r\n                        defaultPageSize={30}\r\n                        total={this.state.curTotal}\r\n                        onChange={(page)=>{this.switchPage(page)}}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SingerPage","import React from \"react\";\r\n\r\nconst buttons=['全部',\"华语\",\"欧美\",\"韩国\",\"日本\"]\r\ninterface State{\r\n    buttons:any\r\n}\r\nclass Nav extends React.Component<any, any>{\r\n    state:State={\r\n        buttons:React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        const defaultButton=this.state.buttons.current.children[0]\r\n        defaultButton.style.fontWeight=\"bolder\"\r\n    }\r\n\r\n    click=(select:number)=>{\r\n        const buttons=this.state.buttons.current.children\r\n        for(let i=0; i<buttons.length; i++)\r\n        {\r\n            if(i===select) {buttons[i].style.fontWeight=\"bolder\"}\r\n            else {buttons[i].style.fontWeight=\"normal\"}\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{width:\"100%\",display:\"flex\",alignItems:\"center\"}}\r\n                ref={this.state.buttons}\r\n            >\r\n                {\r\n                    buttons.map((item,idx)=>(\r\n                        <div\r\n                            style={{width:\"5%\",padding:\"2px 6px 2px 6px\",cursor:\"pointer\"}}\r\n                            onClick={()=>{\r\n                                this.click(idx)\r\n                                this.props.click(idx)\r\n                            }}\r\n                        >\r\n                            {item}\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Nav","import request from \"./request\";\r\n\r\nexport function getNewSongs(type:number){\r\n    return request({\r\n        url:'/top/song?type='+type,\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function getNewCDs(area:string,offset:number){\r\n    return request({\r\n        url:'/top/album?limit=30&area='+area+\"&offset=\"+offset,\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\n","import React from \"react\";\r\nimport Nav from \"../Nav/Nav\";\r\nimport {getNewSongs} from \"../../../../../../apis/newSongsPage\";\r\nimport {PlayCircleOutlined} from \"@ant-design/icons\";\r\nimport {Tooltip} from \"antd\";\r\nimport {getSongUrl, isSongValid} from \"../../../../../../apis/songListDetailPage\";\r\nimport {playSingleSong} from \"../../../MainPage\";\r\nimport './NewSongs.css'\r\n\r\ninterface Song{\r\n    id:number,\r\n    idx:string,\r\n    name:string,\r\n    alia:string,\r\n    singer:string,\r\n    albumName:string,\r\n    albumAlia:string,\r\n    duration:string,\r\n    musicUrl:string,\r\n    picUrl:string\r\n}\r\ninterface State{\r\n    curType:number,\r\n    newSongs:Song[]\r\n}\r\nconst dict=[0,7,96,8,16]\r\n\r\nclass NewSongs extends React.Component<any, any>{\r\n    state:State={\r\n        curType:0,\r\n        newSongs:[]\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getSongs()\r\n    }\r\n\r\n    getSongs=()=>{\r\n        getNewSongs(this.state.curType).then(res=>{\r\n            let idx=1\r\n            for(let song of res.data.data)\r\n            {\r\n                this.state.newSongs.push({\r\n                    id:song.id,\r\n                    idx:String(idx).padStart(3,\"0\"),\r\n                    name:song.name,\r\n                    alia:(song.alias[0]!==undefined)?song.alias[0]:\"\",\r\n                    singer:song.artists[0].name,\r\n                    albumName:song.album.name,\r\n                    albumAlia:(song.album.alias[0]!==undefined)?song.album.alias[0]:\"\",\r\n                    duration:this.getDuration(song.duration),\r\n                    musicUrl:song.mp3Url,\r\n                    picUrl:song.album.picUrl\r\n                })\r\n                idx+=1\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    getDuration=(time:number)=>{\r\n        time=Math.floor(time/1000)\r\n        let min=Math.floor(time/60)\r\n        let sec=time-min*60\r\n        return String(min).padStart(2,\"0\")+\":\"+String(sec).padStart(2,\"0\")\r\n    }\r\n\r\n    click=(typeIdx:number)=>{\r\n        this.setState(()=>({curType:dict[typeIdx],newSongs:[]}),()=>{this.getSongs()})\r\n    }\r\n\r\n    play=(id:number)=>{\r\n        isSongValid(id).then(()=>{\r\n            getSongUrl(id).then(res=>{\r\n                playSingleSong.emit(\"play\", id, res.data.data[0].url, \"$new-song\")\r\n            })\r\n        },()=>{alert(\"没有播放源\")})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <Nav click={this.click}/>\r\n                <div style={{marginBottom:\"20px\"}}/>\r\n                {\r\n                    this.state.newSongs.map((item,idx)=>(\r\n                        <div\r\n                            className={(idx%2===0)?\"NewSongsPageRowEven\":\"NewSongsPageRowOdd\"}\r\n                            onClick={()=>{this.play(item.id)}}\r\n                        >\r\n                            <div style={{width:\"35%\",display:\"flex\",alignItems:\"center\",marginRight:\"20px\"}}>\r\n                                <div style={{color:\"rgba(0,0,0,0.4)\",marginRight:\"5px\"}}>{item.idx}</div>\r\n                                <div style={{position:\"relative\",color:\"white\",marginRight:\"5px\"}}>\r\n                                    <img src={item.picUrl} style={{width:\"60px\",objectFit:\"cover\",borderRadius:\"3px\"}}/>\r\n                                    <PlayCircleOutlined style={{position:\"absolute\",top:\"25px\",left:\"25px\"}}/>\r\n                                </div>\r\n                                <Tooltip title={(item.alia.length)?(item.name+\"(\"+item.alia+\")\"):(item.name)}>\r\n                                    <div style={{display:\"flex\",flexWrap:\"nowrap\",overflow:\"hidden\",height:\"20px\"}}>\r\n                                        {item.name}\r\n                                        {item.alia.length? <div style={{color:'rgba(0,0,0,0.4)'}}>({item.alia})</div> : null}\r\n                                    </div>\r\n                                </Tooltip>\r\n                            </div>\r\n                            <div style={{width:\"15%\",display:\"flex\"}}>\r\n                                {item.singer}\r\n                            </div>\r\n                            <div style={{display:\"flex\",width:\"40%\"}}>\r\n                                {item.albumName}\r\n                                {item.albumAlia.length? <div style={{color:\"rgba(0,0,0,0.4)\"}}>({item.albumAlia})</div> : null}\r\n                            </div>\r\n                            <div style={{width:\"5%\",color:\"rgba(0,0,0,0.4)\"}}>\r\n                                {item.duration}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewSongs","import React from \"react\";\r\nimport {getNewCDs} from \"../../../../../../apis/newSongsPage\";\r\nimport Nav from \"../Nav/Nav\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {getSongUrl, isSongValid} from \"../../../../../../apis/songListDetailPage\";\r\nimport {playSingleSong} from \"../../../MainPage\";\r\nimport {Tooltip} from \"antd\";\r\n\r\ninterface CD{\r\n    id:number,\r\n    name:string,\r\n    alia:string,\r\n    singer:string,\r\n    picUrl:string,\r\n}\r\ninterface State{\r\n    curArea:string,\r\n    newCDs:CD[],\r\n    curPage:number,\r\n    curTotal:number\r\n}\r\nconst dict=[\"ALL\",\"ZH\",\"EA\",\"KR\",\"JP\"]\r\nclass NewCDs extends React.Component<any, any>{\r\n    state:State={\r\n        curArea:\"ALL\",\r\n        newCDs:[],\r\n        curPage:1,\r\n        curTotal:0\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCDs()\r\n    }\r\n\r\n    getCDs=()=>{\r\n        getNewCDs(this.state.curArea,(this.state.curPage-1)*30).then((res)=>{\r\n            const data=res.data.monthData\r\n            let cur\r\n            let idx=1\r\n            for(let cd in data)\r\n            {\r\n                if(idx>50)break\r\n                cur=data[cd]\r\n                this.state.newCDs.push({\r\n                    id:cur.id,\r\n                    name:cur.name,\r\n                    alia:(cur.alias[0]!==undefined)?cur.alias[0]:\"\",\r\n                    singer:cur.artist.name,\r\n                    picUrl:cur.picUrl,\r\n                })\r\n                idx+=1\r\n            }\r\n            this.setState(()=>({curTotal:this.state.newCDs.length}),()=>{this.forceUpdate()})\r\n        })\r\n    }\r\n\r\n    click=(idx:number)=>{\r\n        this.setState(()=>({curArea:dict[idx],newCDs:[],curPage:1}),()=>{this.getCDs()})\r\n    }\r\n\r\n    play=(id:number)=>{\r\n        isSongValid(id).then(()=>{\r\n            getSongUrl(id).then(res=>{\r\n                playSingleSong.emit(\"play\", res.data.data[0].url, this.props.location.pathname)\r\n            })\r\n        },()=>{alert(\"没有播放源\")})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\",display:\"flex\",flexWrap:\"wrap\"}}>\r\n                <Nav click={this.click}/>\r\n                {\r\n                    this.state.newCDs.map(item=>(\r\n                        <div style={{width:\"20%\",padding:\"20px\",marginBottom:\"30px\",display:\"flex\",justifyContent:\"flex-start\",\r\n                                     flexWrap:\"wrap\",position:\"relative\"}}>\r\n                            <img\r\n                                src={item.picUrl}\r\n                                style={{width:\"100%\",objectFit:\"cover\",borderRadius:\"3px\",marginBottom:\"5px\",cursor:\"pointer\"}}\r\n                                onClick={()=>{this.play(item.id)}}\r\n                                alt=\"\"\r\n                            />\r\n                            <Tooltip title={item.name+(item.alia.length?(\"(\"+item.alia+\")\"):item.alia)}>\r\n                                <div style={{width:\"100%\",height:'50px',display:\"flex\",justifyContent:\"flex-start\",flexWrap:\"wrap\",cursor:\"pointer\"}}>\r\n                                    <div style={{textAlign:\"start\",whiteSpace:\"nowrap\",wordBreak:\"keep-all\",\r\n                                        textOverflow:\"ellipsis\",overflow:\"hidden\"}}>{item.name}</div>\r\n                                    {item.alia.length?\r\n                                        <div style={{color:\"rgba(0,0,0,0.3)\",textJustify:\"initial\",display:\"inline\",whiteSpace:\"nowrap\",wordBreak:\"keep-all\",\r\n                                            textOverflow:\"ellipsis\",overflow:\"hidden\"}}>({item.alia})</div>: null}\r\n                                </div>\r\n                            </Tooltip>\r\n                            <div style={{position:\"absolute\",top:\"25px\",right:\"25px\",color:\"white\"}}>\r\n                                <UserOutlined/>\r\n                                {item.singer}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewCDs","import React from \"react\";\r\nimport {Route,withRouter,Redirect} from \"react-router-dom\";\r\nimport NewSongs from \"./NewSongs/NewSongs\";\r\nimport NewCDs from \"./NewCDs/NewCDs\";\r\nimport './NewSongsPage.css'\r\n\r\ninterface State{\r\n    newSongButtonRef:any,\r\n    newCdButtonRef:any\r\n}\r\nclass NewSongsPage extends React.Component<any, any>{\r\n    state:State={\r\n        newSongButtonRef:React.createRef(),\r\n        newCdButtonRef:React.createRef()\r\n    }\r\n\r\n    click=(type:string)=>{\r\n        const buttonSelected=(type===\"song\")?this.state.newSongButtonRef.current:this.state.newCdButtonRef.current\r\n        const buttonOther=(type===\"song\")?this.state.newCdButtonRef.current:this.state.newSongButtonRef.current\r\n        buttonSelected.id=\"newSongsPageSelectedButton\"\r\n        buttonOther.id=\"newSongsPageAnotherButton\"\r\n        this.props.history.push(\"/user/new/\"+type)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{width:\"100%\", height:\"80vh\", display:\"flex\",flexWrap:\"wrap\",justifyContent:\"center\",\r\n                        position:\"relative\",overflowY:\"scroll\",padding:'20px'}}\r\n            >\r\n                <div\r\n                    style={{width:\"30%\",height:'30px',border:\"rgba(0,0,0,0.2) solid 0.5px\",\r\n                            borderRadius:\"10px\",display:\"flex\",alignItems:\"center\",justifySelf:\"center\"}}\r\n                >\r\n                    <div\r\n                        ref={this.state.newSongButtonRef}\r\n                        onClick={()=>{this.click(\"song\")}}\r\n                        id=\"newSongsPageSelectedButton\"\r\n                    >\r\n                        新歌速递\r\n                    </div>\r\n                    <div\r\n                        ref={this.state.newCdButtonRef}\r\n                        onClick={()=>{this.click(\"cd\")}}\r\n                        id=\"newSongsPageAnotherButton\"\r\n                    >\r\n                        新碟上架\r\n                    </div>\r\n                </div>\r\n\r\n                <Route path=\"/user/new/song\" component={NewSongs}/>\r\n                <Route path=\"/user/new/cd\" component={NewCDs}/>\r\n                {this.props.location.pathname===\"/user/new\"? <Redirect to=\"/user/new/song\"/>:null}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(NewSongsPage)","import React from \"react\";\r\nimport MenuBar from \"./MenuBar/MenuBar\";\r\nimport RecommendPage from \"./RecommendPage/RecommendPage\";\r\nimport PersonalPage from \"./PersonalPage/PersonalPage\";\r\nimport SongslistPage from \"./SongslistPage/SongslistPage\";\r\nimport RankPage from \"./RankPage/RankPage\";\r\nimport SingerPage from \"./SingerPage/SingerPage\";\r\nimport NewSongsPage from \"./NewSongsPage/NewSongsPage\";\r\nimport {Route, Redirect, Router, BrowserRouter} from \"react-router-dom\";\r\nimport {withRouter} from \"react-router\";\r\n\r\ninterface State{\r\n\r\n}\r\nclass UserPage extends React.Component<any, any>{\r\n    state:State={\r\n\r\n    }\r\n    render() {\r\n        return (\r\n                <div id=\"userRoot\">\r\n                    <MenuBar/>\r\n                    <Route path=\"/user/user\" component={RecommendPage}/>\r\n                    <Route path=\"/user/personal\" component={PersonalPage}/>\r\n                    <Route path=\"/user/songs\" component={SongslistPage}/>\r\n                    <Route path=\"/user/rank\" component={RankPage}/>\r\n                    <Route path=\"/user/singer\" component={SingerPage}/>\r\n                    <Route path=\"/user/new\" component={NewSongsPage}/>\r\n                    {this.props.location.pathname==='/user'?<Redirect to=\"/user/user\"/> :null}\r\n                </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(UserPage)","import React from \"react\";\r\nimport 'antd/dist/antd.css'\r\nimport {NavMenu,MenuItem} from \"../../../common/NavMenu/NavMenu\";\r\nimport {withRouter} from \"react-router\";\r\n\r\ninterface State{\r\n    menuItem:MenuItem[]\r\n}\r\nclass MenuBar extends React.Component<any, any>{\r\n    state:State={\r\n        menuItem:[\r\n            {key:\"1\",title:\"单曲\",click:()=>{this.props.history.push(\"/search/singles/\"+this.props.keyword)}},//click跳转路由\r\n            {key:\"2\",title:\"歌手\",click:()=>{this.props.history.push(\"/search/singers/\"+this.props.keyword)}},\r\n            {key:\"3\",title:\"专辑\",click:()=>{this.props.history.push(\"/search/albums/\"+this.props.keyword)}},\r\n            {key:\"4\",title:\"视频\",click:()=>{this.props.history.push(\"/search/videos/\"+this.props.keyword)}},\r\n            {key:\"5\",title:\"歌单\",click:()=>{this.props.history.push(\"/search/song-lists/\"+this.props.keyword)}},\r\n            {key:\"6\",title:\"歌词\",click:()=>{this.props.history.push(\"/search/lyrics/\"+this.props.keyword)}},\r\n            {key:\"7\",title:\"用户\",click:()=>{this.props.history.push(\"/search/users/\"+this.props.keyword)}},\r\n        ]\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NavMenu menu={this.state.menuItem}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MenuBar)","import request from \"./request\";\r\n\r\nexport function getSingles(keyword:string,offset:number){\r\n    return request({\r\n        url:\"/search?limit=100&keywords=\"+keyword+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getAlbums(keyword:string,offset:number){\r\n    return request({\r\n        url:\"/search?type=10&keywords=\"+keyword+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getSingers(keyword:string,offset:number){\r\n    return request({\r\n        url:\"/search?type=100&keywords=\"+keyword+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getVideos(keyword:string,offset:number){\r\n    return request({\r\n        url:\"/search?limit=40&type=1014&keywords=\"+keyword+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getSongLists(keyword:string,offset:number){\r\n    return request({\r\n        url:\"/search?limit=40&type=1000&keywords=\"+keyword+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getLyrics(keyword:string,offset:number){\r\n    return request({\r\n        url:\"/search?limit=40&type=1006&keywords=\"+keyword+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getUsers(keyword:string,offset:number){\r\n    return request({\r\n        url:\"/search?limit=30&type=1002&keywords=\"+keyword+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\nexport function getSongUrl(id:number){\r\n    return request({\r\n        url:\"/song/url?id=\"+id,\r\n        method:\"get\"\r\n    })\r\n}","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass Keyword extends React.Component<any, any>{\r\n    render() {\r\n        return <div style={{color:\"cornflowerblue\"}}>{this.props.match.params.keyword}</div>\r\n        //这里的关键词从路由里获得-------------------------------------------------\r\n    }\r\n}\r\n\r\nexport default withRouter(Keyword)","import React from \"react\";\r\nimport MenuBar from \"../MenuBar/MenuBar\";\r\nimport {getSingles,getSongUrl} from \"../../../../../apis/searchPage\";\r\nimport {Progress, Table} from \"antd\";\r\nimport {DownloadOutlined, HeartOutlined, SoundFilled } from \"@ant-design/icons\";\r\nimport './Singles.css'\r\nimport Keyword from \"./Keyword\";\r\nimport {withRouter} from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\ninterface State{\r\n    keyword:string,\r\n    resNum:number\r\n    curRes:Info[],\r\n    maxHot:number,\r\n    selectedRow:number,\r\n    selectedSongId:number,\r\n    emitPlayInfo:boolean\r\n}\r\ninterface Info{\r\n    like:boolean,\r\n    download:boolean,\r\n    title:string,\r\n    author:string,\r\n    album:string,\r\n    duration:string,\r\n    hot:number,\r\n    id:number,\r\n    idx:number,\r\n    key:number\r\n}\r\nconst getDuration=function (duration:number):string{\r\n    duration=Math.floor(duration/1000)\r\n    const min=Math.floor(duration/60)\r\n    const sec=String(duration-60*min)\r\n    const minStr=(min<10)?(\"0\"+min):min.toString()\r\n    const secStr=(sec.length===1)?(\"0\"+sec):sec.toString()\r\n    return minStr+\":\"+secStr\r\n}\r\n\r\nclass Singles extends React.Component<any, any>{\r\n    state:State={\r\n        keyword:'',\r\n        resNum:0,\r\n        curRes:[],\r\n        maxHot:0,\r\n        selectedRow:Infinity,\r\n        selectedSongId:Infinity,\r\n        emitPlayInfo:false\r\n    }\r\n\r\n    columns = ()=>{return [\r\n        {\r\n            title: ' ',\r\n            dataIndex: 'idx',\r\n            key: 'idx',\r\n            render:(idx:number)=>{return (<div>\r\n                                              {(idx===this.state.selectedRow)? <SoundFilled style={{color:'rgb(201,38,32)'}}/>:idx}\r\n                                          </div>)}\r\n        },\r\n        {\r\n            title: ' ',\r\n            key: 'like',\r\n            render:()=>(<HeartOutlined />)\r\n        },\r\n        {\r\n            title: ' ',\r\n            key: 'download',\r\n            render:()=>(<DownloadOutlined/>)\r\n        },\r\n        {\r\n            title: '音乐标题',\r\n            key: 'title',\r\n            dataIndex: \"title\",\r\n            render:(title:string)=>{return this.highlightKeyWord(title)}\r\n        },\r\n        {\r\n            title: '歌手',\r\n            key: 'author',\r\n            dataIndex: \"author\",\r\n            //render:(title:string)=>{return (<div style={{color:'dimgray'}}>{title}</div>)}\r\n            render:(title:string)=>{return this.highlightKeyWord(title)}\r\n        },\r\n        {\r\n            title: '专辑',\r\n            key: 'album',\r\n            dataIndex: \"album\",\r\n            //render:(title:string)=>{return (<div style={{color:'grey'}}>{title}</div>)}\r\n            render:(title:string)=>{return this.highlightKeyWord(title)}\r\n        },\r\n        {\r\n            title: '时长',\r\n            key: 'duration',\r\n            dataIndex: \"duration\",\r\n            render:(title:string)=>{return (<div style={{color:'dimgrey'}}>{title}</div>)}\r\n        },\r\n        {\r\n            title: '热度',\r\n            key: 'hot',\r\n            dataIndex: \"hot\",\r\n            render:(hot:number)=>{\r\n                return (<Progress\r\n                    percent={100*hot/this.state.maxHot}\r\n                    showInfo={false}\r\n                    strokeColor=\"rgb(201,38,32)\"\r\n                    trailColor=\"lightgray\"\r\n                />)\r\n            }\r\n        }\r\n    ]}\r\n\r\n    getCurSongs(data:any,page:number){\r\n        const info=[]\r\n        let idx=1\r\n        let offset=(page-1)*100\r\n        let maxHot=0\r\n        for(let song of data)\r\n        {\r\n            if(idx+offset<=this.state.resNum)\r\n            {\r\n                info.push({\r\n                    like:false,\r\n                    download:false,\r\n                    title:song.name,\r\n                    author:song.artists[0].name,\r\n                    album:song.album.name,\r\n                    duration:getDuration(song.duration),\r\n                    hot:song.mark,\r\n                    id:song.id,\r\n                    idx:idx+offset,\r\n                    key:song.id\r\n                })\r\n                if(song.mark>maxHot){maxHot=song.mark}\r\n                idx+=1\r\n            }\r\n            else {break}\r\n        }\r\n        this.setState({curRes:info,maxHot:maxHot})\r\n    }\r\n\r\n    highlightKeyWord=(initInfo:string)=>{\r\n        const reg=new RegExp(this.state.keyword,\"g\")\r\n        const frags=initInfo.replace(reg, \"$#\"+this.state.keyword+\"#$\").split(\"$\")\r\n        return (<div style={{display:\"flex\"}}>\r\n            {\r\n                frags.map((item)=>{\r\n                    if(item[0]===\"#\" && item[item.length-1]===\"#\") {return <Keyword/>}\r\n                    else {return <div style={{color:'dimgray'}}>{item}</div>}\r\n                })\r\n            }\r\n        </div>)\r\n    }\r\n\r\n    switchPage=(page:number)=>{\r\n        getSingles(this.state.keyword,(page-1)*100).then(res=>{\r\n            if(res.data.result.songs!==undefined)\r\n            {this.getCurSongs(res.data.result.songs,page)}\r\n            else {alert(\"请求资源无访问权限\")}\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState(()=>({keyword:this.props.match.params.keyword,selectedRow:this.props.match.params.selectedRow}),\r\n            ()=>{\r\n                getSingles(this.state.keyword,0).then(res=>{\r\n                this.setState({resNum:res.data.result.songCount})\r\n                this.getCurSongs(res.data.result.songs,1)\r\n\r\n            })\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\r\n        if(this.state.keyword!==this.props.match.params.keyword)\r\n        {\r\n            this.setState(()=>({keyword:this.props.match.params.keyword,selectedRow:this.props.match.params.selectedRow}),\r\n                ()=>{\r\n                    getSingles(this.state.keyword,0).then(res=>{\r\n                    this.setState({resNum:res.data.result.songCount,selectedRow:Infinity})\r\n                    this.getCurSongs(res.data.result.songs,1)\r\n                    //this.forceUpdate()\r\n                })\r\n            })\r\n        }\r\n\r\n\r\n        if(this.state.emitPlayInfo)\r\n        {\r\n            getSongUrl(this.state.selectedSongId).then(res=>{\r\n                this.props.playMusicEvent.emit(\"play\",res.data.data[0].url,this.state.selectedSongId,\r\n                    this.state.keyword,this.state.selectedRow)\r\n            })\r\n            //this.props.playMusicEvent.emit(\"play\",this.state.selectedSongId)\r\n            this.setState({emitPlayInfo:false})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <span style={{display:\"flex\",fontSize:'25px',fontWeight:\"bolder\",padding:\"5px\"}}>\r\n                    找到{this.state.resNum}首单曲\r\n                </span>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Table\r\n                        columns={this.columns()}\r\n                        dataSource={this.state.curRes}\r\n                        pagination={{defaultPageSize:100,total:this.state.resNum,onChange:(page)=>{this.switchPage(page)}}}\r\n                        id=\"searchSinglesResTable\"\r\n                        onRow={(record)=>{\r\n                                                        return ({\r\n                                                            onClick:()=>{\r\n                                                                axios.get(\"https://wangyi-cloud-music-api.vercel.app/check/music?id=\"+record.id).then(\r\n                                                                    res=>{\r\n                                                                        this.setState({selectedRow:record.idx,\r\n                                                                            emitPlayInfo:true,\r\n                                                                            selectedSongId:record.id})\r\n                                                                        this.forceUpdate()\r\n                                                                    },\r\n                                                                    ()=>alert(\"抱歉，暂无播放源\"))\r\n\r\n                                                            }\r\n                                                        })\r\n                        }}\r\n                        rowClassName={(record)=>{return (record.idx===this.state.selectedRow)?\"selectedRow\":\"\"}}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Singles)","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {getSingers} from \"../../../../../apis/searchPage\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport './Singers.css'\r\nimport {Pagination} from \"antd\";\r\n\r\ninterface Singer{\r\n    id:number,\r\n    name:string[],\r\n    alia:string,\r\n    avatarUrl:string\r\n}\r\ninterface State{\r\n    keyword:string,\r\n    page:number,\r\n    resNum:number,\r\n    singers:Singer[]\r\n}\r\n\r\nclass Singers extends React.Component<any, any>{\r\n    state:State={\r\n        keyword:this.props.match.params.keyword,\r\n        page:1,\r\n        resNum:0,\r\n        singers:[]\r\n    }\r\n\r\n    getInfo=()=>{\r\n        this.setState(()=>({singers:[]}),()=>{\r\n            getSingers(this.state.keyword,(this.state.page-1)*30).then(res=>{\r\n                const reg=new RegExp(this.state.keyword,\"g\")\r\n                this.setState({resNum:res.data.result.artistCount})\r\n                for(let singer of res.data.result.artists)\r\n                {\r\n                    this.state.singers.push({\r\n                        id:singer.id,\r\n                        name:singer.name.replace(reg,\"$#\"+this.state.keyword+\"#$\").split(\"$\"),\r\n                        alia:singer.alias[0]!==undefined?singer.alias[0]:\"\",\r\n                        avatarUrl:singer.picUrl\r\n                    })\r\n                }\r\n                this.forceUpdate()\r\n            })\r\n        })\r\n    }\r\n\r\n    switchPage=(page:number)=>{\r\n        this.setState(()=>({page:page}),()=>{this.getInfo()})\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div  style={{width:\"100%\"}}>\r\n                <span style={{display:\"flex\",fontSize:'25px',fontWeight:\"bolder\",padding:\"5px\"}}>\r\n                    找到{this.state.resNum}位歌手\r\n                </span>\r\n                {\r\n                    this.state.singers.map((item,idx)=>(\r\n                        <div className={idx%2===0?\"searchPageSingersRowEven\":\"searchPageSingersRowOdd\"}>\r\n                            <div style={{display:\"flex\",alignItems:\"center\"}}>\r\n                                <img\r\n                                    src={item.avatarUrl}\r\n                                    style={{width:\"60px\",height:\"60px\",objectFit:\"cover\",borderRadius:\"50%\",marginRight:\"5px\"}}\r\n                                    alt=\"\"\r\n                                />\r\n                                {\r\n                                    item.name.map(str=>{\r\n                                        if(str[0]===\"#\" && str[str.length-1]===\"#\")\r\n                                        {return <div style={{color:\"cornflowerblue\"}}>{str.slice(1,str.length-1)}</div>}\r\n                                        else {return <div>{str}</div>}\r\n                                    })\r\n                                }\r\n                                {item.alia.length? <div style={{color:\"rgba(0,0,0,0.4)\"}}>({item.alia})</div>:null}\r\n                            </div>\r\n                            <div style={{color:\"rgb(201,38,32)\"}}><UserOutlined /></div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"center\",margin:\"20px 0 20px 0\"}}>\r\n                    <Pagination total={this.state.resNum} pageSize={30} onChange={this.switchPage}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Singers)","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {getAlbums} from \"../../../../../apis/searchPage\";\r\nimport './Albums.css'\r\nimport {Pagination} from \"antd\";\r\n\r\ninterface Album{\r\n    id:number,\r\n    name:string[],\r\n    alia:string,\r\n    coverUrl:string,\r\n    singer:string[],\r\n    singerAlia:string\r\n}\r\n\r\ninterface State{\r\n    keyword:string,\r\n    page:number,\r\n    resNum:number,\r\n    albums:Album[]\r\n}\r\n\r\nclass Albums extends React.Component<any, any>{\r\n    state:State={\r\n        keyword:this.props.match.params.keyword,\r\n        page:1,\r\n        resNum:0,\r\n        albums:[]\r\n    }\r\n\r\n    getInfo=()=>{\r\n        getAlbums(this.state.keyword,(this.state.page-1)*30).then(res=>{\r\n            const reg=new RegExp(this.state.keyword,\"g\")\r\n            this.setState({resNum:res.data.result.albumCount})\r\n            const data=res.data.result.albums\r\n            let start=(data.length<=30)?0:((this.state.page-1)*30)\r\n            let end=start+29\r\n            let album\r\n            while (start<=end && start<data.length)\r\n            {\r\n                album=data[start]\r\n                this.state.albums.push({\r\n                    id:album.id,\r\n                    name:album.name.replace(reg,\"$#\"+this.state.keyword+\"#$\").split(\"$\"),\r\n                    alia:album.alias[0]!==undefined?album.alias[0]:\"\",\r\n                    coverUrl:album.picUrl,\r\n                    singer:album.artist.name.replace(reg,\"$#\"+this.state.keyword+\"#$\").split(\"$\"),\r\n                    singerAlia:album.artist.alias[0]!==undefined?album.artist.alias[0]:\"\"\r\n                })\r\n                start+=1\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    switchPage=(page:number)=>{\r\n        this.setState(()=>({page:page,albums:[]}),()=>{this.getInfo()})\r\n    }\r\n\r\n    getAlbumDetail=(id:number)=>{\r\n        this.props.history.push(\"/album/\"+id)\r\n        //this.props.history.push(\"/user\")\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <span style={{display:\"flex\",fontSize:'25px',fontWeight:\"bolder\",padding:\"5px\"}}>\r\n                    找到{this.state.resNum}张专辑\r\n                </span>\r\n                {\r\n                    this.state.albums.map((item,idx)=>(\r\n                        <div\r\n                            className={idx%2===0?\"searchPageAlbumsRowEven\":\"searchPageAlbumsRowOdd\"}\r\n                            onClick={()=>{this.getAlbumDetail(item.id)}}\r\n                        >\r\n                            <div style={{display:\"flex\",alignItems:\"center\",width:\"50%\"}}>\r\n                                <img\r\n                                    src={item.coverUrl}\r\n                                    style={{width:\"60px\",height:\"60px\",objectFit:\"cover\",borderRadius:\"3px\",marginRight:\"5px\"}}\r\n                                    alt=\"\"\r\n                                />\r\n                                {\r\n                                    item.name.map(str=>{\r\n                                        if(str[0]===\"#\" && str[str.length-1]===\"#\")\r\n                                        {return <div style={{color:\"cornflowerblue\"}}>{str.slice(1,str.length-1)}</div>}\r\n                                        else {return <div>{str}</div>}\r\n                                    })\r\n                                }\r\n                                {item.alia.length? <div style={{color:\"rgba(0,0,0,0.4)\"}}>({item.alia})</div>:null}\r\n                            </div>\r\n                            <div style={{width:\"50%\",display:\"flex\",alignItems:\"center\"}}>\r\n                                {\r\n                                    item.singer.map(str=>{\r\n                                        if(str[0]===\"#\" && str[str.length-1]===\"#\")\r\n                                        {return <div style={{color:\"cornflowerblue\"}}>{str.slice(1,str.length-1)}</div>}\r\n                                        else {return <div>{str}</div>}\r\n                                    })\r\n                                }\r\n                                {item.singerAlia.length? <div style={{color:\"rgba(0,0,0,0.4)\"}}>({item.singerAlia})</div>:null}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"center\",margin:\"20px 0 20px 0\"}}>\r\n                    <Pagination total={this.state.resNum} pageSize={30} onChange={this.switchPage}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Albums)","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {getVideos} from \"../../../../../apis/searchPage\";\r\nimport {Pagination, Tooltip} from \"antd\";\r\nimport {PlayCircleOutlined} from \"@ant-design/icons\";\r\n\r\ninterface Video{\r\n    name:string,\r\n    nameArr:string[],\r\n    playCount:number,\r\n    duration:string,\r\n    creator:string,\r\n    coverUrl:string\r\n}\r\ninterface State{\r\n    keyword:string,\r\n    page:number,\r\n    resNum:number,\r\n    videos:Video[]\r\n}\r\n\r\nclass Videos extends React.Component<any, any>{\r\n    state:State={\r\n        keyword:this.props.match.params.keyword,\r\n        page:1,\r\n        resNum:0,\r\n        videos:[]\r\n    }\r\n\r\n    getInfo=()=>{\r\n        this.setState(()=>({videos:[]}),()=>{\r\n            getVideos(this.state.keyword,(this.state.page-1)*40).then(res=>{\r\n                const reg=new RegExp(this.state.keyword,\"g\")\r\n                this.setState({resNum:res.data.result.videoCount})\r\n                for(let video of res.data.result.videos)\r\n                {\r\n                    this.state.videos.push({\r\n                        name:video.title,\r\n                        nameArr:video.title.replace(reg,\"$#\"+this.state.keyword+\"#$\").split(\"$\"),\r\n                        playCount:video.playTime,//不确定\r\n                        duration:this.getDuration(video.durationms),\r\n                        creator:String(video.creator[0].userName),\r\n                        coverUrl:video.coverUrl\r\n                    })\r\n                }\r\n                this.forceUpdate()\r\n            })\r\n        })\r\n    }\r\n\r\n    getDuration=(time:number)=>{\r\n        time=Math.floor(time/1000)\r\n        let hour=Math.floor(time/3600)\r\n        let min=Math.floor((time-3600*hour)/60)\r\n        let sec=time-3600*hour-60*min\r\n        return String(hour).padStart(2,\"0\")+\":\"+String(min).padStart(2,\"0\")+\":\"+String(sec).padStart(2,\"0\")\r\n    }\r\n\r\n    switchPage=(page:number)=>{\r\n        this.setState(()=>({page:page}),()=>{this.getInfo()})\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <span style={{display:\"flex\",fontSize:'25px',fontWeight:\"bolder\",padding:\"5px\"}}>\r\n                    找到{this.state.resNum}个视频\r\n                </span>\r\n                <div style={{width:\"100%\",display:\"flex\",flexWrap:\"wrap\",alignItems:\"center\"}}>\r\n                    {\r\n                        this.state.videos.map(item=>(\r\n                            <div style={{width:\"25%\",padding:\"10px\",position:\"relative\"}}>\r\n                                <img\r\n                                    src={item.coverUrl}\r\n                                    style={{width:\"100%\",height:\"200px\",objectFit:\"cover\",borderRadius:\"3px\",marginBottom:\"3px\"}}\r\n                                    alt=\"\"\r\n                                />\r\n                                <Tooltip title={item.name}>\r\n                                    <div style={{display:\"flex\",alignItems:\"center\",justifyContent:\"flex-start\",cursor:\"pointer\"}}>\r\n                                            {\r\n                                                item.nameArr.map(str=>{\r\n                                                    if(str[0]===\"#\" && str[str.length-1]===\"#\")\r\n                                                    {\r\n                                                        return <div style={{color:\"cornflowerblue\",whiteSpace:\"nowrap\",wordBreak:\"keep-all\",overflow:\"hidden\",textOverflow:\"ellipsis\"}}>\r\n                                                                    {str.slice(1, str.length-1)}\r\n                                                                </div>\r\n                                                    }\r\n                                                    else {return <div style={{whiteSpace:\"nowrap\",wordBreak:\"keep-all\",overflow:\"hidden\",textOverflow:\"ellipsis\"}}>{str}</div>}\r\n                                                })\r\n                                            }\r\n                                    </div>\r\n                                </Tooltip>\r\n                                <div style={{textAlign:\"start\",color:\"rgba(0,0,0,0.4)\"}}>\r\n                                    by{\"      \"+item.creator}\r\n                                </div>\r\n                                <div style={{display:\"flex\",alignItems:\"center\",position:\"absolute\",top:\"15px\",right:\"15px\",color:\"white\"}}>\r\n                                    <PlayCircleOutlined/>\r\n                                    {\r\n                                        Math.floor(item.playCount/10000)>0?\r\n                                            String(Math.floor(item.playCount/10000))+\"万\":\r\n                                            item.playCount\r\n                                    }\r\n                                </div>\r\n                                <div style={{display:\"flex\",alignItems:\"center\",position:\"absolute\",top:\"185px\",right:\"15px\",color:\"white\"}}>\r\n                                    {item.duration}\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"center\",margin:\"20px 0 20px 0\"}}>\r\n                    <Pagination total={this.state.resNum} pageSize={40} onChange={this.switchPage}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Videos)","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {getSingers, getSongLists} from \"../../../../../apis/searchPage\";\r\nimport './SongLists.css'\r\nimport {PlayCircleOutlined} from \"@ant-design/icons\";\r\nimport {Pagination} from \"antd\";\r\n\r\ninterface SongList{\r\n    id:number,\r\n    name:string[],\r\n    size:number,\r\n    creator:string,\r\n    playCount:number,\r\n    coverUrl:string\r\n}\r\n\r\ninterface State{\r\n    keyword:string,\r\n    page:number,\r\n    resNum:number,\r\n    songLists:SongList[]\r\n}\r\n\r\nclass SongLists extends React.Component<any, any>{\r\n    state:State={\r\n        keyword:this.props.match.params.keyword,\r\n        page:1,\r\n        resNum:0,\r\n        songLists:[]\r\n    }\r\n\r\n    getInfo=()=>{\r\n        this.setState(()=>({songLists:[]}),()=>{\r\n            getSongLists(this.state.keyword,(this.state.page-1)*30).then(res=>{\r\n                const reg=new RegExp(this.state.keyword,\"g\")\r\n                this.setState({resNum:res.data.result.playlistCount})\r\n                console.log(res);\r\n                for(let songlist of res.data.result.playlists)\r\n                {\r\n                    this.state.songLists.push({\r\n                        id:songlist.id,\r\n                        name:songlist.name.replace(reg,\"$#\"+this.state.keyword+\"#$\").split(\"$\"),\r\n                        size:songlist.trackCount,\r\n                        creator:songlist.creator.nickname,\r\n                        playCount:songlist.playCount,\r\n                        coverUrl:songlist.coverImgUrl\r\n                    })\r\n                }\r\n                this.forceUpdate()\r\n            })\r\n        })\r\n    }\r\n\r\n    switchPage=(page:number)=>{\r\n        this.setState(()=>({page:page}),()=>{this.getInfo()})\r\n    }\r\n\r\n    getSongListDetail=(id:number)=>{\r\n        this.props.history.push(\"/song-list/\"+id)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <span style={{display:\"flex\",fontSize:'25px',fontWeight:\"bolder\",padding:\"5px\"}}>\r\n                    找到{this.state.resNum}张歌单\r\n                </span>\r\n                {\r\n                    this.state.songLists.map((item,idx)=>(\r\n                        <div\r\n                            className={idx%2===0?\"searchPageSongListsRowEven\":\"searchPageSongListsRowOdd\"}\r\n                            onClick={()=>{this.getSongListDetail(item.id)}}\r\n                        >\r\n                            <img src={item.coverUrl} style={{width:\"50px\",objectFit:\"cover\",borderRadius:\"3px\",marginRight:\"5px\"}}/>\r\n                            <div style={{width:\"50%\",display:\"flex\",alignItems:\"center\"}}>\r\n                                {\r\n                                    item.name.map(str=>{\r\n                                        if(str[0]===\"#\" && str[str.length-1]===\"#\")\r\n                                        {return <div style={{color:\"cornflowerblue\"}}>{str.slice(1,str.length-1)}</div>}\r\n                                        else {return <div>{str}</div>}\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div style={{color:\"rgba(0,0,0,0.4)\",width:\"10%\"}}>\r\n                                {item.size}首\r\n                            </div>\r\n                            <div style={{color:\"rgba(0,0,0,0.4)\",width:\"20%\",textAlign:\"start\"}}>\r\n                                by{\"     \"+item.creator}\r\n                            </div>\r\n                            <div style={{color:\"rgba(0,0,0,0.4)\",width:\"10%\",display:\"flex\",alignItems:\"center\"}}>\r\n                                <PlayCircleOutlined/>\r\n                                {Math.floor(item.playCount/10000)>0?String(Math.floor(item.playCount/10000))+\"万\":item.playCount}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"center\",margin:\"20px 0 20px 0\"}}>\r\n                    <Pagination total={this.state.resNum} pageSize={30} onChange={this.switchPage}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SongLists)","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {getLyrics, getSingers} from \"../../../../../apis/searchPage\";\r\nimport './Lyrics.css'\r\nimport {HeartOutlined, DownloadOutlined} from \"@ant-design/icons\";\r\nimport {Pagination, Progress} from \"antd\";\r\n\r\ninterface Lyric{\r\n    idx:number,\r\n    songId:number,\r\n    songName:string,\r\n    keyLyric:string[],\r\n    allLyric:string[],\r\n    singer:string,\r\n    album:string,\r\n    duration:string,\r\n    hot:number,\r\n    showAll:boolean\r\n}\r\ninterface State{\r\n    keyword:string,\r\n    page:number,\r\n    resNum:number,\r\n    lyrics:Lyric[],\r\n    maxHot:number,\r\n    showAll:boolean[]\r\n}\r\nclass Lyrics extends React.Component<any, any>{\r\n    state:State={\r\n        keyword:this.props.match.params.keyword,\r\n        page:1,\r\n        resNum:0,\r\n        lyrics:[],\r\n        maxHot:0,\r\n        showAll:[]\r\n    }\r\n\r\n    getInfo=()=>{\r\n        this.setState(()=>({lyrics:[],showAll:[]}),()=>{\r\n            getLyrics(this.state.keyword,(this.state.page-1)*40).then(res=>{\r\n                console.log(res);\r\n                this.setState({resNum:res.data.result.songCount})\r\n                let idx=(this.state.page-1)*40+1\r\n                if(res.data.result.songs)\r\n                {\r\n                    for(let song of res.data.result.songs)\r\n                    {\r\n                        this.state.lyrics.push({\r\n                            idx:idx,\r\n                            songId:song.id,\r\n                            songName:song.name,\r\n                            keyLyric:this.getKeyLyric(song.lyrics.range[0].first,song.lyrics.range[0].second,song.lyrics.txt),\r\n                            allLyric:song.lyrics.txt.split(\"\\n\"),\r\n                            singer:song.artists[0].name,\r\n                            album:song.album.name,\r\n                            duration:this.getDuration(song.duration),\r\n                            hot:song.mark,\r\n                            showAll:false\r\n                        })\r\n                        if(song.mark>this.state.maxHot)\r\n                        {this.setState({maxHot:song.mark})}\r\n                        idx+=1\r\n                    }\r\n                    this.forceUpdate()\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    getKeyLyric(start:number,end:number,txt:string){\r\n        const head=(start-3>=0)?\"...\"+txt.slice(start-3,start):txt.slice(0,start)\r\n        const tail=(end+2<=txt.length-1)?txt.slice(end,end+3)+\"...\":txt.slice(end)\r\n        return [head,txt.slice(start,end),tail]\r\n    }\r\n\r\n    getDuration(time:number){\r\n        time=Math.floor(time/1000)\r\n        const min=Math.floor(time/60)\r\n        const sec=time-min*60\r\n        return String(min).padStart(2,\"0\")+\":\"+String(sec).padStart(2,\"0\")\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    showAllOrKeyLyric(idx:number){\r\n        const row=this.state.lyrics[idx]\r\n        row.showAll=!row.showAll\r\n        this.forceUpdate()\r\n    }\r\n\r\n    copyLyric(idx:number){\r\n        navigator.clipboard.writeText(this.state.lyrics[idx].allLyric.join().replace(/,/g,\"\\n\"))\r\n            .then(()=>{alert(\"复制成功！\")})\r\n    }\r\n\r\n    switchPage=(page:number)=>{\r\n        if(page<3) {this.setState(()=>({page:page}),()=>{this.getInfo()})}\r\n        else {alert(\"无查看权限\")}\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <span style={{display:\"flex\",fontSize:'25px',fontWeight:\"bolder\",padding:\"5px\"}}>\r\n                    找到{this.state.resNum}首歌词\r\n                </span>\r\n                <div className=\"searchPageLyricsRowOdd\">\r\n                    <div style={{width:'10%'}}/>\r\n                    <div style={{width: \"30%\",textAlign:\"start\"}}>音乐标题</div>\r\n                    <div style={{width: \"10%\",textAlign:\"start\"}}>歌手</div>\r\n                    <div style={{width: \"10%\",textAlign:\"start\"}}>专辑</div>\r\n                    <div style={{width: \"10%\"}}>时长</div>\r\n                    <div style={{width: \"5%\"}}>热度</div>\r\n                </div>\r\n                {\r\n                    this.state.lyrics.map((item,idx)=>(\r\n                        <div className={idx%2===0?\"searchPageLyricsRowEven\":\"searchPageLyricsRowOdd\"} key={item.songId}>\r\n                            <div style={{width:\"10%\",display:\"flex\",justifyContent:\"space-evenly\", color:\"rgba(0,0,0,0.4)\"}}>\r\n                                {item.idx}\r\n                                <div><HeartOutlined/></div>\r\n                                <div><DownloadOutlined/></div>\r\n                            </div>\r\n                            <div style={{width:\"30%\"}}>\r\n                                <div style={{textAlign:\"start\"}}>{item.songName}</div>\r\n                                <div style={{display:\"flex\",alignItems:\"center\"}}>\r\n                                    <div style={{color:\"rgba(0,0,0,0.4)\"}}>{item.keyLyric[0]}</div>\r\n                                    <div style={{color:\"cornflowerblue\"}}>{item.keyLyric[1]}</div>\r\n                                    <div style={{color:\"rgba(0,0,0,0.4)\"}}>{item.keyLyric[2]}</div>\r\n                                </div>\r\n                                {\r\n                                    item.showAll?\r\n                                        item.allLyric.map(str=>(<div style={{textAlign:\"start\"}}>{str}</div>))\r\n                                        :null\r\n                                }\r\n                                <div style={{display:\"none\"}} className=\"copyLyric\">{item.allLyric}</div>\r\n                            </div>\r\n                            <div style={{width:'10%',textAlign:\"start\",color:\"rgba(0,0,0,0.4)\"}}>{item.singer}</div>\r\n                            <div style={{width:'10%',textAlign:\"start\",color:\"rgba(0,0,0,0.4)\"}}>{item.album}</div>\r\n                            <div style={{width:'10%'}}>\r\n                                <div style={{color:\"rgba(0,0,0,0.4)\"}}>{item.duration}</div>\r\n                                <div className=\"searchPageLyricsButton\" onClick={()=>{this.showAllOrKeyLyric(idx)}}>\r\n                                    {item.showAll?'收起歌词':'展开歌词'}\r\n                                </div>\r\n                                <div className=\"searchPageLyricsButton\" onClick={()=>{this.copyLyric(idx)}}>复制歌词</div>\r\n                            </div>\r\n                            <div style={{width:\"5%\"}}>\r\n                                <Progress\r\n                                    percent={Math.ceil(100*item.hot/this.state.maxHot)}\r\n                                    showInfo={false}\r\n                                    strokeColor=\"rgb(201,38,32)\"\r\n                                    trailColor=\"rgba(0,0,0,0.2)\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"center\",margin:\"20px 0 20px 0\"}}>\r\n                    <Pagination total={this.state.resNum} pageSize={40} onChange={this.switchPage}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Lyrics)","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {getSingers, getUsers} from \"../../../../../apis/searchPage\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport './Users.css'\r\nimport {ManOutlined, WomanOutlined} from \"@ant-design/icons\";\r\nimport {Pagination} from \"antd\";\r\n\r\ninterface User{\r\n    id:number,\r\n    name:string[],\r\n    gender:number,\r\n    tag:string,\r\n    avatarUrl:string\r\n}\r\ninterface State{\r\n    keyword:string,\r\n    page:number,\r\n    resNum:number,\r\n    users:User[]\r\n}\r\n\r\nclass Users extends React.Component<any, any>{\r\n    state:State={\r\n        keyword:this.props.match.params.keyword,\r\n        page:1,\r\n        resNum:0,\r\n        users:[]\r\n    }\r\n\r\n    getInfo=()=>{\r\n        this.setState(()=>({users:[]}),()=>{\r\n            getUsers(this.state.keyword,(this.state.page-1)*30).then(res=>{\r\n                const reg=new RegExp(this.state.keyword,\"g\")\r\n                if(this.state.resNum===0 && this.state.resNum!==res.data.result.userprofileCount)\r\n                {this.setState({resNum:res.data.result.userprofileCount})}\r\n                console.log(res);\r\n                for(let user of res.data.result.userprofiles)\r\n                {\r\n                    this.state.users.push({\r\n                        id:user.userId,\r\n                        name:user.nickname.replace(reg,\"$#\"+this.state.keyword+\"#$\").split(\"$\"),\r\n                        gender:user.gender,\r\n                        tag:user.description,\r\n                        avatarUrl:user.avatarUrl//有可能使用默认头像\r\n                    })\r\n                }\r\n                console.log(this.state.users);\r\n                this.forceUpdate()\r\n            })\r\n        })\r\n    }\r\n\r\n    switchPage=(page:number)=>{\r\n        this.setState(()=>({page:page}),()=>{this.getInfo()})\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <span style={{display:\"flex\",fontSize:'25px',fontWeight:\"bolder\",padding:\"5px\"}}>\r\n                    找到{this.state.resNum}位用户\r\n                </span>\r\n                {\r\n                    this.state.users.map((item,idx)=>(\r\n                        <div className={idx%2===0?\"searchPageUsersRowEven\":\"searchPageUsersRowOdd\"}>\r\n                            <div style={{display:\"flex\",alignItems:\"center\"}}>\r\n                                <img\r\n                                    src={item.avatarUrl}\r\n                                    style={{width:\"60px\",height:\"60px\",objectFit:\"cover\",borderRadius:\"50%\",marginRight:\"5px\"}}\r\n                                    alt=\"\"\r\n                                />\r\n                                {\r\n                                    item.name.map(str=>{\r\n                                        if(str[0]===\"#\" && str[str.length-1]===\"#\")\r\n                                        {return <div style={{color:\"cornflowerblue\"}}>{str.slice(1,str.length-1)}</div>}\r\n                                        else {return <div>{str}</div>}\r\n                                    })\r\n                                }\r\n                                {item.gender===1?<div style={{color:\"cornflowerblue\",marginLeft:\"5px\"}}><ManOutlined/></div>:null}\r\n                                {item.gender===2?<div style={{color:\"pink\",marginLeft:\"5px\"}}><WomanOutlined/></div>:null}\r\n                            </div>\r\n                            <div style={{color:\"rgba(0,0,0,0.4)\"}}>{item.tag}</div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"center\",margin:\"20px 0 20px 0\"}}>\r\n                    <Pagination total={this.state.resNum} pageSize={30} onChange={this.switchPage}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Users)","import React from \"react\";\r\nimport \"./SearchPage.css\"\r\nimport MenuBar from \"./MenuBar/MenuBar\";\r\nimport {playMusicEvent} from \"../MainPage\";\r\nimport {Route, Redirect,withRouter} from \"react-router-dom\";\r\nimport Singles from \"./Singles/Singles\";\r\nimport Singers from \"./Singers/Singers\";\r\nimport Albums from \"./Albums/Albums\";\r\nimport Videos from \"./Videos/Videos\";\r\nimport SongLists from \"./SongLists/SongLists\";\r\nimport Lyrics from \"./Lyrics/Lyrics\";\r\nimport Users from \"./Users/Users\";\r\nimport {updateKeyword} from \"../../common/NavBar/NavBar\";\r\n\r\ninterface State{\r\n    keyword:string\r\n    row:number\r\n    subPage:string\r\n}\r\nclass SinglesWithEvent extends React.Component<any, any>{\r\n    render() {\r\n        return (<Singles playMusicEvent={playMusicEvent}/>)\r\n    }\r\n}\r\n\r\nclass SearchPage extends React.Component<any, any>{\r\n    state:State={\r\n        keyword:this.props.match.params.keyword,\r\n        row:this.props.match.params.selectedRow,\r\n        subPage:\"singles\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        updateKeyword.addListener(\"update\",(keyword:string,subPage:string)=>{\r\n            this.setState({keyword:keyword, row:Infinity, subPage:subPage})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.location.pathname,this.state.keyword);\r\n        return (\r\n            <div id=\"searchRoot\" style={{width:\"100%\", overflowY:\"scroll\"}}>\r\n                <MenuBar keyword={this.state.keyword}/>\r\n                <Route path=\"/search/singles/:keyword\" component={SinglesWithEvent}/>\r\n                <Route path=\"/search/singers/:keyword\" component={Singers}/>\r\n                <Route path=\"/search/albums/:keyword\" component={Albums}/>\r\n                <Route path=\"/search/videos/:keyword\" component={Videos}/>\r\n                <Route path=\"/search/song-lists/:keyword\" component={SongLists}/>\r\n                <Route path=\"/search/lyrics/:keyword\" component={Lyrics}/>\r\n                <Route path=\"/search/users/:keyword\" component={Users}/>\r\n                {\r\n                    this.props.location.pathname===\"/search/\"+this.state.keyword+\"/\"+this.state.row?\r\n                        <Redirect to={\"/search/\"+this.state.subPage+\"/\"+this.state.keyword}/>:null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchPage)","import request from \"./request\";\r\n\r\nexport function getLyric(id:number){\r\n    return request({\r\n        url:\"/lyric?id=\"+id,\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function getDetail(id:number){\r\n    return request(\r\n        {\r\n            url:\"/song/detail?ids=\"+id,\r\n            method:'get'\r\n        }\r\n    )\r\n}\r\n\r\nexport function getSimilarSongs(id:number){\r\n    return request(\r\n        {\r\n            url:\"/simi/song?id=\"+id,\r\n            method:'get'\r\n        }\r\n    )\r\n}\r\n\r\nexport function getComments(id:number,offset:number){\r\n    return request(\r\n        {\r\n            url:\"/comment/music?limit=10&id=\"+id+\"&offset=\"+offset,\r\n            method:'get'\r\n        }\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {getLyric,getDetail,getSimilarSongs,getComments} from \"../../../../apis/detailPage\";\r\nimport './DetailPage.css'\r\nimport {LikeOutlined, ShareAltOutlined, CommentOutlined} from '@ant-design/icons'\r\nimport {Divider, Pagination, Tooltip} from 'antd';\r\nimport {withRouter} from \"react-router\";\r\nimport {getSongUrl, isSongValid} from \"../../../../apis/songListDetailPage\";\r\nimport {playSingleSong} from \"../MainPage\";\r\n\r\ninterface SimilarSong{\r\n    title:string,\r\n    picUrl:string,\r\n    songUrl:string,\r\n    id:number\r\n}\r\ninterface Comment{\r\n    user:string,\r\n    avatar:string,\r\n    comment:string,\r\n    time:string,\r\n    likeCount:number,\r\n    replyUser:string,\r\n    replyComment:string\r\n}\r\ninterface State{\r\n    curID:number,\r\n    lyrics:string[],\r\n    timePoints:number[],\r\n    curIdx:number,\r\n    songName:string,\r\n    songAlia:string,\r\n    singer:string,\r\n    singerAlia:string,\r\n    picUrl:string,\r\n    similarSongs:SimilarSong[],\r\n    curPage:number,\r\n    commentsNum:number,\r\n    comments:Comment[],\r\n    isUpdate:boolean\r\n}\r\nclass DetailPage extends React.Component<any, any>{\r\n   state:State={\r\n       curID:this.props.match.params.id,\r\n       lyrics:[\"\"],\r\n       timePoints:[0],\r\n       curIdx:0,\r\n       songName:\"\",\r\n       songAlia:\"\",\r\n       singer:\"\",\r\n       singerAlia:\"\",\r\n       picUrl:\"\",\r\n       similarSongs:[],\r\n       curPage:1,\r\n       commentsNum:0,\r\n       comments:[],\r\n       isUpdate:false\r\n   }\r\n\r\n   getLyrics=()=>{\r\n       getLyric(this.state.curID).then(res=>{\r\n           const data=res.data.lrc.lyric.split(\"\\n\")\r\n           data.pop()\r\n           for(let lyric of data)\r\n           {\r\n               this.state.lyrics.push(lyric.slice(lyric.search(\"]\")+1))\r\n               this.state.timePoints.push(this.getTimePoints(lyric))\r\n           }\r\n           this.forceUpdate()\r\n       })\r\n   }\r\n\r\n   getOtherInfo=()=>{\r\n       getDetail(this.state.curID).then(res=>{\r\n           const data=res.data.songs[0]\r\n           this.setState({\r\n               songName:data.al.name,\r\n               songAlia:(data.alia[0]===undefined)?\"\":data.alia[0],\r\n               singer:data.ar[0].name,\r\n               singerAlia:(data.ar[0].alias.length)?data.ar[0].alias[0]:\"\",\r\n               picUrl:data.al.picUrl\r\n           })\r\n       })\r\n\r\n       getSimilarSongs(this.state.curID).then(res=>{\r\n           let idx=1\r\n           for(let song of res.data.songs)\r\n           {\r\n               if(idx===5)break\r\n               this.state.similarSongs.push({\r\n                   title:song.name+((song.alias.length)?(\"(\"+song.alias[0]+\")\"):\"\")+\"-\"+song.artists[0].name,\r\n                   picUrl:song.album.picUrl,\r\n                   songUrl:song.mp3Url,\r\n                   id:song.id\r\n               })\r\n               idx+=1\r\n           }\r\n       })\r\n\r\n       getComments(this.state.curID,this.state.curPage-1).then(res=>{\r\n           this.setState({commentsNum:res.data.total})\r\n           this.getCurComments(res)\r\n       })\r\n   }\r\n\r\n    componentDidMount() {\r\n        if(this.state.lyrics.length===1) {this.getLyrics()}\r\n        this.getOtherInfo()\r\n        this.props.playWithLyricsEvent.addListener(\"updateLyric\",(curTime:number)=>{\r\n            let i=0\r\n            while (this.state.timePoints[i]<curTime) {i+=1}\r\n            this.setState({curIdx:i-1})\r\n        })\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\r\n       if(this.state.isUpdate)\r\n       {\r\n           this.getLyrics()\r\n           this.getOtherInfo()\r\n           this.setState({isUpdate:false})\r\n       }\r\n    }\r\n\r\n    getTimePoints=(lyric:string)=>{\r\n        const time=lyric.slice(1,lyric.search(\"]\")).split(\":\")\r\n        return time.map((v,k)=>(Math.pow(60,time.length-1-k)*Number(v))).reduce((a,b)=>(a+b))\r\n    }\r\n\r\n    getCurComments=(res:any)=>{\r\n       this.setState({comments:[]})\r\n        for(let comment of res.data.comments)\r\n        {\r\n            this.state.comments.push(\r\n                {\r\n                    user:comment.user.nickname,\r\n                    avatar:comment.user.avatarUrl,\r\n                    comment:comment.content,\r\n                    time:comment.timeStr,\r\n                    likeCount:comment.likedCount,\r\n                    replyUser:(comment.beReplied.length)?(comment.beReplied[0].user.nickname):\" \",\r\n                    replyComment:(comment.beReplied.length)?(comment.beReplied[0].content):\" \"\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    switchPage=(targetPage:number)=>{\r\n       getComments(this.state.curID,(targetPage-1)*10).then(res=>{\r\n           this.getCurComments(res)\r\n           console.log(this.state.comments.length);\r\n           this.forceUpdate()\r\n       })\r\n    }\r\n\r\n    play=(id:number)=>{\r\n        isSongValid(id).then(()=>{\r\n            getSongUrl(id).then(res=>{\r\n                playSingleSong.emit(\"play\", id, res.data.data[0].url, \"$another-song\")\r\n                //this.props.history.push(\"/detail/\"+id+\"/$another-song\")\r\n                this.setState(()=>({curID:id,isUpdate:true,lyrics:[],similarSongs:[],comments:[]}),()=>{this.forceUpdate()})\r\n            })\r\n        },()=>{alert(\"没有播放源\")})\r\n    }\r\n\r\n\r\n    render() {\r\n        let curIdx=this.state.curIdx\r\n        let head=Array(4).fill(0).map((v,k)=>{return (curIdx-(4-k)>=0)?this.state.lyrics[curIdx-(4-k)]:\"\"})\r\n        let cur=this.state.lyrics[curIdx]\r\n        let tail=Array(4).fill(0).map((v,k)=>{return (curIdx+(k+1)<this.state.lyrics.length)?this.state.lyrics[curIdx+(k+1)]:\"\"})\r\n        return (\r\n            <div\r\n                style={{width:\"100%\",overflowY:\"scroll\",display:\"flex\",flexWrap:\"wrap\",justifyContent:\"center\"}}\r\n                key={this.props.location.key}\r\n            >\r\n                <div id=\"detailPageMusicInfo\">\r\n                    <div id=\"detailPageMusicImg\">\r\n                        <div style={{width:\"250px\",height:\"250px\",borderRadius:\"50%\",backgroundColor:\"black\"\r\n                                ,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                            <img\r\n                                alt=\"\"\r\n                                src={this.state.picUrl}\r\n                                style={{width:\"200px\",height:\"200px\",objectFit:\"cover\",borderRadius:\"50%\"}}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{fontSize:\"30px\"}}>\r\n                            {this.state.songAlia.length?this.state.songName+\"(\"+this.state.songAlia+\")\":this.state.songName}\r\n                        </div>\r\n                        <div style={{fontSize:\"15px\",color:\"dimgray\",marginBottom:'50px'}}>\r\n                            {this.state.singerAlia.length?this.state.singer+'-'+this.state.singerAlia:this.state.singer}\r\n                        </div>\r\n                        <div id=\"detailPageMusicLyrics\">\r\n                            {head.map((item,k) => (<div key={\"head\"+k} className=\"detailPageLyricsItem\">{item}</div>))}\r\n                            {cur!==undefined?<div className=\"detailPageLyricCur\">{cur}</div>:null}\r\n                            {tail.map((item,k)=> (<div key={\"tail\"+k} className=\"detailPageLyricsItem\">{item}</div>))}\r\n                        </div>\r\n                    </div>\r\n                    <div style={{width:\"20vw\",height:\"200px\",display:\"flex\",flexDirection:\"column\", alignItems:\"flex-start\"}}>\r\n                        <div>播放来源：搜索页</div>\r\n                        <div style={{fontWeight:\"bolder\",marginTop:\"20px\"}}>喜欢这首歌的人也喜欢听</div>\r\n                        {\r\n                            this.state.similarSongs.map(item=>(\r\n                                <div\r\n                                    onClick={()=>{this.play(item.id)}}\r\n                                    className=\"detailPageSimilarSong\"\r\n                                >\r\n                                    <img src={item.picUrl} style={{width:\"30px\",height:\"30px\",borderRadius:\"3px\",objectFit:\"cover\"}}/>\r\n                                    <div style={{marginLeft:\"5px\",textAlign:\"start\",width:\"300px\", whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\",wordBreak:\"keep-all\"}}>\r\n                                        <Tooltip title={item.title}>\r\n                                            {item.title}\r\n                                        </Tooltip>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div id=\"detailPageComments\" style={{width:\"60%\"}}>\r\n                    <div style={{fontWeight:\"bolder\",fontSize:'20px',display:\"flex\"}}>\r\n                        全部评论({this.state.commentsNum})\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            this.state.comments.map((item,k)=>(\r\n                                <div style={{margin:\"30px\",display:\"flex\"}}>\r\n                                    <img\r\n                                        src={item.avatar}\r\n                                        alt=\"\"\r\n                                        style={{width:\"30px\",height:\"30px\",objectFit:\"cover\",borderRadius:\"50%\",margin:\"10px\"}}\r\n                                    />\r\n                                    <div style={{width:\"100%\"}}>\r\n                                        <div style={{width:\"100%\",display:\"flex\",justifyContent:\"flex-start\", flexWrap:\"wrap\",\r\n                                            marginBottom:\"6px\"}}>\r\n                                            <div style={{color:\"cornflowerblue\"}}>{item.user}:</div>\r\n                                            <div style={{textAlign:\"start\"}}>{item.comment}</div>\r\n                                        </div>\r\n                                        {\r\n                                            item.replyUser!==\" \"?\r\n                                                <div style={{width:\"100%\",display:\"flex\", justifyContent:\"flex-start\",\r\n                                                    flexWrap:\"wrap\",backgroundColor:\"rgba(0,0,0,0.05)\",borderRadius:\"6px\",\r\n                                                    padding:\"6px\"\r\n                                                }}>\r\n                                                    <div style={{color:\"cornflowerblue\"}}>@{item.replyUser}:</div>\r\n                                                    <div style={{textAlign:\"start\"}}>{item.replyComment}</div>\r\n                                                </div>:null\r\n                                        }\r\n                                        <div style={{width:\"100%\",display:\"flex\",justifyContent:\"space-between\",color:\"gray\",\r\n                                            marginTop:\"6px\"}}>\r\n                                            <div>{item.time}</div>\r\n                                            <div style={{display:\"flex\",alignItems:\"center\"}}>\r\n                                                <LikeOutlined/>\r\n                                                {item.likeCount>0?item.likeCount:null}\r\n                                                <div style={{color:\"lightgrey\",marginLeft:\"5px\",marginRight:\"5px\"}}>|</div>\r\n                                                <ShareAltOutlined />\r\n                                                <div style={{color:\"lightgrey\",marginLeft:\"5px\",marginRight:\"5px\"}}>|</div>\r\n                                                <CommentOutlined />\r\n                                            </div>\r\n                                        </div>\r\n                                        {k!==9? <Divider/>:null}\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div style={{width:\"100%\",margin:\"20px\"}}>\r\n                    <Pagination\r\n                        total={this.state.commentsNum}\r\n                        defaultPageSize={10}\r\n                        defaultCurrent={1}\r\n                        onChange={this.switchPage}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(DetailPage)","import React from \"react\";\r\nimport {getSongListDetailInfo} from \"../../../../../apis/songListDetailPage\";\r\nimport \"./Header.css\"\r\nimport {PlayCircleFilled, PlusOutlined, FileAddOutlined, ShareAltOutlined,\r\n    DownloadOutlined, CaretDownOutlined, CaretUpOutlined } from \"@ant-design/icons\";\r\n\r\ninterface State{\r\n    id:number,\r\n    imgUrl:string,\r\n    title:string,\r\n    creator:string,\r\n    creatorImg:string,\r\n    createTime:string,\r\n    tag:string[],\r\n    songsCount:number,\r\n    playCount:number,\r\n    subscribeCount:number,\r\n    shareCount:number,\r\n    description:string,\r\n    descriptionAbstractRef:any,\r\n    descriptionFullRef:any\r\n}\r\nclass Header extends React.Component<any, any>{\r\n    state:State={\r\n        id:this.props.id,\r\n        imgUrl:\"\",\r\n        title:\"\",\r\n        creator:\"\",\r\n        creatorImg:\"\",\r\n        createTime:\"\",\r\n        tag:[],\r\n        songsCount:0,\r\n        playCount:0,\r\n        subscribeCount:0,\r\n        shareCount:0,\r\n        description:\"\",\r\n        descriptionAbstractRef:React.createRef(),\r\n        descriptionFullRef:React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        getSongListDetailInfo(this.state.id).then(res=>{\r\n            const data=res.data.playlist\r\n            console.log(data);\r\n            this.setState(()=>({\r\n                imgUrl:data.coverImgUrl,\r\n                title:data.name,\r\n                creator:data.creator.nickname,\r\n                creatorImg:data.creator.avatarUrl,\r\n                createTime:this.getCreateTime(data.createTime),\r\n                tag:data.tags,\r\n                songsCount:data.trackIds.length,\r\n                playCount:data.playCount,\r\n                subscribeCount:data.subscribedCount,\r\n                shareCount:data.shareCount,\r\n                description:(data.description!==undefined && data.description!==null)?data.description:\"\"\r\n            }),()=>{this.forceUpdate()})\r\n        })\r\n    }\r\n\r\n    getCreateTime=(time:number)=>{\r\n        const Time=new Date(time)\r\n        return Time.getFullYear()+\"年\"+Time.getMonth()+\"月\"+Time.getDate()+\"日\"\r\n    }\r\n\r\n    showFullDescription=()=>{\r\n        const abstract=this.state.descriptionAbstractRef\r\n        abstract.current.style.display=\"none\"\r\n        const full=this.state.descriptionFullRef\r\n        full.current.style.display=\"block\"\r\n    }\r\n\r\n    showAbstractDescription=()=>{\r\n        const abstract=this.state.descriptionAbstractRef\r\n        abstract.current.style.display=\"flex\"\r\n        const full=this.state.descriptionFullRef\r\n        full.current.style.display=\"none\"\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\",display:\"flex\",alignItems:\"flex-start\"}}>\r\n                <img src={this.state.imgUrl} style={{width:\"20%\",objectFit:\"cover\",borderRadius:\"6px\",marginRight:\"10px\"}}/>\r\n                <div style={{width:\"68%\"}}>\r\n                    <div className=\"songListPageHeaderRow\">\r\n                        <div style={{padding:\"0 5px 0 5px\", color:\"rgb(201,38,32)\",marginRight:\"6px\",\r\n                                     border:\"rgb(201,38,32) solid 0.05px\",borderRadius:\"3px\"}}>\r\n                            歌单\r\n                        </div>\r\n                        <div style={{fontSize:\"25px\",fontWeight:\"bolder\"}}>{this.state.title}</div>\r\n                    </div>\r\n                    <div className=\"songListPageHeaderRow\">\r\n                        <img src={this.state.creatorImg} style={{width:\"40px\",objectFit:\"cover\",borderRadius:\"50%\"}}/>\r\n                        <div style={{color:\"cornflowerblue\",margin:\"0 10px 0 3px\"}}>{this.state.creator}</div>\r\n                        <div style={{color:\"rgba(0,0,0,0.4)\"}}>{this.state.createTime}创建</div>\r\n                    </div>\r\n                    <div className=\"songListPageHeaderRow\">\r\n                        <div className=\"songListPageHeaderButtonSelected\">\r\n                            <PlayCircleFilled/>\r\n                            播放全部\r\n                            <PlusOutlined/>\r\n                        </div>\r\n                        <div className=\"songListPageHeaderButton\">\r\n                            <FileAddOutlined/>\r\n                            收藏({this.state.subscribeCount})\r\n                        </div>\r\n                        <div className=\"songListPageHeaderButton\">\r\n                            <ShareAltOutlined/>\r\n                            分享({this.state.shareCount})\r\n                        </div>\r\n                        <div className=\"songListPageHeaderButton\">\r\n                            <DownloadOutlined/>\r\n                            下载全部\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"songListPageHeaderRow\">\r\n                        标签：\r\n                        {this.state.tag.map((item,idx)=>(\r\n                            <>\r\n                                {\r\n                                    idx!==this.state.tag.length-1?\r\n                                        <div style={{display:\"flex\"}}><div style={{color:\"cornflowerblue\"}}>{item}</div>/</div>:\r\n                                        <div style={{color:\"cornflowerblue\"}}>{item}</div>\r\n                                }\r\n                            </>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"songListPageHeaderRow\">\r\n                        <div style={{marginRight:\"20px\"}}>歌曲：{this.state.songsCount}</div>\r\n                        播放：{Math.floor(this.state.playCount/10000)}万\r\n                    </div>\r\n                    <div className=\"songListPageHeaderRow\">\r\n                        简介：\r\n                        {\r\n                            this.state.description.length<=100?\r\n                                <>{this.state.description}</>:\r\n                                <div style={{display:\"flex\"}} ref={this.state.descriptionAbstractRef}>\r\n                                    {this.state.description.slice(0,11)+\"...\"}\r\n                                    <CaretDownOutlined onClick={this.showFullDescription}  style={{color:\"rgb(201,38,32)\"}}/>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                    <div\r\n                        className=\"songListPageHeaderRow\"\r\n                         style={{display:\"none\",textAlign:\"start\"}}\r\n                         ref={this.state.descriptionFullRef}\r\n                    >\r\n                        {this.state.description.split(\"\\n\").map(paragraph=>(<div style={{textAlign:\"start\"}}>{paragraph}</div>))}\r\n                        <CaretUpOutlined onClick={this.showAbstractDescription} style={{color:\"rgb(201,38,32)\"}}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\nimport {getSongIDs,getSongUrl,isSongValid} from \"../../../../../apis/songListDetailPage\";\r\nimport {HeartOutlined, DownloadOutlined} from \"@ant-design/icons\";\r\nimport './Songs.css'\r\nimport {playMusicOfSongList} from \"../../MainPage\";\r\n\r\ninterface Song{\r\n    id:number,\r\n    idx:number,\r\n    title:string,\r\n    alia:string,\r\n    singer:string,\r\n    album:string,\r\n    duration:string\r\n}\r\ninterface State{\r\n    id:number\r\n    songs:Song[]\r\n    selectedRow:number,\r\n    rows:any\r\n}\r\nclass Songs extends React.Component<any, any>{\r\n    state:State={\r\n        id:this.props.match.params.id,\r\n        songs:[],\r\n        selectedRow:this.props.match.params.selectedRow!==undefined?this.props.match.params.selectedRow:-1,\r\n        rows:React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        /*if(this.state.selectedRow!==-1)\r\n        {\r\n            const row=this.state.rows.current.children[this.state.selectedRow]\r\n            row.style.backgroundColor=\"rgba(0,0,0,0.15)\"\r\n        }*/\r\n\r\n        getSongIDs(this.state.id).then(res=>{\r\n            let idx=1\r\n            for(let song of res.data.songs)\r\n            {\r\n                this.state.songs.push({\r\n                    id:song.id,\r\n                    idx:idx,\r\n                    title:song.name,\r\n                    alia:song.alia[0]!==undefined?song.alia[0]:\"\",\r\n                    singer:song.ar[0].name,\r\n                    album:song.al.name,\r\n                    duration:this.getDuration(song.dt),\r\n                })\r\n                idx+=1\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    getDuration=(time:number)=>{\r\n        time=Math.floor(time/1000)\r\n        const min=Math.floor(time/60)\r\n        const sec=time-min*60\r\n        return String(min).padStart(2,\"0\")+\":\"+String(sec).padStart(2,\"0\")\r\n    }\r\n\r\n    playMusic=(id:number,rowIdx:number)=>{\r\n        isSongValid(id).then(()=>{\r\n            getSongUrl(id).then(res=>{\r\n                    //选中行改变样式\r\n                    if(this.state.selectedRow!==-1)\r\n                    {\r\n                        //console.log(\"last\",this.state.selectedRow);\r\n                        const last=this.state.rows.current.children[this.state.selectedRow]\r\n                        last.style.backgroundColor=(this.state.selectedRow%2===0)?\"rgba(0,0,0,0.05)\":\"white\"\r\n                    }\r\n                    this.setState(()=>({selectedRow:rowIdx-1}),()=>{\r\n                        //console.log(\"cur\",this.state.selectedRow);\r\n                        const cur=this.state.rows.current.children[this.state.selectedRow]\r\n                        cur.style.backgroundColor=\"rgba(0,0,0,0.15)\"\r\n                    })\r\n                    //播放\r\n                    playMusicOfSongList.emit(\"play\",id, res.data.data[0].url,this.state.id)\r\n\r\n            })\r\n        },()=>{alert(\"暂无播放源\")})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <div style={{width:\"100%\",display:\"flex\",alignItems:\"center\",margin:\"10px 0 10px 0\"}}>\r\n                    <div style={{width:\"10%\"}}/>\r\n                    <div style={{width:\"30%\",display:\"flex\"}}>标题</div>\r\n                    <div style={{width:\"20%\",display:\"flex\"}}>歌手</div>\r\n                    <div style={{width:\"30%\",display:\"flex\"}}>专辑</div>\r\n                    <div style={{width:\"10%\",display:\"flex\"}}>时长</div>\r\n                </div>\r\n                <div style={{width:\"100%\",margin:\"10px 0 10px 0\"}} ref={this.state.rows}>\r\n                    {\r\n                        this.state.songs.map((item,idx)=>(\r\n                            <div\r\n                                className={idx%2===0?\"SongListPageSongsEvenRow\":\"SongListPageSongsOddRow\"}\r\n                                onClick={()=>{this.playMusic(item.id,item.idx)}}\r\n                            >\r\n                                <div style={{width:\"2%\",color:\"rgba(0,0,0,0.4)\"}}>{item.idx}</div>\r\n                                <div style={{width:\"8%\",color:\"rgba(0,0,0,0.4)\",display:\"flex\",\r\n                                             alignItems:\"center\",justifyContent:\"space-evenly\"}}>\r\n                                    <HeartOutlined/>\r\n                                    <DownloadOutlined/>\r\n                                </div>\r\n                                <div style={{width:\"30%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                    {item.title}\r\n                                </div>\r\n                                <div style={{width:\"20%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                    {item.singer}\r\n                                </div>\r\n                                <div style={{width:\"30%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                    {item.album}\r\n                                </div>\r\n                                <div style={{width:\"10%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                    {item.duration}\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Songs","import React from \"react\";\r\nimport {getComments, getSongListDetailInfo} from \"../../../../../apis/songListDetailPage\";\r\nimport {CommentOutlined, LikeOutlined, ShareAltOutlined} from \"@ant-design/icons\";\r\nimport {Divider, Pagination} from \"antd\";\r\n\r\ninterface Comment{\r\n    user:string,\r\n    avatar:string,\r\n    comment:string,\r\n    time:string,\r\n    likeCount:number,\r\n    replyUser:string,\r\n    replyComment:string\r\n}\r\ninterface State{\r\n    id:number,\r\n    comments:Comment[],\r\n    commentsNum:number,\r\n    curPage:number\r\n}\r\nclass Comments extends React.Component<any, any>{\r\n    state:State={\r\n        id:this.props.match.params.id,\r\n        comments:[],\r\n        commentsNum:0,\r\n        curPage:1\r\n    }\r\n    componentDidMount() {\r\n        this.getCurComments()\r\n        getSongListDetailInfo(this.state.id).then(res=>{\r\n            this.setState({commentsNum:res.data.playlist.commentCount})\r\n        })\r\n    }\r\n\r\n    getCurComments=()=>{\r\n        getComments(this.state.id,(this.state.curPage-1)*10).then(res=>{\r\n            for(let comment of res.data.comments)\r\n            {\r\n                this.state.comments.push({\r\n                    user:comment.user.nickname,\r\n                    avatar:comment.user.avatarUrl,\r\n                    comment:comment.content,\r\n                    time:comment.timeStr,\r\n                    likeCount:comment.likeCount,\r\n                    replyUser:comment.beReplied.length?comment.beReplied[0].user.nickname:\" \",\r\n                    replyComment:comment.beReplied.length?comment.beReplied[0].content:\" \"\r\n                })\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    switchPage=(targetPage:number)=>{\r\n        this.setState(()=>({curPage:targetPage,comments:[]}),()=>{this.getCurComments()})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\",display:\"flex\",flexWrap:\"wrap\"}}>\r\n                {\r\n                    this.state.comments.map((item,k)=>(\r\n                        <div style={{width:\"100%\",margin:\"30px\",display:\"flex\"}}>\r\n                            <img\r\n                                src={item.avatar}\r\n                                alt=\"\"\r\n                                style={{width:\"30px\",height:\"30px\",objectFit:\"cover\",borderRadius:\"50%\",margin:\"10px\"}}\r\n                            />\r\n                            <div style={{width:\"100%\"}}>\r\n                                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"flex-start\", flexWrap:\"wrap\",\r\n                                    marginBottom:\"6px\"}}>\r\n                                    <div style={{color:\"cornflowerblue\"}}>{item.user}:</div>\r\n                                    <div style={{textAlign:\"start\"}}>{item.comment}</div>\r\n                                </div>\r\n                                {\r\n                                    item.replyUser!==\" \"?\r\n                                        <div style={{width:\"100%\",display:\"flex\", justifyContent:\"flex-start\",\r\n                                            flexWrap:\"wrap\",backgroundColor:\"rgba(0,0,0,0.05)\",borderRadius:\"6px\",\r\n                                            padding:\"6px\"\r\n                                        }}>\r\n                                            <div style={{color:\"cornflowerblue\"}}>@{item.replyUser}:</div>\r\n                                            <div style={{textAlign:\"start\"}}>{item.replyComment}</div>\r\n                                        </div>:null\r\n                                }\r\n                                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"space-between\",color:\"gray\",\r\n                                    marginTop:\"6px\"}}>\r\n                                    <div>{item.time}</div>\r\n                                    <div style={{display:\"flex\",alignItems:\"center\"}}>\r\n                                        <LikeOutlined/>\r\n                                        {item.likeCount>0?item.likeCount:null}\r\n                                        <div style={{color:\"lightgrey\",marginLeft:\"5px\",marginRight:\"5px\"}}>|</div>\r\n                                        <ShareAltOutlined />\r\n                                        <div style={{color:\"lightgrey\",marginLeft:\"5px\",marginRight:\"5px\"}}>|</div>\r\n                                        <CommentOutlined />\r\n                                    </div>\r\n                                </div>\r\n                                {k!==9? <Divider/>:null}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div style={{width:\"100%\",margin:\"20px\"}}>\r\n                    <Pagination\r\n                        total={this.state.commentsNum}\r\n                        defaultPageSize={10}\r\n                        defaultCurrent={1}\r\n                        onChange={this.switchPage}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Comments","import React from \"react\";\r\nimport {getSongListDetailInfo} from \"../../../../../apis/songListDetailPage\";\r\nimport {ManOutlined,WomanOutlined} from \"@ant-design/icons\"\r\n\r\ninterface Collector{\r\n    id:number,\r\n    name:string,\r\n    img:string,\r\n    signature:string,\r\n    gender:number\r\n}\r\ninterface State{\r\n    id:number,\r\n    collectors:Collector[]\r\n}\r\nclass Collectors extends React.Component<any, any>{\r\n    state:State={\r\n        id:this.props.match.params.id,\r\n        collectors:[]\r\n    }\r\n\r\n    componentDidMount() {\r\n        getSongListDetailInfo(this.state.id).then(res=>{\r\n            for(let person of res.data.playlist.subscribers)\r\n            {\r\n                this.state.collectors.push({\r\n                    id:person.userId,\r\n                    name:person.nickname,\r\n                    img:person.avatarUrl,\r\n                    signature:person.signature,\r\n                    gender:person.gender\r\n                })\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\",display:\"flex\",alignItems:\"center\",flexWrap:\"wrap\"}}>\r\n                {\r\n                    this.state.collectors.map(item=>(\r\n                        <div style={{width:\"28%\",display:\"flex\",alignItems:\"center\",margin:\"30px\"}}>\r\n                            <img src={item.img} style={{width:\"25%\",objectFit:\"cover\",borderRadius:\"50%\"}}/>\r\n                            <div style={{width:\"70%\",marginLeft:\"30px\",display:\"flex\",alignItems:\"center\",flexWrap:\"wrap\"}}>\r\n                                <div style={{width:\"100%\",display:\"flex\"}}>\r\n                                    {item.name}\r\n                                    {item.gender===1?<div style={{color:\"cornflowerblue\"}}><ManOutlined/></div>:null}\r\n                                    {item.gender===2?<div style={{color:\"pink\"}}><WomanOutlined/></div>:null}\r\n                                </div>\r\n                                <div style={{color:\"rgba(0,0,0,0.3)\",textAlign:\"start\"}}>\r\n                                    {item.signature}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Collectors","import React from \"react\";\r\nimport Header from \"./Header/Header\";\r\nimport Songs from \"./Songs/Songs\";\r\nimport Comments from \"./Comments/Comments\";\r\nimport Collectors from \"./Collectors/Collectors\";\r\nimport {withRouter,Route,Redirect} from \"react-router\";\r\nimport {NavMenu} from \"../../common/NavMenu/NavMenu\";\r\nimport {getSongListDetailInfo} from \"../../../../apis/songListDetailPage\";\r\n\r\ninterface State{\r\n    menu:any,\r\n    id:number\r\n}\r\n\r\nclass SongListPage extends React.Component<any, any>{\r\n    state:State={\r\n        menu:[\r\n            {key:\"1\",title:\"歌曲列表\",click:()=>{this.click(\"songs\")}},\r\n            {key:\"2\",title:\"评论\",click:()=>{this.click(\"comments\")}},\r\n            {key:\"3\",title:\"收藏者\",click:()=>{this.click(\"collectors\")}},\r\n        ],\r\n        id:this.props.match.params.id\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\r\n        if(this.state.menu[1].title===\"评论\")\r\n        {\r\n            getSongListDetailInfo(this.state.id).then(res=>{\r\n                const menu=this.state.menu\r\n                menu[1].title=\"评论(\"+res.data.playlist.commentCount+\")\"\r\n                this.forceUpdate()\r\n            })\r\n        }\r\n    }\r\n\r\n    click=(subPage:string)=>{\r\n        this.props.history.push(\"/song-list/\"+subPage+\"/\"+this.state.id)\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\", height:\"80vh\", position:\"relative\",overflowY:\"scroll\",padding:'20px'}}>\r\n                <Header id={this.state.id}/>\r\n                <NavMenu menu={this.state.menu}/>\r\n                <Route path=\"/song-list/songs/:id/:songID?\" component={Songs}/>\r\n                <Route path=\"/song-list/comments/:id\" component={Comments}/>\r\n                <Route path=\"/song-list/collectors/:id\" component={Collectors}/>\r\n                {this.props.location.pathname===\"/song-list/\"+this.state.id?\r\n                    <Redirect to={\"/song-list/songs/\"+this.state.id}/>:null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SongListPage)","import request from \"./request\";\r\n\r\nexport function getAlbumDetail(id:number){\r\n    return request({\r\n        url:\"/album?id=\"+id,\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\nexport function getAlbumComments(id:number,offset:number){\r\n    return request({\r\n        url:\"/comment/album?id=\"+id+\"&offset=\"+offset,\r\n        method:\"get\"\r\n    })\r\n}","import React from \"react\";\r\nimport {getAlbumDetail} from \"../../../../../apis/albumPage\";\r\nimport {DownloadOutlined, HeartOutlined} from \"@ant-design/icons\";\r\nimport {getSongUrl, isSongValid} from \"../../../../../apis/songListDetailPage\";\r\nimport {playMusicOfSongList} from \"../../MainPage\";\r\nimport {playAlbumSong} from \"../../MainPage\";\r\n\r\ninterface Song{\r\n    id:number,\r\n    idx:number,\r\n    title:string,\r\n    alia:string,\r\n    singer:string,\r\n    album:string,\r\n    duration:string\r\n}\r\ninterface State{\r\n    id:number\r\n    songs:Song[]\r\n    selectedRow:number,\r\n    rows:any\r\n}\r\nclass Songs extends React.Component<any, any>{\r\n    state:State={\r\n        id:this.props.match.params.id,\r\n        songs:[],\r\n        selectedRow:this.props.match.params.selectedRow!==undefined?this.props.match.params.selectedRow:-1,\r\n        rows:React.createRef()\r\n    }\r\n\r\n    getDuration=(time:number)=>{\r\n        time=Math.floor(time/1000)\r\n        const min=Math.floor(time/60)\r\n        const sec=time-min*60\r\n        return String(min).padStart(2,\"0\")+\":\"+String(sec).padStart(2,\"0\")\r\n    }\r\n\r\n    playMusic=(id:number,rowIdx:number)=>{\r\n        isSongValid(id).then(()=>{\r\n            getSongUrl(id).then(res=>{\r\n                //选中行改变样式\r\n                if(this.state.selectedRow!==-1)\r\n                {\r\n                    const last=this.state.rows.current.children[this.state.selectedRow]\r\n                    last.style.backgroundColor=(this.state.selectedRow%2===0)?\"rgba(0,0,0,0.05)\":\"white\"\r\n                }\r\n                this.setState(()=>({selectedRow:rowIdx-1}),()=>{\r\n                    const cur=this.state.rows.current.children[this.state.selectedRow]\r\n                    cur.style.backgroundColor=\"rgba(0,0,0,0.15)\"\r\n                })\r\n                //播放\r\n                //playMusicOfSongList.emit(\"play\",id, res.data.data[0].url,this.state.id)\r\n                playAlbumSong.emit(\"play\",id, res.data.data[0].url,this.state.id)\r\n            })\r\n        },()=>{alert(\"暂无播放源\")})\r\n    }\r\n\r\n    componentDidMount() {\r\n        getAlbumDetail(this.state.id).then(res=>{\r\n            let idx=1\r\n            for(let song of res.data.songs)\r\n            {\r\n                this.state.songs.push({\r\n                    id:song.id,\r\n                    idx:idx,\r\n                    title:song.name,\r\n                    alia:song.alia[0]!==undefined?song.alia[0]:'',\r\n                    singer:song.ar[0].name,\r\n                    album:song.al.name,\r\n                    duration:this.getDuration(song.dt)\r\n                })\r\n                idx+=1\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n                <div style={{width:\"100%\"}}>\r\n                    <div style={{width:\"100%\",display:\"flex\",alignItems:\"center\",margin:\"10px 0 10px 0\"}}>\r\n                        <div style={{width:\"10%\"}}/>\r\n                        <div style={{width:\"30%\",display:\"flex\"}}>标题</div>\r\n                        <div style={{width:\"20%\",display:\"flex\"}}>歌手</div>\r\n                        <div style={{width:\"30%\",display:\"flex\"}}>专辑</div>\r\n                        <div style={{width:\"10%\",display:\"flex\"}}>时长</div>\r\n                    </div>\r\n                    <div style={{width:\"100%\",margin:\"10px 0 10px 0\"}} ref={this.state.rows}>\r\n                        {\r\n                            this.state.songs.map((item,idx)=>(\r\n                                <div\r\n                                    className={idx%2===0?\"SongListPageSongsEvenRow\":\"SongListPageSongsOddRow\"}\r\n                                    onClick={()=>{this.playMusic(item.id,item.idx)}}\r\n                                >\r\n                                    <div style={{width:\"2%\",color:\"rgba(0,0,0,0.4)\"}}>{item.idx}</div>\r\n                                    <div style={{width:\"8%\",color:\"rgba(0,0,0,0.4)\",display:\"flex\",\r\n                                        alignItems:\"center\",justifyContent:\"space-evenly\"}}>\r\n                                        <HeartOutlined/>\r\n                                        <DownloadOutlined/>\r\n                                    </div>\r\n                                    <div style={{width:\"30%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                        {item.title}\r\n                                    </div>\r\n                                    <div style={{width:\"20%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                        {item.singer}\r\n                                    </div>\r\n                                    <div style={{width:\"30%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                        {item.album}\r\n                                    </div>\r\n                                    <div style={{width:\"10%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                        {item.duration}\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Songs","import React from \"react\";\r\nimport {getAlbumComments} from \"../../../../../apis/albumPage\";\r\nimport {CommentOutlined, LikeOutlined, ShareAltOutlined} from \"@ant-design/icons\";\r\nimport {Divider, Pagination} from \"antd\";\r\n\r\ninterface Comment{\r\n    user:string,\r\n    avatar:string,\r\n    comment:string,\r\n    time:string,\r\n    likeCount:number,\r\n    replyUser:string,\r\n    replyComment:string\r\n}\r\ninterface State{\r\n    id:number,\r\n    comments:Comment[],\r\n    commentsNum:number,\r\n    curPage:number\r\n}\r\nclass Comments extends React.Component<any, any>{\r\n    state:State={\r\n        id:this.props.match.params.id,\r\n        comments:[],\r\n        commentsNum:0,\r\n        curPage:1\r\n    }\r\n\r\n    getInfo(){\r\n        getAlbumComments(this.state.id,(this.state.curPage-1)*20).then(res=>{\r\n            console.log(res);\r\n            this.setState({commentsNum:res.data.total})\r\n            for(let comment of res.data.comments)\r\n            {\r\n                this.state.comments.push({\r\n                    user:comment.user.nickname,\r\n                    avatar:comment.user.avatarUrl,\r\n                    comment:comment.content,\r\n                    time:comment.timeStr,\r\n                    likeCount:comment.likeCount,\r\n                    replyUser:(comment.beReplied[0]!==undefined)?comment.beReplied[0].user.nickname:\" \",\r\n                    replyComment:(comment.beReplied[0]!==undefined)?comment.beReplied[0].content:\" \"\r\n                })\r\n            }\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    switchPage=(targetPage:number)=>{\r\n        this.setState(()=>({curPage:targetPage,comments:[]}),()=>{this.getInfo()})\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\",display:\"flex\",flexWrap:\"wrap\"}}>\r\n                {\r\n                    this.state.comments.map((item,k)=>(\r\n                        <div style={{width:\"100%\",margin:\"30px\",display:\"flex\"}}>\r\n                            <img\r\n                                src={item.avatar}\r\n                                alt=\"\"\r\n                                style={{width:\"30px\",height:\"30px\",objectFit:\"cover\",borderRadius:\"50%\",margin:\"10px\"}}\r\n                            />\r\n                            <div style={{width:\"100%\"}}>\r\n                                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"flex-start\", flexWrap:\"wrap\",\r\n                                    marginBottom:\"6px\"}}>\r\n                                    <div style={{color:\"cornflowerblue\"}}>{item.user}:</div>\r\n                                    <div style={{textAlign:\"start\"}}>{item.comment}</div>\r\n                                </div>\r\n                                {\r\n                                    item.replyUser!==\" \"?\r\n                                        <div style={{width:\"100%\",display:\"flex\", justifyContent:\"flex-start\",\r\n                                            flexWrap:\"wrap\",backgroundColor:\"rgba(0,0,0,0.05)\",borderRadius:\"6px\",\r\n                                            padding:\"6px\"\r\n                                        }}>\r\n                                            <div style={{color:\"cornflowerblue\"}}>@{item.replyUser}:</div>\r\n                                            <div style={{textAlign:\"start\"}}>{item.replyComment}</div>\r\n                                        </div>:null\r\n                                }\r\n                                <div style={{width:\"100%\",display:\"flex\",justifyContent:\"space-between\",color:\"gray\",\r\n                                    marginTop:\"6px\"}}>\r\n                                    <div>{item.time}</div>\r\n                                    <div style={{display:\"flex\",alignItems:\"center\"}}>\r\n                                        <LikeOutlined/>\r\n                                        {item.likeCount>0?item.likeCount:null}\r\n                                        <div style={{color:\"lightgrey\",marginLeft:\"5px\",marginRight:\"5px\"}}>|</div>\r\n                                        <ShareAltOutlined />\r\n                                        <div style={{color:\"lightgrey\",marginLeft:\"5px\",marginRight:\"5px\"}}>|</div>\r\n                                        <CommentOutlined />\r\n                                    </div>\r\n                                </div>\r\n                                {k!==9? <Divider/>:null}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div style={{width:\"100%\",margin:\"20px\"}}>\r\n                    <Pagination\r\n                        total={this.state.commentsNum}\r\n                        defaultPageSize={10}\r\n                        defaultCurrent={1}\r\n                        onChange={this.switchPage}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Comments","import React from \"react\";\r\nimport {getAlbumDetail} from \"../../../../../apis/albumPage\";\r\n\r\ninterface State{\r\n    id:number,\r\n    description:string\r\n}\r\nclass Descriptions extends React.Component<any, any>{\r\n    state:State={\r\n        id:this.props.match.params.id,\r\n        description:''\r\n    }\r\n\r\n    componentDidMount() {\r\n        getAlbumDetail(this.state.id).then(res=>{\r\n            console.log(res);\r\n            this.setState({description:res.data.album.description})\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\",textAlign:\"start\"}}>\r\n                {this.state.description}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Descriptions","import React from \"react\";\r\nimport {PlayCircleFilled, PlusOutlined, FileAddOutlined, ShareAltOutlined,\r\n    DownloadOutlined, CaretDownOutlined, CaretUpOutlined } from \"@ant-design/icons\";\r\nimport {getAlbumDetail} from \"../../../../../apis/albumPage\";\r\nimport './Header.css'\r\n\r\ninterface State{\r\n    id:number,\r\n    imgUrl:string,\r\n    title:string,\r\n    singer:string,\r\n    createTime:string,\r\n    subscribeCount:number,\r\n    shareCount:number\r\n}\r\nclass Header extends React.Component<any, any>{\r\n    state:State={\r\n        id:this.props.id,\r\n        imgUrl:\"\",\r\n        title:\"\",\r\n        singer:\"\",\r\n        createTime:\"\",\r\n        subscribeCount:0,\r\n        shareCount:0\r\n    }\r\n\r\n    componentDidMount() {\r\n        getAlbumDetail(this.state.id).then(res=>{\r\n            const data=res.data.album\r\n            this.setState(()=>({\r\n                imgUrl:data.picUrl,\r\n                title:data.name,\r\n                singer:data.artist.name,\r\n                createTime:this.getCreateTime(data.publishTime),\r\n                subscribeCount:data.info.likedCount,\r\n                shareCount:data.info.shareCount\r\n            }),()=>{this.forceUpdate()})\r\n        })\r\n    }\r\n\r\n    getCreateTime=(time:number)=>{\r\n        const Time=new Date(time)\r\n        return Time.getFullYear()+\"年\"+Time.getMonth()+\"月\"+Time.getDate()+\"日\"\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\",display:\"flex\",alignItems:\"flex-start\"}}>\r\n                <img src={this.state.imgUrl} style={{width:\"20%\",objectFit:\"cover\",borderRadius:\"6px\",marginRight:\"10px\"}} alt=\"\"/>\r\n                <div style={{width:\"68%\"}}>\r\n                    <div className=\"albumPageHeaderRow\">\r\n                        <div style={{padding:\"0 5px 0 5px\", color:\"rgb(201,38,32)\",marginRight:\"6px\",\r\n                            border:\"rgb(201,38,32) solid 0.05px\",borderRadius:\"3px\"}}>\r\n                            专辑\r\n                        </div>\r\n                        <div style={{fontSize:\"25px\",fontWeight:\"bolder\"}}>{this.state.title}</div>\r\n                    </div>\r\n                    <div className=\"songListPageHeaderRow\">\r\n                        <div className=\"songListPageHeaderButtonSelected\">\r\n                            <PlayCircleFilled/>\r\n                            播放全部\r\n                            <PlusOutlined/>\r\n                        </div>\r\n                        <div className=\"songListPageHeaderButton\">\r\n                            <FileAddOutlined/>\r\n                            收藏({this.state.subscribeCount})\r\n                        </div>\r\n                        <div className=\"songListPageHeaderButton\">\r\n                            <ShareAltOutlined/>\r\n                            分享({this.state.shareCount})\r\n                        </div>\r\n                        <div className=\"songListPageHeaderButton\">\r\n                            <DownloadOutlined/>\r\n                            下载全部\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"albumPageHeaderRow\">\r\n                        歌手：\r\n                        <div style={{color:\"cornflowerblue\",margin:\"0 10px 0 3px\"}}>{this.state.singer}</div>\r\n                    </div>\r\n                    <div className=\"albumPageHeaderRow\">\r\n                        创建时间：\r\n                        <div style={{color:\"cornflowerblue\",margin:\"0 10px 0 3px\"}}>{this.state.createTime}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {NavMenu} from \"../../common/NavMenu/NavMenu\";\r\nimport Songs from \"./Songs/Songs\";\r\nimport Comments from \"./Comments/Comments\";\r\nimport Description from \"./Description/Description\";\r\nimport {getAlbumDetail} from \"../../../../apis/albumPage\";\r\nimport Header from \"./Header/Header\";\r\nimport {Redirect, Route} from \"react-router\";\r\n\r\ninterface State{\r\n    menu:any,\r\n    id:number\r\n}\r\n\r\nclass AlbumPage extends React.Component<any, any>{\r\n    state:State={\r\n        menu:[\r\n            {key:\"1\",title:\"歌曲列表\",click:()=>{this.click(\"songs\")}},\r\n            {key:\"2\",title:\"评论\",click:()=>{this.click(\"comments\")}},\r\n            {key:\"3\",title:\"专辑详情\",click:()=>{this.click(\"description\")}},\r\n        ],\r\n        id:this.props.match.params.id\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\r\n        if(this.state.menu[1].title===\"评论\")\r\n        {\r\n            getAlbumDetail(this.state.id).then(res=>{\r\n                const menu=this.state.menu\r\n                menu[1].title=\"评论(\"+res.data.album.info.commentCount+\")\"\r\n                this.forceUpdate()\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        //getAlbumDetail(this.state.id).then(res=>{console.log(res);})\r\n    }\r\n\r\n    click=(subPage:string)=>{\r\n        this.props.history.push(\"/album/\"+subPage+\"/\"+this.state.id)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\", height:\"80vh\", position:\"relative\",overflowY:\"scroll\",padding:'20px'}}>\r\n                <Header id={this.state.id}/>\r\n                <NavMenu menu={this.state.menu}/>\r\n                <Route path=\"/album/songs/:id/:songID?\" component={Songs}/>\r\n                <Route path=\"/album/comments/:id\" component={Comments}/>\r\n                <Route path=\"/album/description/:id\" component={Description}/>\r\n                {this.props.location.pathname===\"/album/\"+this.state.id?\r\n                    <Redirect to={\"/album/songs/\"+this.state.id}/>:null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(AlbumPage)\r\n","export default __webpack_public_path__ + \"static/media/BG.c278384a.svg\";","export default __webpack_public_path__ + \"static/media/login.40ddfedb.svg\";","export default __webpack_public_path__ + \"static/media/title.feeace5f.svg\";","import React from \"react\";\r\nimport {Button, Input, Tooltip,Checkbox} from \"antd\";\r\nimport {UserOutlined,EyeTwoTone,EyeInvisibleOutlined,CloseOutlined} from '@ant-design/icons';\r\nimport {getValid,loginByValid,logout,loginByPassword} from \"../../../../apis/LoginPage\";\r\nimport {loginEvent} from \"../MainPage\";\r\nimport {isLogin} from \"../MainPage\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport './Login.css'\r\nimport BG from \"../../../../assets/BG.svg\"\r\nimport icon from \"../../../../assets/login.svg\"\r\nimport icon1 from \"../../../../assets/title.svg\"\r\n\r\n//const BG=require(\"../../../../assets/BG.jpg\")\r\ninterface State{\r\n    phone:string,\r\n    valid:string,\r\n    password:string,\r\n    byValid:boolean,\r\n    isAgree:boolean,\r\n    sendValid:boolean,\r\n    resetPhoneRef:any,\r\n    resetValidRef:any,\r\n    resetPassRef:any\r\n}\r\nclass Login extends React.Component<any, any>{\r\n    state:State={\r\n        phone:\"\",\r\n        valid:\"\",\r\n        password:\"\",\r\n        byValid:true,\r\n        isAgree:false,\r\n        sendValid:false,\r\n        resetPhoneRef:React.createRef(),\r\n        resetValidRef:React.createRef(),\r\n        resetPassRef:React.createRef()\r\n    }\r\n\r\n    getValidCode=()=>{\r\n        getValid(this.state.phone).then(res=>{\r\n            if(res.data.code===200)\r\n            {\r\n                this.setState(()=>({sendValid:true}),\r\n                            ()=>{setTimeout(()=>{this.setState({sendValid:false})},60*1000)})\r\n                alert(\"验证码已发送，1分钟后可重新获取\")\r\n            }\r\n            else {alert(\"验证码发送失败，请重试\")}\r\n        })\r\n    }\r\n\r\n    storeAccount=(res:any)=>{\r\n        window.localStorage.setItem(\"id\",res.data.account.id)\r\n        window.localStorage.setItem(\"token\",res.data.token)\r\n        window.localStorage.setItem(\"cookie\",encodeURIComponent(res.data.cookie))\r\n    }\r\n\r\n    submit=()=>{\r\n        if(isLogin){alert(\"当前账号已登录，请确认输入的账号是否正确\")}\r\n        /*logout().then(res=>{\r\n            if(res.data.code===200)\r\n            {\r\n                console.log(\"log out\");\r\n                window.localStorage.removeItem(\"id\")\r\n                window.localStorage.removeItem(\"cookie\")\r\n                window.localStorage.removeItem(\"token\")\r\n            }\r\n        })*/\r\n        if(this.state.phone.length<11){alert(\"请正确填写手机号码\")}\r\n        if(!this.state.isAgree){alert(\"请同意相关服务条款\")}\r\n        if(this.state.byValid)\r\n        {\r\n            if(this.state.valid.length===0){alert(\"请填写验证码\")}\r\n            if(this.state.phone.length===11 && this.state.valid.length>0 && this.state.isAgree)\r\n            {\r\n                loginByValid(this.state.phone,this.state.valid).then(res=>{\r\n                    if(res.data.code===200)\r\n                    {\r\n                        console.log(res);\r\n                        loginEvent.emit(\"login\")\r\n                        this.props.history.push(\"/user\")\r\n                    }\r\n                    else {alert(\"登录失败，请重试\")}\r\n                },()=>{alert(\"登录失败，请重试\")})\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if(this.state.password.length===0){alert(\"请填写密码\")}\r\n            if(this.state.phone.length===11 && this.state.password.length>0 && this.state.isAgree)\r\n            {\r\n                loginByPassword(this.state.phone,this.state.password).then(res=>{\r\n                    console.log(res);\r\n                    if(res.data.code===200)\r\n                    {\r\n                        this.storeAccount(res)\r\n                        loginEvent.emit(\"login\")\r\n                        this.props.history.push(\"/user\")\r\n                    }\r\n                    else {alert(\"登录失败，请重试\")}\r\n                },()=>{alert(\"登录失败，请重试\")})\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:'100%',display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <img src={BG} width=\"100%\" height=\"100%\" style={{zIndex:'-100',position:'absolute',left:0,top:0}}/>\r\n                <div style={{width:'30%',padding:\"50px\",backgroundColor:\"rgba(0,0,0,0.1)\",borderRadius:\"20px\"}}>\r\n                    <div style={{display:\"flex\",justifyContent:\"space-between\"}}>\r\n                        <div style={{width:\"60%\",display:\"flex\",alignItems:\"center\"}}>\r\n                            <img src={icon} style={{width:\"50%\",objectFit:\"cover\"}}/>\r\n                            <img src={icon1} style={{width:\"50%\",objectFit:\"cover\"}}/>\r\n                        </div>\r\n                        <div id=\"loginBack\" onClick={()=>{this.props.history.push(\"/user\")}}>\r\n                            <Tooltip title=\"回到主页\">\r\n                                <CloseOutlined/>\r\n                            </Tooltip>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{margin:\"10px 0 10px 0\",display:\"flex\",alignItems:\"center\"}}>\r\n                        <Input\r\n                            placeholder=\"请输入手机号码\"\r\n                            prefix={<UserOutlined />}\r\n                            onChange={(event)=>{this.setState({phone:event.target.value})}}\r\n                            value={this.state.phone}\r\n                        />\r\n                        <div ref={this.state.resetPhoneRef}>\r\n                            <Tooltip title=\"重置手机号码\">\r\n                                <Button\r\n                                    icon={<CloseOutlined />}\r\n                                    onClick={()=>{this.setState({phone:\"\"})}}\r\n                                    disabled={this.state.phone.length===0}\r\n                                />\r\n                            </Tooltip>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            this.state.byValid?\r\n                                <div style={{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\"}}>\r\n                                    <div style={{display:\"flex\",alignItems:\"center\",width:\"60%\"}}>\r\n                                        <Input.Password\r\n                                            placeholder=\"请输入验证码\"\r\n                                            iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\r\n                                            onChange={(e)=>{this.setState({valid:e.target.value})}}\r\n                                            value={this.state.valid}\r\n                                        />\r\n                                        <div ref={this.state.resetValidRef}>\r\n                                            <Tooltip title=\"重置验证码\">\r\n                                                <Button\r\n                                                    icon={<CloseOutlined />}\r\n                                                    onClick={()=>{this.setState({valid:\"\"})}}\r\n                                                    disabled={this.state.valid.length===0}\r\n                                                />\r\n                                            </Tooltip>\r\n                                        </div>\r\n                                    </div>\r\n                                    {\r\n                                        !this.state.sendValid?\r\n                                            <Button onClick={this.getValidCode}>获取验证码</Button>:\r\n                                            <Button disabled={true}>验证码已发送</Button>\r\n                                    }\r\n                                </div>\r\n                                :\r\n                                <div style={{display:\"flex\",alignItems:\"center\"}}>\r\n                                    <Input.Password\r\n                                        placeholder=\"请输入密码\"\r\n                                        iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\r\n                                        onChange={(e)=>{this.setState({password:e.target.value})}}\r\n                                        value={this.state.password}\r\n                                    />\r\n                                    <div ref={this.state.resetPassRef}>\r\n                                        <Tooltip title=\"重置密码\">\r\n                                            <Button\r\n                                                icon={<CloseOutlined />}\r\n                                                onClick={()=>{this.setState({password:\"\"})}}\r\n                                                disabled={this.state.password.length===0}\r\n                                            />\r\n                                        </Tooltip>\r\n                                    </div>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                    <div style={{margin:\"10px 0 10px 0\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"}}>\r\n                        {\r\n                            this.state.byValid?\r\n                                <div\r\n                                    onClick={()=>{this.setState({byValid:false})}}\r\n                                    style={{textAlign:\"start\",fontSize:\"small\",color:\" rgba(0,0,0,0.6)\",cursor:\"pointer\"}}\r\n                                >\r\n                                    密码登录\r\n                                </div>:\r\n                                <div\r\n                                    onClick={()=>{this.setState({byValid:true})}}\r\n                                    style={{textAlign:\"start\",fontSize:\"small\",color:\" rgba(0,0,0,0.6)\",cursor:\"pointer\"}}\r\n                                >\r\n                                    验证码登录\r\n                                </div>\r\n                        }\r\n                        <Checkbox onChange={()=>{this.setState({isAgree:!this.state.isAgree})}}>\r\n                            <div style={{fontSize:\"small\",color:\" rgba(0,0,0,0.6)\"}}>同意相关服务条款</div>\r\n                        </Checkbox>\r\n                    </div>\r\n                    <div\r\n                        onClick={this.submit}\r\n                        id=\"login\"\r\n                    >\r\n                        提              交\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Login)","import React from \"react\";\r\nimport {getUserSongList} from \"../../../../apis/LoginPage\";\r\nimport {getSongUrl, isSongValid} from \"../../../../apis/songListDetailPage\";\r\nimport './PlayHistoryPage.css'\r\nimport {replayEvent} from \"../MainPage\";\r\nimport {Tooltip} from \"antd\";\r\n\r\ninterface Song{\r\n    id:number,\r\n    idx:number,\r\n    name:string,\r\n    singer:string,\r\n    album:string,\r\n    duration:string\r\n}\r\ninterface State{\r\n    songs:Song[],\r\n    selectedRow:number,\r\n    rows:any\r\n}\r\nclass PlayHistoryPage extends React.Component<any, any>{\r\n    state:State={\r\n        songs:[],\r\n        selectedRow:-1,\r\n        rows:React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(window.localStorage.getItem(\"id\")!==null)\r\n        {\r\n            getUserSongList(window.localStorage.getItem(\"id\")).then(res=>{\r\n                console.log(\"play history\",res);\r\n                let song\r\n                let idx=1\r\n                for(let item of res.data.allData)\r\n                {\r\n                    song=item.song\r\n                    this.state.songs.push({\r\n                        id:song.id,\r\n                        idx:idx,\r\n                        name:song.name,\r\n                        singer:song.ar[0].name,\r\n                        album:song.al.name,\r\n                        duration:this.getDuration(song.dt)\r\n                    })\r\n                    idx+=1\r\n                }\r\n                console.log(this.state.songs);\r\n                this.forceUpdate()\r\n            })\r\n        }\r\n    }\r\n\r\n    getDuration=(time:number)=>{\r\n        time=Math.floor(time/1000)\r\n        const min=Math.floor(time/60)\r\n        const sec=time-min*60\r\n        return String(min).padStart(2,\"0\")+\":\"+String(sec).padStart(2,\"0\")\r\n    }\r\n\r\n    playMusic=(id:number,idx:number)=>{\r\n        isSongValid(id).then(()=>{\r\n            getSongUrl(id).then(res=>{\r\n                //选中行改变样式\r\n                if(this.state.selectedRow!==-1)\r\n                {\r\n                    const last=this.state.rows.current.children[this.state.selectedRow]\r\n                    last.style.backgroundColor=(this.state.selectedRow%2===0)?\"rgba(0,0,0,0.05)\":\"white\"\r\n                }\r\n                this.setState(()=>({selectedRow:idx}),()=>{\r\n                    const cur=this.state.rows.current.children[this.state.selectedRow]\r\n                    cur.style.backgroundColor=\"rgba(0,0,0,0.15)\"\r\n                })\r\n                //播放\r\n                replayEvent.emit(\"play\",id,res.data.data[0].url)\r\n            })\r\n        },()=>{alert(\"暂无播放源\")})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width:\"100%\", height:\"80vh\", position:\"relative\",overflowY:\"scroll\",padding:'20px'}}>\r\n                <div style={{fontSize:\"20px\", fontWeight:\"bolder\", width:\"100%\", display:\"flex\",marginBottom:\"20px\"}}>\r\n                    最近播放\r\n                </div>\r\n                <div style={{width:\"100%\",display:\"flex\",alignItems:\"center\"}}>\r\n                    <div style={{width:\"3%\",textAlign:\"start\",marginLeft:\"5px\",color:\"dimgray\"}}/>\r\n                    <div style={{width:\"35%\",textAlign:\"start\",color:\"dimgray\"}}>音乐标题</div>\r\n                    <div style={{width:\"20%\",textAlign:\"start\",color:\"dimgray\"}}>歌手</div>\r\n                    <div style={{width:\"35%\",textAlign:\"start\",color:\"dimgray\"}}>专辑</div>\r\n                    <div style={{width:\"7%\",textAlign:\"start\",color:\"dimgray\"}}>时长</div>\r\n                </div>\r\n                <div ref={this.state.rows} style={{width:\"100%\"}}>\r\n                    {\r\n                        this.state.songs.map((item,idx)=>(\r\n                            <div\r\n                                className={idx%2===0?\"PlayHistoryPageSongsEvenRow\":\"PlayHistoryPageSongsOddRow\"}\r\n                                onClick={()=>{this.playMusic(item.id,idx)}}\r\n                            >\r\n                                <div style={{width:\"3%\",color:\"dimgray\",display:\"flex\",marginLeft:\"5px\"}}>\r\n                                    {item.idx}\r\n                                </div>\r\n                                <Tooltip title={item.name}>\r\n                                    <div style={{width:\"35%\",color:\"dimgray\",display:\"flex\"}}  className=\"emit\">\r\n                                        {item.name}\r\n                                    </div>\r\n                                </Tooltip>\r\n                                <Tooltip title={item.singer}>\r\n                                    <div style={{width:\"20%\",color:\"dimgray\",display:\"flex\"}}  className=\"emit\">\r\n                                        {item.singer}\r\n                                    </div>\r\n                                </Tooltip>\r\n                                <Tooltip title={item.album}>\r\n                                    <div style={{width:\"35%\",color:\"dimgray\",display:\"flex\"}}  className=\"emit\">\r\n                                        {item.album}\r\n                                    </div>\r\n                                </Tooltip>\r\n                                <div style={{width:\"7%\",color:\"dimgray\",display:\"flex\"}}>\r\n                                    {item.duration}\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PlayHistoryPage","import React from \"react\";\r\nimport NavBar from \"../common/NavBar/NavBar\";\r\nimport SideBar from \"../common/SideBar/SideBar\";\r\nimport PlayBar from \"../common/PlayBar/PlayBar\";\r\nimport UserPage from \"./UserPage/UserPage\";\r\nimport SearchPage from \"./SearchPage/SearchPage\";\r\nimport DetailPage from \"./DetailPage/DetailPage\";\r\nimport SongListPage from \"./SongListPage/SongListPage\";\r\nimport AlbumPage from \"./AlbumPage/AlbumPage\";\r\nimport Login from \"./LoginPage/Login\";\r\nimport PlayHistoryPage from \"./PlayHistoryPage/PlayHistoryPage\";\r\nimport EventEmitter from \"events\";\r\nimport './MainPage.css'\r\n//import {Router} from \"react-router\";\r\nimport {BrowserRouter, Route, Redirect, Switch, withRouter} from \"react-router-dom\";\r\n\r\nconst playMusicEvent=new EventEmitter()\r\nconst playWithLyrics=new EventEmitter()\r\nconst playMusicOfSongList=new EventEmitter()\r\nconst playSingleSong=new EventEmitter()\r\nconst playAlbumSong=new EventEmitter()\r\nconst loginEvent=new EventEmitter()\r\nconst replayEvent=new EventEmitter()\r\n\r\nclass User extends React.Component<any, any>{\r\n    render() {\r\n        return (\r\n            <>\r\n                <SideBar/>\r\n                <div id=\"content\">\r\n                    <UserPage/>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nclass Search extends React.Component<any, any>{\r\n    render() {\r\n        return (\r\n            <>\r\n                <SideBar/>\r\n                <div id=\"content\">\r\n                    <SearchPage playMusicEvent={playMusicEvent} />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nclass Detail extends React.Component<any, any>{\r\n    render() {\r\n        return (\r\n            <DetailPage  playWithLyricsEvent={playWithLyrics}/>\r\n        )\r\n    }\r\n}\r\nclass SongList extends React.Component<any, any>{\r\n    render() {\r\n        return (\r\n            <>\r\n                <SideBar/>\r\n                <div id=\"content\">\r\n                    <SongListPage playSongListEvent={playMusicOfSongList} />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nclass Album extends React.Component<any, any>{\r\n    render() {\r\n        return (\r\n            <>\r\n                <SideBar/>\r\n                <div id=\"content\">\r\n                    <AlbumPage />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nclass PlayHistory extends React.Component<any, any>{\r\n    render() {\r\n        return (\r\n            <>\r\n                <SideBar/>\r\n                <div id=\"content\">\r\n                    <PlayHistoryPage />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nlet isLogin=(window.localStorage.getItem(\"id\")!==null)\r\n\r\nclass MainPage extends React.Component<any, any>{\r\n    componentDidMount() {\r\n        loginEvent.addListener(\"login\",()=>{isLogin=true})\r\n        loginEvent.addListener(\"logout\",()=>{isLogin=false})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <BrowserRouter>\r\n                <div id=\"root\">\r\n\r\n                    <div id=\"top\">\r\n                        <NavBar  />\r\n                    </div>\r\n                    <div id=\"center\">\r\n                        <Switch>\r\n                            <Route path=\"/user\" component={User}/>\r\n                            <Route path=\"/search/:keyword/:selectedRow?\" component={Search}/>\r\n                            <Route path=\"/detail/:id/:keyword\" component={Detail}/>\r\n                            <Route path=\"/song-list/:id\" component={SongList}/>\r\n                            <Route path=\"/album/:id\" component={Album}/>\r\n                            <Route path=\"/login\" component={Login}/>\r\n                            <Route path=\"/play-history\" component={PlayHistory}/>\r\n                            <Redirect to=\"/user\"/>\r\n                        </Switch>\r\n                    </div>\r\n                    <div id=\"bottom\">\r\n                        <PlayBar\r\n                                    playMusicEvent={playMusicEvent}\r\n                                    playWithLyricsEvent={playWithLyrics}\r\n                                    playSongListEvent={playMusicOfSongList}\r\n                                    playSingleSongEvent={playSingleSong}\r\n                                    playAlbumSongEvent={playAlbumSong}\r\n                                    replayEvent={replayEvent}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </BrowserRouter>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MainPage)\r\nexport {playMusicOfSongList,playSingleSong,playMusicEvent,playAlbumSong,isLogin,loginEvent,replayEvent}","import React from 'react';\r\nimport './App.css';\r\nimport MainPage from \"./view/components/MainPage/MainPage\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\nfunction App() {\r\n  return (\r\n      <BrowserRouter>\r\n          <div className=\"App\">\r\n              <MainPage/>\r\n          </div>\r\n      </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}